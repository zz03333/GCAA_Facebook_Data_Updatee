(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var ug={exports:{}},Ll={};var zv;function fS(){if(zv)return Ll;zv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:s,key:c,ref:r!==void 0?r:null,props:o}}return Ll.Fragment=t,Ll.jsx=e,Ll.jsxs=e,Ll}var Lv;function dS(){return Lv||(Lv=1,ug.exports=fS()),ug.exports}var E=dS(),hg={exports:{}},xt={};var jv;function gS(){if(jv)return xt;jv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function U(B,J,at){this.props=B,this.context=J,this.refs=N,this.updater=at||w}U.prototype.isReactComponent={},U.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},U.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=U.prototype;function K(B,J,at){this.props=B,this.context=J,this.refs=N,this.updater=at||w}var Q=K.prototype=new k;Q.constructor=K,A(Q,U.prototype),Q.isPureReactComponent=!0;var et=Array.isArray;function X(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function O(B,J,at){var ut=at.ref;return{$$typeof:n,type:B,key:J,ref:ut!==void 0?ut:null,props:at}}function V(B,J){return O(B.type,J,B.props)}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function j(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(at){return J[at]})}var z=/\/+/g;function Zt(B,J){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):J.toString(36)}function Rt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(X,X):(B.status="pending",B.then(function(J){B.status==="pending"&&(B.status="fulfilled",B.value=J)},function(J){B.status==="pending"&&(B.status="rejected",B.reason=J)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,J,at,ut,yt){var Tt=typeof B;(Tt==="undefined"||Tt==="boolean")&&(B=null);var jt=!1;if(B===null)jt=!0;else switch(Tt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(B.$$typeof){case n:case t:jt=!0;break;case _:return jt=B._init,$(jt(B._payload),J,at,ut,yt)}}if(jt)return yt=yt(B),jt=ut===""?"."+Zt(B,0):ut,et(yt)?(at="",jt!=null&&(at=jt.replace(z,"$&/")+"/"),$(yt,J,at,"",function(gi){return gi})):yt!=null&&(I(yt)&&(yt=V(yt,at+(yt.key==null||B&&B.key===yt.key?"":(""+yt.key).replace(z,"$&/")+"/")+jt)),J.push(yt)),1;jt=0;var Ge=ut===""?".":ut+":";if(et(B))for(var de=0;de<B.length;de++)ut=B[de],Tt=Ge+Zt(ut,de),jt+=$(ut,J,at,Tt,yt);else if(de=S(B),typeof de=="function")for(B=de.call(B),de=0;!(ut=B.next()).done;)ut=ut.value,Tt=Ge+Zt(ut,de++),jt+=$(ut,J,at,Tt,yt);else if(Tt==="object"){if(typeof B.then=="function")return $(Rt(B),J,at,ut,yt);throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return jt}function rt(B,J,at){if(B==null)return B;var ut=[],yt=0;return $(B,ut,"","",function(Tt){return J.call(at,Tt,yt++)}),ut}function pt(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(at){(B._status===0||B._status===-1)&&(B._status=1,B._result=at)},function(at){(B._status===0||B._status===-1)&&(B._status=2,B._result=at)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var Nt=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Ot={map:rt,forEach:function(B,J,at){rt(B,function(){J.apply(this,arguments)},at)},count:function(B){var J=0;return rt(B,function(){J++}),J},toArray:function(B){return rt(B,function(J){return J})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return xt.Activity=v,xt.Children=Ot,xt.Component=U,xt.Fragment=e,xt.Profiler=r,xt.PureComponent=K,xt.StrictMode=s,xt.Suspense=f,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,xt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return D.H.useMemoCache(B)}},xt.cache=function(B){return function(){return B.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(B,J,at){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ut=A({},B.props),yt=B.key;if(J!=null)for(Tt in J.key!==void 0&&(yt=""+J.key),J)!R.call(J,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&J.ref===void 0||(ut[Tt]=J[Tt]);var Tt=arguments.length-2;if(Tt===1)ut.children=at;else if(1<Tt){for(var jt=Array(Tt),Ge=0;Ge<Tt;Ge++)jt[Ge]=arguments[Ge+2];ut.children=jt}return O(B.type,yt,ut)},xt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},xt.createElement=function(B,J,at){var ut,yt={},Tt=null;if(J!=null)for(ut in J.key!==void 0&&(Tt=""+J.key),J)R.call(J,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(yt[ut]=J[ut]);var jt=arguments.length-2;if(jt===1)yt.children=at;else if(1<jt){for(var Ge=Array(jt),de=0;de<jt;de++)Ge[de]=arguments[de+2];yt.children=Ge}if(B&&B.defaultProps)for(ut in jt=B.defaultProps,jt)yt[ut]===void 0&&(yt[ut]=jt[ut]);return O(B,Tt,yt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(B){return{$$typeof:h,render:B}},xt.isValidElement=I,xt.lazy=function(B){return{$$typeof:_,_payload:{_status:-1,_result:B},_init:pt}},xt.memo=function(B,J){return{$$typeof:g,type:B,compare:J===void 0?null:J}},xt.startTransition=function(B){var J=D.T,at={};D.T=at;try{var ut=B(),yt=D.S;yt!==null&&yt(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(X,Nt)}catch(Tt){Nt(Tt)}finally{J!==null&&at.types!==null&&(J.types=at.types),D.T=J}},xt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},xt.use=function(B){return D.H.use(B)},xt.useActionState=function(B,J,at){return D.H.useActionState(B,J,at)},xt.useCallback=function(B,J){return D.H.useCallback(B,J)},xt.useContext=function(B){return D.H.useContext(B)},xt.useDebugValue=function(){},xt.useDeferredValue=function(B,J){return D.H.useDeferredValue(B,J)},xt.useEffect=function(B,J){return D.H.useEffect(B,J)},xt.useEffectEvent=function(B){return D.H.useEffectEvent(B)},xt.useId=function(){return D.H.useId()},xt.useImperativeHandle=function(B,J,at){return D.H.useImperativeHandle(B,J,at)},xt.useInsertionEffect=function(B,J){return D.H.useInsertionEffect(B,J)},xt.useLayoutEffect=function(B,J){return D.H.useLayoutEffect(B,J)},xt.useMemo=function(B,J){return D.H.useMemo(B,J)},xt.useOptimistic=function(B,J){return D.H.useOptimistic(B,J)},xt.useReducer=function(B,J,at){return D.H.useReducer(B,J,at)},xt.useRef=function(B){return D.H.useRef(B)},xt.useState=function(B){return D.H.useState(B)},xt.useSyncExternalStore=function(B,J,at){return D.H.useSyncExternalStore(B,J,at)},xt.useTransition=function(){return D.H.useTransition()},xt.version="19.2.3",xt}var Pv;function ym(){return Pv||(Pv=1,hg.exports=gS()),hg.exports}var mt=ym(),fg={exports:{}},jl={},dg={exports:{}},gg={};var Bv;function mS(){return Bv||(Bv=1,(function(n){function t($,rt){var pt=$.length;$.push(rt);t:for(;0<pt;){var Nt=pt-1>>>1,Ot=$[Nt];if(0<r(Ot,rt))$[Nt]=rt,$[pt]=Ot,pt=Nt;else break t}}function e($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var rt=$[0],pt=$.pop();if(pt!==rt){$[0]=pt;t:for(var Nt=0,Ot=$.length,B=Ot>>>1;Nt<B;){var J=2*(Nt+1)-1,at=$[J],ut=J+1,yt=$[ut];if(0>r(at,pt))ut<Ot&&0>r(yt,at)?($[Nt]=yt,$[ut]=pt,Nt=ut):($[Nt]=at,$[J]=pt,Nt=J);else if(ut<Ot&&0>r(yt,pt))$[Nt]=yt,$[ut]=pt,Nt=ut;else break t}}return rt}function r($,rt){var pt=$.sortIndex-rt.sortIndex;return pt!==0?pt:$.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,v=null,x=3,S=!1,w=!1,A=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Q($){for(var rt=e(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=$)s(g),rt.sortIndex=rt.expirationTime,t(f,rt);else break;rt=e(g)}}function et($){if(A=!1,Q($),!w)if(e(f)!==null)w=!0,X||(X=!0,j());else{var rt=e(g);rt!==null&&Rt(et,rt.startTime-$)}}var X=!1,D=-1,R=5,O=-1;function V(){return N?!0:!(n.unstable_now()-O<R)}function I(){if(N=!1,X){var $=n.unstable_now();O=$;var rt=!0;try{t:{w=!1,A&&(A=!1,k(D),D=-1),S=!0;var pt=x;try{e:{for(Q($),v=e(f);v!==null&&!(v.expirationTime>$&&V());){var Nt=v.callback;if(typeof Nt=="function"){v.callback=null,x=v.priorityLevel;var Ot=Nt(v.expirationTime<=$);if($=n.unstable_now(),typeof Ot=="function"){v.callback=Ot,Q($),rt=!0;break e}v===e(f)&&s(f),Q($)}else s(f);v=e(f)}if(v!==null)rt=!0;else{var B=e(g);B!==null&&Rt(et,B.startTime-$),rt=!1}}break t}finally{v=null,x=pt,S=!1}rt=void 0}}finally{rt?j():X=!1}}}var j;if(typeof K=="function")j=function(){K(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Zt=z.port2;z.port1.onmessage=I,j=function(){Zt.postMessage(null)}}else j=function(){U(I,0)};function Rt($,rt){D=U(function(){$(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function($){switch(x){case 1:case 2:case 3:var rt=3;break;default:rt=x}var pt=x;x=rt;try{return $()}finally{x=pt}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function($,rt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pt=x;x=$;try{return rt()}finally{x=pt}},n.unstable_scheduleCallback=function($,rt,pt){var Nt=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Nt+pt:Nt):pt=Nt,$){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=pt+Ot,$={id:_++,callback:rt,priorityLevel:$,startTime:pt,expirationTime:Ot,sortIndex:-1},pt>Nt?($.sortIndex=pt,t(g,$),e(f)===null&&$===e(g)&&(A?(k(D),D=-1):A=!0,Rt(et,pt-Nt))):($.sortIndex=Ot,t(f,$),w||S||(w=!0,X||(X=!0,j()))),$},n.unstable_shouldYield=V,n.unstable_wrapCallback=function($){var rt=x;return function(){var pt=x;x=rt;try{return $.apply(this,arguments)}finally{x=pt}}}})(gg)),gg}var Uv;function pS(){return Uv||(Uv=1,dg.exports=mS()),dg.exports}var mg={exports:{}},rn={};var Hv;function _S(){if(Hv)return rn;Hv=1;var n=ym();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},rn.flushSync=function(f){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=g,s.p=_,s.d.f()}},rn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},rn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},rn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:S}):_==="script"&&s.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},rn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=h(_,g.crossOrigin);s.d.L(f,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},rn.requestFormReset=function(f){s.d.r(f)},rn.unstable_batchedUpdates=function(f,g){return f(g)},rn.useFormState=function(f,g,_){return c.H.useFormState(f,g,_)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var Fv;function yS(){if(Fv)return mg.exports;Fv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),mg.exports=_S(),mg.exports}var qv;function vS(){if(qv)return jl;qv=1;var n=pS(),t=ym(),e=yS();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(s(188))}function g(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(s(188));return a!==i?null:i}for(var l=i,u=a;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),i;if(p===u)return f(m),a;p=p.sibling}throw Error(s(188))}if(l.return!==u.return)l=m,u=p;else{for(var b=!1,C=m.child;C;){if(C===l){b=!0,l=m,u=p;break}if(C===u){b=!0,u=m,l=p;break}C=C.sibling}if(!b){for(C=p.child;C;){if(C===l){b=!0,l=p,u=m;break}if(C===u){b=!0,u=p,l=m;break}C=C.sibling}if(!b)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:a}function _(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=_(i),a!==null)return a;i=i.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function Zt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case et:return"Suspense";case X:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case K:return i.displayName||"Context";case k:return(i._context.displayName||"Context")+".Consumer";case Q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return a=i.displayName||null,a!==null?a:Zt(i.type)||"Memo";case R:a=i._payload,i=i._init;try{return Zt(i(a))}catch{}}return null}var Rt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Nt=[],Ot=-1;function B(i){return{current:i}}function J(i){0>Ot||(i.current=Nt[Ot],Nt[Ot]=null,Ot--)}function at(i,a){Ot++,Nt[Ot]=i.current,i.current=a}var ut=B(null),yt=B(null),Tt=B(null),jt=B(null);function Ge(i,a){switch(at(Tt,a),at(yt,i),at(ut,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?av(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=av(a),i=rv(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(ut),at(ut,i)}function de(){J(ut),J(yt),J(Tt)}function gi(i){i.memoizedState!==null&&at(jt,i);var a=ut.current,l=rv(a,i.type);a!==l&&(at(yt,i),at(ut,l))}function zi(i){yt.current===i&&(J(ut),J(yt)),jt.current===i&&(J(jt),Il._currentValue=pt)}var ba,mr;function ii(i){if(ba===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ba=a&&a[1]||"",mr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+i+mr}var Ta=!1;function pr(i,a){if(!i||Ta)return"";Ta=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var Y=W}Reflect.construct(i,[],it)}else{try{it.call()}catch(W){Y=W}i.call(it.prototype)}}else{try{throw Error()}catch(W){Y=W}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],C=p[1];if(b&&C){var L=b.split(`
`),G=C.split(`
`);for(m=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(u===L.length||m===G.length)for(u=L.length-1,m=G.length-1;1<=u&&0<=m&&L[u]!==G[m];)m--;for(;1<=u&&0<=m;u--,m--)if(L[u]!==G[m]){if(u!==1||m!==1)do if(u--,m--,0>m||L[u]!==G[m]){var tt=`
`+L[u].replace(" at new "," at ");return i.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",i.displayName)),tt}while(1<=u&&0<=m);break}}}finally{Ta=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ii(l):""}function of(i,a){switch(i.tag){case 26:case 27:case 5:return ii(i.type);case 16:return ii("Lazy");case 13:return i.child!==a&&a!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return pr(i.type,!1);case 11:return pr(i.type.render,!1);case 1:return pr(i.type,!0);case 31:return ii("Activity");default:return""}}function Rc(i){try{var a="",l=null;do a+=of(i,l),l=i,i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var _r=Object.prototype.hasOwnProperty,xa=n.unstable_scheduleCallback,yr=n.unstable_cancelCallback,lf=n.unstable_shouldYield,zo=n.unstable_requestPaint,Ye=n.unstable_now,Dc=n.unstable_getCurrentPriorityLevel,ke=n.unstable_ImmediatePriority,Le=n.unstable_UserBlockingPriority,Li=n.unstable_NormalPriority,Mc=n.unstable_LowPriority,Lo=n.unstable_IdlePriority,cf=n.log,Ea=n.unstable_setDisableYieldValue,ps=null,sn=null;function Hn(i){if(typeof cf=="function"&&Ea(i),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(ps,i)}catch{}}var gn=Math.clz32?Math.clz32:Nc,uf=Math.log,jo=Math.LN2;function Nc(i){return i>>>=0,i===0?32:31-(uf(i)/jo|0)|0}var Sa=256,mi=262144,_s=4194304;function si(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Fn(i,a,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~p,u!==0?m=si(u):(b&=C,b!==0?m=si(b):l||(l=C&~i,l!==0&&(m=si(l))))):(C=u&~p,C!==0?m=si(C):b!==0?m=si(b):l||(l=u&~i,l!==0&&(m=si(l)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:m}function ys(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function vr(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var i=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),i}function ji(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function vs(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Qe(i,a,l,u,m,p){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var C=i.entanglements,L=i.expirationTimes,G=i.hiddenUpdates;for(l=b&~l;0<l;){var tt=31-gn(l),it=1<<tt;C[tt]=0,L[tt]=-1;var Y=G[tt];if(Y!==null)for(G[tt]=null,tt=0;tt<Y.length;tt++){var W=Y[tt];W!==null&&(W.lane&=-536870913)}l&=~it}u!==0&&Bo(i,u,0),p!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~a))}function Bo(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-gn(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function bs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var u=31-gn(l),m=1<<u;m&a|i[u]&a&&(i[u]|=a),l&=~m}}function Ts(i,a){var l=a&-a;return l=(l&42)!==0?1:Uo(l),(l&(i.suspendedLanes|a))!==0?0:l}function Uo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ho(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Pi(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:Dv(i.type))}function Oc(i,a){var l=rt.p;try{return rt.p=i,a()}finally{rt.p=l}}var pi=Math.random().toString(36).slice(2),me="__reactFiber$"+pi,$e="__reactProps$"+pi,_i="__reactContainer$"+pi,xs="__reactEvents$"+pi,yi="__reactListeners$"+pi,Ic="__reactHandles$"+pi,Fo="__reactResources$"+pi,Bi="__reactMarker$"+pi;function Aa(i){delete i[me],delete i[$e],delete i[xs],delete i[yi],delete i[Ic]}function Ui(i){var a=i[me];if(a)return a;for(var l=i.parentNode;l;){if(a=l[_i]||l[me]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=dv(i);i!==null;){if(l=i[me])return l;i=dv(i)}return a}i=l,l=i.parentNode}return null}function Hi(i){if(i=i[me]||i[_i]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function wa(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function ai(i){var a=i[Fo];return a||(a=i[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function be(i){i[Bi]=!0}var br=new Set,Es={};function mn(i,a){vi(i,a),vi(i+"Capture",a)}function vi(i,a){for(Es[i]=a,i=0;i<a.length;i++)br.add(a[i])}var hf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Go={};function Vc(i){return _r.call(Go,i)?!0:_r.call(qo,i)?!1:hf.test(i)?Go[i]=!0:(qo[i]=!0,!1)}function Ss(i,a,l){if(Vc(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function As(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function qn(i,a,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+u)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kc(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ff(i,a,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Tr(i){if(!i._valueTracker){var a=kc(i)?"checked":"value";i._valueTracker=ff(i,a,""+i[a])}}function Yo(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return i&&(u=kc(i)?i.checked?"true":"false":i.value),i=u,i!==l?(a.setValue(i),!0):!1}function xr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Fi=/[\n"\\]/g;function pe(i){return i.replace(Fi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ws(i,a,l,u,m,p,b,C){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),a!=null?b==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+pn(a)):i.value!==""+pn(a)&&(i.value=""+pn(a)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),a!=null?Er(i,b,pn(a)):l!=null?Er(i,b,pn(l)):u!=null&&i.removeAttribute("value"),m==null&&p!=null&&(i.defaultChecked=!!p),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+pn(C):i.removeAttribute("name")}function Ca(i,a,l,u,m,p,b,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Tr(i);return}l=l!=null?""+pn(l):"",a=a!=null?""+pn(a):l,C||a===i.value||(i.value=a),i.defaultValue=a}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Tr(i)}function Er(i,a,l){a==="number"&&xr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Gt(i,a,l,u){if(i=i.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=a.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+pn(l),a=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Ra(i,a,l){if(a!=null&&(a=""+pn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+pn(l):""}function Cs(i,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(s(92));if(Rt(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=pn(a),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),Tr(i)}function Gn(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var df=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(i,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,l):typeof l!="number"||l===0||df.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function zc(i,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in a)u=a[m],a.hasOwnProperty(m)&&l[m]!==u&&Qo(i,m,u)}else for(var p in a)a.hasOwnProperty(p)&&Qo(i,p,a[p])}function $o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(i){return mf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function je(){}var Sr=null;function Ar(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qi=null,Mn=null;function Lc(i){var a=Hi(i);if(a&&(i=a.stateNode)){var l=i[$e]||null;t:switch(i=a.stateNode,a.type){case"input":if(ws(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pe(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==i&&u.form===i.form){var m=u[$e]||null;if(!m)throw Error(s(90));ws(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===i.form&&Yo(u)}break t;case"textarea":Ra(i,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Gt(i,!!l.multiple,a,!1)}}}var Ko=!1;function jc(i,a,l){if(Ko)return i(a,l);Ko=!0;try{var u=i(a);return u}finally{if(Ko=!1,(qi!==null||Mn!==null)&&(Vu(),qi&&(a=qi,i=Mn,Mn=qi=null,Lc(a),i)))for(a=0;a<i.length;a++)Lc(i[a])}}function Tn(i,a){var l=i.stateNode;if(l===null)return null;var u=l[$e]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=!1;if(ri)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Xo=!1}var Nn=null,wr=null,xi=null;function Rs(){if(xi)return xi;var i,a=wr,l=a.length,u,m="value"in Nn?Nn.value:Nn.textContent,p=m.length;for(i=0;i<l&&a[i]===m[i];i++);var b=l-i;for(u=1;u<=b&&a[l-u]===m[p-u];u++);return xi=m.slice(i,1<u?1-u:void 0)}function Da(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ds(){return!0}function oe(){return!1}function an(i){function a(l,u,m,p,b){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ds:oe,this.isPropagationStopped=oe,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),a}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=an(Gi),Ms=v({},Gi,{view:0,detail:0}),Pc=an(Ms),Ns,Cr,_n,Na=v({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_n&&(_n&&i.type==="mousemove"?(Ns=i.screenX-_n.screenX,Cr=i.screenY-_n.screenY):Cr=Ns=0,_n=i),Ns)},movementY:function(i){return"movementY"in i?i.movementY:Cr}}),Bc=an(Na),Oa=v({},Na,{dataTransfer:0}),Uc=an(Oa),Wo=v({},Ms,{relatedTarget:0}),Os=an(Wo),Hc=v({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rr=an(Hc),pf=v({},Gi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Fc=an(pf),Ia=v({},Gi,{data:0}),Zo=an(Ia),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=tl[i])?!!a[i]:!1}function Is(){return Gc}var Yc=v({},Ms,{key:function(i){if(i.key){var a=qc[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Da(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(i){return i.type==="keypress"?Da(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Da(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qc=an(Yc),Yi=v({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=an(Yi),$c=v({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),Kc=an($c),Xc=v({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dr=an(Xc),yn=v({},Na,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Wc=an(yn),Zc=v({},Gi,{newState:0,oldState:0}),Vs=an(Zc),d=[9,13,27,32],y=ri&&"CompositionEvent"in window,T=null;ri&&"documentMode"in document&&(T=document.documentMode);var M=ri&&"TextEvent"in window&&!T,F=ri&&(!y||T&&8<T&&11>=T),Z=" ",ct=!1;function Jt(i,a){switch(i){case"keyup":return d.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Dt=!1;function Pe(i,a){switch(i){case"compositionend":return we(a);case"keypress":return a.which!==32?null:(ct=!0,Z);case"textInput":return i=a.data,i===Z&&ct?null:i;default:return null}}function Be(i,a){if(Dt)return i==="compositionend"||!y&&Jt(i,a)?(i=Rs(),xi=wr=Nn=null,Dt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return F&&a.locale!=="ko"?null:a.data;default:return null}}var ks={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!ks[i.type]:a==="textarea"}function Va(i,a,l,u){qi?Mn?Mn.push(u):Mn=[u]:qi=u,a=Uu(a,"onChange"),0<a.length&&(l=new Ma("onChange","change",null,l,u),i.push({event:l,listeners:a}))}var Qi=null,nl=null;function Px(i){Jy(i,0)}function Jc(i){var a=wa(i);if(Yo(a))return i}function yp(i,a){if(i==="change")return a}var vp=!1;if(ri){var _f;if(ri){var yf="oninput"in document;if(!yf){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),yf=typeof bp.oninput=="function"}_f=yf}else _f=!1;vp=_f&&(!document.documentMode||9<document.documentMode)}function Tp(){Qi&&(Qi.detachEvent("onpropertychange",xp),nl=Qi=null)}function xp(i){if(i.propertyName==="value"&&Jc(nl)){var a=[];Va(a,nl,i,Ar(i)),jc(Px,a)}}function Bx(i,a,l){i==="focusin"?(Tp(),Qi=a,nl=l,Qi.attachEvent("onpropertychange",xp)):i==="focusout"&&Tp()}function Ux(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jc(nl)}function Hx(i,a){if(i==="click")return Jc(a)}function Fx(i,a){if(i==="input"||i==="change")return Jc(a)}function qx(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var On=typeof Object.is=="function"?Object.is:qx;function il(i,a){if(On(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!_r.call(a,m)||!On(i[m],a[m]))return!1}return!0}function Ep(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sp(i,a){var l=Ep(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=a&&u>=a)return{node:l,offset:a-i};i=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Ep(l)}}function Ap(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Ap(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function wp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=xr(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=xr(i.document)}return a}function vf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Gx=ri&&"documentMode"in document&&11>=document.documentMode,Mr=null,bf=null,sl=null,Tf=!1;function Cp(i,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tf||Mr==null||Mr!==xr(u)||(u=Mr,"selectionStart"in u&&vf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),sl&&il(sl,u)||(sl=u,u=Uu(bf,"onSelect"),0<u.length&&(a=new Ma("onSelect","select",null,a,l),i.push({event:a,listeners:u}),a.target=Mr)))}function ka(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Nr={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},xf={},Rp={};ri&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function za(i){if(xf[i])return xf[i];if(!Nr[i])return i;var a=Nr[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Rp)return xf[i]=a[l];return i}var Dp=za("animationend"),Mp=za("animationiteration"),Np=za("animationstart"),Yx=za("transitionrun"),Qx=za("transitionstart"),$x=za("transitioncancel"),Op=za("transitionend"),Ip=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function oi(i,a){Ip.set(i,a),mn(a,[i])}var tu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Yn=[],Or=0,Sf=0;function eu(){for(var i=Or,a=Sf=Or=0;a<i;){var l=Yn[a];Yn[a++]=null;var u=Yn[a];Yn[a++]=null;var m=Yn[a];Yn[a++]=null;var p=Yn[a];if(Yn[a++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}p!==0&&Vp(l,m,p)}}function nu(i,a,l,u){Yn[Or++]=i,Yn[Or++]=a,Yn[Or++]=l,Yn[Or++]=u,Sf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Af(i,a,l,u){return nu(i,a,l,u),iu(i)}function La(i,a){return nu(i,null,null,a),iu(i)}function Vp(i,a,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=i.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(m=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,m&&a!==null&&(m=31-gn(l),i=p.hiddenUpdates,u=i[m],u===null?i[m]=[a]:u.push(a),a.lane=l|536870912),p):null}function iu(i){if(50<wl)throw wl=0,Vd=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ir={};function Kx(i,a,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(i,a,l,u){return new Kx(i,a,l,u)}function wf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $i(i,a){var l=i.alternate;return l===null?(l=In(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function kp(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function su(i,a,l,u,m,p){var b=0;if(u=i,typeof i=="function")wf(i)&&(b=1);else if(typeof i=="string")b=tS(i,l,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case O:return i=In(31,l,a,m),i.elementType=O,i.lanes=p,i;case A:return ja(l.children,m,p,a);case N:b=8,m|=24;break;case U:return i=In(12,l,a,m|2),i.elementType=U,i.lanes=p,i;case et:return i=In(13,l,a,m),i.elementType=et,i.lanes=p,i;case X:return i=In(19,l,a,m),i.elementType=X,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:b=10;break t;case k:b=9;break t;case Q:b=11;break t;case D:b=14;break t;case R:b=16,u=null;break t}b=29,l=Error(s(130,i===null?"null":typeof i,"")),u=null}return a=In(b,l,a,m),a.elementType=i,a.type=u,a.lanes=p,a}function ja(i,a,l,u){return i=In(7,i,u,a),i.lanes=l,i}function Cf(i,a,l){return i=In(6,i,null,a),i.lanes=l,i}function zp(i){var a=In(18,null,null,0);return a.stateNode=i,a}function Rf(i,a,l){return a=In(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Lp=new WeakMap;function Qn(i,a){if(typeof i=="object"&&i!==null){var l=Lp.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Rc(a)},Lp.set(i,a),a)}return{value:i,source:a,stack:Rc(a)}}var Vr=[],kr=0,au=null,al=0,$n=[],Kn=0,zs=null,Ei=1,Si="";function Ki(i,a){Vr[kr++]=al,Vr[kr++]=au,au=i,al=a}function jp(i,a,l){$n[Kn++]=Ei,$n[Kn++]=Si,$n[Kn++]=zs,zs=i;var u=Ei;i=Si;var m=32-gn(u)-1;u&=~(1<<m),l+=1;var p=32-gn(a)+m;if(30<p){var b=m-m%5;p=(u&(1<<b)-1).toString(32),u>>=b,m-=b,Ei=1<<32-gn(a)+m|l<<m|u,Si=p+i}else Ei=1<<p|l<<m|u,Si=i}function Df(i){i.return!==null&&(Ki(i,1),jp(i,1,0))}function Mf(i){for(;i===au;)au=Vr[--kr],Vr[kr]=null,al=Vr[--kr],Vr[kr]=null;for(;i===zs;)zs=$n[--Kn],$n[Kn]=null,Si=$n[--Kn],$n[Kn]=null,Ei=$n[--Kn],$n[Kn]=null}function Pp(i,a){$n[Kn++]=Ei,$n[Kn++]=Si,$n[Kn++]=zs,Ei=a.id,Si=a.overflow,zs=i}var Ke=null,le=null,Pt=!1,Ls=null,Xn=!1,Nf=Error(s(519));function js(i){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Qn(a,i)),Nf}function Bp(i){var a=i.stateNode,l=i.type,u=i.memoizedProps;switch(a[me]=i,a[$e]=u,l){case"dialog":Vt("cancel",a),Vt("close",a);break;case"iframe":case"object":case"embed":Vt("load",a);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Vt(Rl[l],a);break;case"source":Vt("error",a);break;case"img":case"image":case"link":Vt("error",a),Vt("load",a);break;case"details":Vt("toggle",a);break;case"input":Vt("invalid",a),Ca(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Vt("invalid",a);break;case"textarea":Vt("invalid",a),Cs(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||iv(a.textContent,l)?(u.popover!=null&&(Vt("beforetoggle",a),Vt("toggle",a)),u.onScroll!=null&&Vt("scroll",a),u.onScrollEnd!=null&&Vt("scrollend",a),u.onClick!=null&&(a.onclick=je),a=!0):a=!1,a||js(i,!0)}function Up(i){for(Ke=i.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ke=Ke.return}}function zr(i){if(i!==Ke)return!1;if(!Pt)return Up(i),Pt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Kd(i.type,i.memoizedProps)),l=!l),l&&le&&js(i),Up(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));le=fv(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));le=fv(i)}else a===27?(a=le,Zs(i.type)?(i=tg,tg=null,le=i):le=a):le=Ke?Zn(i.stateNode.nextSibling):null;return!0}function Pa(){le=Ke=null,Pt=!1}function Of(){var i=Ls;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),Ls=null),i}function rl(i){Ls===null?Ls=[i]:Ls.push(i)}var If=B(null),Ba=null,Xi=null;function Ps(i,a,l){at(If,a._currentValue),a._currentValue=l}function Wi(i){i._currentValue=If.current,J(If)}function Vf(i,a,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===l)break;i=i.return}}function kf(i,a,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;t:for(;p!==null;){var C=p;p=m;for(var L=0;L<a.length;L++)if(C.context===a[L]){p.lanes|=l,C=p.alternate,C!==null&&(C.lanes|=l),Vf(p.return,l,i),u||(b=null);break t}p=C.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),Vf(b,l,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Lr(i,a,l,u){i=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var C=m.type;On(m.pendingProps.value,b.value)||(i!==null?i.push(C):i=[C])}}else if(m===jt.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Il):i=[Il])}m=m.return}i!==null&&kf(a,i,l,u),a.flags|=262144}function ru(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ua(i){Ba=i,Xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return Hp(Ba,i)}function ou(i,a){return Ba===null&&Ua(i),Hp(i,a)}function Hp(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Xi===null){if(i===null)throw Error(s(308));Xi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Xi=Xi.next=a;return l}var Xx=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},Wx=n.unstable_scheduleCallback,Zx=n.unstable_NormalPriority,Ce={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new Xx,data:new Map,refCount:0}}function ol(i){i.refCount--,i.refCount===0&&Wx(Zx,function(){i.controller.abort()})}var ll=null,Lf=0,jr=0,Pr=null;function Jx(i,a){if(ll===null){var l=ll=[];Lf=0,jr=Bd(),Pr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Lf++,a.then(Fp,Fp),a}function Fp(){if(--Lf===0&&ll!==null){Pr!==null&&(Pr.status="fulfilled");var i=ll;ll=null,jr=0,Pr=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function tE(i,a){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var qp=$.S;$.S=function(i,a){Cy=Ye(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Jx(i,a),qp!==null&&qp(i,a)};var Ha=B(null);function jf(){var i=Ha.current;return i!==null?i:re.pooledCache}function lu(i,a){a===null?at(Ha,Ha.current):at(Ha,a.pool)}function Gp(){var i=jf();return i===null?null:{parent:Ce._currentValue,pool:i}}var Br=Error(s(460)),Pf=Error(s(474)),cu=Error(s(542)),uu={then:function(){}};function Yp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qp(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(je,je),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Kp(i),i;default:if(typeof a.status=="string")a.then(je,je);else{if(i=re,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=u}},function(u){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Kp(i),i}throw qa=a,Br}}function Fa(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(qa=l,Br):l}}var qa=null;function $p(){if(qa===null)throw Error(s(459));var i=qa;return qa=null,i}function Kp(i){if(i===Br||i===cu)throw Error(s(483))}var Ur=null,cl=0;function hu(i){var a=cl;return cl+=1,Ur===null&&(Ur=[]),Qp(Ur,i,a)}function ul(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function fu(i,a){throw a.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Xp(i){function a(H,P){if(i){var q=H.deletions;q===null?(H.deletions=[P],H.flags|=16):q.push(P)}}function l(H,P){if(!i)return null;for(;P!==null;)a(H,P),P=P.sibling;return null}function u(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function m(H,P){return H=$i(H,P),H.index=0,H.sibling=null,H}function p(H,P,q){return H.index=q,i?(q=H.alternate,q!==null?(q=q.index,q<P?(H.flags|=67108866,P):q):(H.flags|=67108866,P)):(H.flags|=1048576,P)}function b(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function C(H,P,q,nt){return P===null||P.tag!==6?(P=Cf(q,H.mode,nt),P.return=H,P):(P=m(P,q),P.return=H,P)}function L(H,P,q,nt){var _t=q.type;return _t===A?tt(H,P,q.props.children,nt,q.key):P!==null&&(P.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Fa(_t)===P.type)?(P=m(P,q.props),ul(P,q),P.return=H,P):(P=su(q.type,q.key,q.props,null,H.mode,nt),ul(P,q),P.return=H,P)}function G(H,P,q,nt){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Rf(q,H.mode,nt),P.return=H,P):(P=m(P,q.children||[]),P.return=H,P)}function tt(H,P,q,nt,_t){return P===null||P.tag!==7?(P=ja(q,H.mode,nt,_t),P.return=H,P):(P=m(P,q),P.return=H,P)}function it(H,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Cf(""+P,H.mode,q),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return q=su(P.type,P.key,P.props,null,H.mode,q),ul(q,P),q.return=H,q;case w:return P=Rf(P,H.mode,q),P.return=H,P;case R:return P=Fa(P),it(H,P,q)}if(Rt(P)||j(P))return P=ja(P,H.mode,q,null),P.return=H,P;if(typeof P.then=="function")return it(H,hu(P),q);if(P.$$typeof===K)return it(H,ou(H,P),q);fu(H,P)}return null}function Y(H,P,q,nt){var _t=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _t!==null?null:C(H,P,""+q,nt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===_t?L(H,P,q,nt):null;case w:return q.key===_t?G(H,P,q,nt):null;case R:return q=Fa(q),Y(H,P,q,nt)}if(Rt(q)||j(q))return _t!==null?null:tt(H,P,q,nt,null);if(typeof q.then=="function")return Y(H,P,hu(q),nt);if(q.$$typeof===K)return Y(H,P,ou(H,q),nt);fu(H,q)}return null}function W(H,P,q,nt,_t){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return H=H.get(q)||null,C(P,H,""+nt,_t);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case S:return H=H.get(nt.key===null?q:nt.key)||null,L(P,H,nt,_t);case w:return H=H.get(nt.key===null?q:nt.key)||null,G(P,H,nt,_t);case R:return nt=Fa(nt),W(H,P,q,nt,_t)}if(Rt(nt)||j(nt))return H=H.get(q)||null,tt(P,H,nt,_t,null);if(typeof nt.then=="function")return W(H,P,q,hu(nt),_t);if(nt.$$typeof===K)return W(H,P,q,ou(P,nt),_t);fu(P,nt)}return null}function ht(H,P,q,nt){for(var _t=null,Yt=null,dt=P,Ct=P=0,Lt=null;dt!==null&&Ct<q.length;Ct++){dt.index>Ct?(Lt=dt,dt=null):Lt=dt.sibling;var Qt=Y(H,dt,q[Ct],nt);if(Qt===null){dt===null&&(dt=Lt);break}i&&dt&&Qt.alternate===null&&a(H,dt),P=p(Qt,P,Ct),Yt===null?_t=Qt:Yt.sibling=Qt,Yt=Qt,dt=Lt}if(Ct===q.length)return l(H,dt),Pt&&Ki(H,Ct),_t;if(dt===null){for(;Ct<q.length;Ct++)dt=it(H,q[Ct],nt),dt!==null&&(P=p(dt,P,Ct),Yt===null?_t=dt:Yt.sibling=dt,Yt=dt);return Pt&&Ki(H,Ct),_t}for(dt=u(dt);Ct<q.length;Ct++)Lt=W(dt,H,Ct,q[Ct],nt),Lt!==null&&(i&&Lt.alternate!==null&&dt.delete(Lt.key===null?Ct:Lt.key),P=p(Lt,P,Ct),Yt===null?_t=Lt:Yt.sibling=Lt,Yt=Lt);return i&&dt.forEach(function(ia){return a(H,ia)}),Pt&&Ki(H,Ct),_t}function bt(H,P,q,nt){if(q==null)throw Error(s(151));for(var _t=null,Yt=null,dt=P,Ct=P=0,Lt=null,Qt=q.next();dt!==null&&!Qt.done;Ct++,Qt=q.next()){dt.index>Ct?(Lt=dt,dt=null):Lt=dt.sibling;var ia=Y(H,dt,Qt.value,nt);if(ia===null){dt===null&&(dt=Lt);break}i&&dt&&ia.alternate===null&&a(H,dt),P=p(ia,P,Ct),Yt===null?_t=ia:Yt.sibling=ia,Yt=ia,dt=Lt}if(Qt.done)return l(H,dt),Pt&&Ki(H,Ct),_t;if(dt===null){for(;!Qt.done;Ct++,Qt=q.next())Qt=it(H,Qt.value,nt),Qt!==null&&(P=p(Qt,P,Ct),Yt===null?_t=Qt:Yt.sibling=Qt,Yt=Qt);return Pt&&Ki(H,Ct),_t}for(dt=u(dt);!Qt.done;Ct++,Qt=q.next())Qt=W(dt,H,Ct,Qt.value,nt),Qt!==null&&(i&&Qt.alternate!==null&&dt.delete(Qt.key===null?Ct:Qt.key),P=p(Qt,P,Ct),Yt===null?_t=Qt:Yt.sibling=Qt,Yt=Qt);return i&&dt.forEach(function(hS){return a(H,hS)}),Pt&&Ki(H,Ct),_t}function ae(H,P,q,nt){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:t:{for(var _t=q.key;P!==null;){if(P.key===_t){if(_t=q.type,_t===A){if(P.tag===7){l(H,P.sibling),nt=m(P,q.props.children),nt.return=H,H=nt;break t}}else if(P.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Fa(_t)===P.type){l(H,P.sibling),nt=m(P,q.props),ul(nt,q),nt.return=H,H=nt;break t}l(H,P);break}else a(H,P);P=P.sibling}q.type===A?(nt=ja(q.props.children,H.mode,nt,q.key),nt.return=H,H=nt):(nt=su(q.type,q.key,q.props,null,H.mode,nt),ul(nt,q),nt.return=H,H=nt)}return b(H);case w:t:{for(_t=q.key;P!==null;){if(P.key===_t)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){l(H,P.sibling),nt=m(P,q.children||[]),nt.return=H,H=nt;break t}else{l(H,P);break}else a(H,P);P=P.sibling}nt=Rf(q,H.mode,nt),nt.return=H,H=nt}return b(H);case R:return q=Fa(q),ae(H,P,q,nt)}if(Rt(q))return ht(H,P,q,nt);if(j(q)){if(_t=j(q),typeof _t!="function")throw Error(s(150));return q=_t.call(q),bt(H,P,q,nt)}if(typeof q.then=="function")return ae(H,P,hu(q),nt);if(q.$$typeof===K)return ae(H,P,ou(H,q),nt);fu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(l(H,P.sibling),nt=m(P,q),nt.return=H,H=nt):(l(H,P),nt=Cf(q,H.mode,nt),nt.return=H,H=nt),b(H)):l(H,P)}return function(H,P,q,nt){try{cl=0;var _t=ae(H,P,q,nt);return Ur=null,_t}catch(dt){if(dt===Br||dt===cu)throw dt;var Yt=In(29,dt,null,H.mode);return Yt.lanes=nt,Yt.return=H,Yt}}}var Ga=Xp(!0),Wp=Xp(!1),Bs=!1;function Bf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Us(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(i,a,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var m=u.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a,a=iu(i),Vp(i,null,l),a}return nu(i,u,a,l),iu(i)}function hl(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,bs(i,l)}}function Hf(i,a){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?m=p=a:p=p.next=a}else m=p=a;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ff=!1;function fl(){if(Ff){var i=Pr;if(i!==null)throw i}}function dl(i,a,l,u){Ff=!1;var m=i.updateQueue;Bs=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var L=C,G=L.next;L.next=null,b===null?p=G:b.next=G,b=L;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,C=tt.lastBaseUpdate,C!==b&&(C===null?tt.firstBaseUpdate=G:C.next=G,tt.lastBaseUpdate=L))}if(p!==null){var it=m.baseState;b=0,tt=G=L=null,C=p;do{var Y=C.lane&-536870913,W=Y!==C.lane;if(W?(zt&Y)===Y:(u&Y)===Y){Y!==0&&Y===jr&&(Ff=!0),tt!==null&&(tt=tt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var ht=i,bt=C;Y=a;var ae=l;switch(bt.tag){case 1:if(ht=bt.payload,typeof ht=="function"){it=ht.call(ae,it,Y);break t}it=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=bt.payload,Y=typeof ht=="function"?ht.call(ae,it,Y):ht,Y==null)break t;it=v({},it,Y);break t;case 2:Bs=!0}}Y=C.callback,Y!==null&&(i.flags|=64,W&&(i.flags|=8192),W=m.callbacks,W===null?m.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},tt===null?(G=tt=W,L=it):tt=tt.next=W,b|=Y;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;W=C,C=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);tt===null&&(L=it),m.baseState=L,m.firstBaseUpdate=G,m.lastBaseUpdate=tt,p===null&&(m.shared.lanes=0),Qs|=b,i.lanes=b,i.memoizedState=it}}function Zp(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function Jp(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Zp(l[i],a)}var Hr=B(null),du=B(0);function t_(i,a){i=rs,at(du,i),at(Hr,a),rs=i|a.baseLanes}function qf(){at(du,rs),at(Hr,Hr.current)}function Gf(){rs=du.current,J(Hr),J(du)}var Vn=B(null),Wn=null;function Fs(i){var a=i.alternate;at(Te,Te.current&1),at(Vn,i),Wn===null&&(a===null||Hr.current!==null||a.memoizedState!==null)&&(Wn=i)}function Yf(i){at(Te,Te.current),at(Vn,i),Wn===null&&(Wn=i)}function e_(i){i.tag===22?(at(Te,Te.current),at(Vn,i),Wn===null&&(Wn=i)):qs()}function qs(){at(Te,Te.current),at(Vn,Vn.current)}function kn(i){J(Vn),Wn===i&&(Wn=null),J(Te)}var Te=B(0);function gu(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Zd(l)||Jd(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Zi=0,St=null,ie=null,Re=null,mu=!1,Fr=!1,Ya=!1,pu=0,gl=0,qr=null,eE=0;function _e(){throw Error(s(321))}function Qf(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!On(i[l],a[l]))return!1;return!0}function $f(i,a,l,u,m,p){return Zi=p,St=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=i===null||i.memoizedState===null?j_:cd,Ya=!1,p=l(u,m),Ya=!1,Fr&&(p=i_(a,l,u,m)),n_(i),p}function n_(i){$.H=_l;var a=ie!==null&&ie.next!==null;if(Zi=0,Re=ie=St=null,mu=!1,gl=0,qr=null,a)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&ru(i)&&(De=!0))}function i_(i,a,l,u){St=i;var m=0;do{if(Fr&&(qr=null),gl=0,Fr=!1,25<=m)throw Error(s(301));if(m+=1,Re=ie=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=P_,p=a(l,u)}while(Fr);return p}function nE(){var i=$.H,a=i.useState()[0];return a=typeof a.then=="function"?ml(a):a,i=i.useState()[0],(ie!==null?ie.memoizedState:null)!==i&&(St.flags|=1024),a}function Kf(){var i=pu!==0;return pu=0,i}function Xf(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Wf(i){if(mu){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}mu=!1}Zi=0,Re=ie=St=null,Fr=!1,gl=pu=0,qr=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?St.memoizedState=Re=i:Re=Re.next=i,Re}function xe(){if(ie===null){var i=St.alternate;i=i!==null?i.memoizedState:null}else i=ie.next;var a=Re===null?St.memoizedState:Re.next;if(a!==null)Re=a,ie=i;else{if(i===null)throw St.alternate===null?Error(s(467)):Error(s(310));ie=i,i={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Re===null?St.memoizedState=Re=i:Re=Re.next=i}return Re}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(i){var a=gl;return gl+=1,qr===null&&(qr=[]),i=Qp(qr,i,a),a=St,(Re===null?a.memoizedState:Re.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?j_:cd),i}function yu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ml(i);if(i.$$typeof===K)return Xe(i)}throw Error(s(438,String(i)))}function Zf(i){var a=null,l=St.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=St.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=_u(),St.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),u=0;u<i;u++)l[u]=V;return a.index++,l}function Ji(i,a){return typeof a=="function"?a(i):a}function vu(i){var a=xe();return Jf(a,ie,i)}function Jf(i,a,l){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var m=i.baseQueue,p=u.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}a.baseQueue=m=p,u.pending=null}if(p=i.baseState,m===null)i.memoizedState=p;else{a=m.next;var C=b=null,L=null,G=a,tt=!1;do{var it=G.lane&-536870913;if(it!==G.lane?(zt&it)===it:(Zi&it)===it){var Y=G.revertLane;if(Y===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),it===jr&&(tt=!0);else if((Zi&Y)===Y){G=G.next,Y===jr&&(tt=!0);continue}else it={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(C=L=it,b=p):L=L.next=it,St.lanes|=Y,Qs|=Y;it=G.action,Ya&&l(p,it),p=G.hasEagerState?G.eagerState:l(p,it)}else Y={lane:it,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},L===null?(C=L=Y,b=p):L=L.next=Y,St.lanes|=it,Qs|=it;G=G.next}while(G!==null&&G!==a);if(L===null?b=p:L.next=C,!On(p,i.memoizedState)&&(De=!0,tt&&(l=Pr,l!==null)))throw l;i.memoizedState=p,i.baseState=b,i.baseQueue=L,u.lastRenderedState=p}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function td(i){var a=xe(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,p=a.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do p=i(p,b.action),b=b.next;while(b!==m);On(p,a.memoizedState)||(De=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function s_(i,a,l){var u=St,m=xe(),p=Pt;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=a();var b=!On((ie||m).memoizedState,l);if(b&&(m.memoizedState=l,De=!0),m=m.queue,id(o_.bind(null,u,m,i),[i]),m.getSnapshot!==a||b||Re!==null&&Re.memoizedState.tag&1){if(u.flags|=2048,Gr(9,{destroy:void 0},r_.bind(null,u,m,l,a),null),re===null)throw Error(s(349));p||(Zi&127)!==0||a_(u,a,l)}return l}function a_(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=St.updateQueue,a===null?(a=_u(),St.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function r_(i,a,l,u){a.value=l,a.getSnapshot=u,l_(a)&&c_(i)}function o_(i,a,l){return l(function(){l_(a)&&c_(i)})}function l_(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!On(i,l)}catch{return!0}}function c_(i){var a=La(i,2);a!==null&&Cn(a,i,2)}function ed(i){var a=vn();if(typeof i=="function"){var l=i;if(i=l(),Ya){Hn(!0);try{l()}finally{Hn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:i},a}function u_(i,a,l,u){return i.baseState=l,Jf(i,ie,typeof u=="function"?u:Ji)}function iE(i,a,l,u,m){if(xu(i))throw Error(s(485));if(i=a.action,i!==null){var p={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};$.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,h_(a,p)):(p.next=l.next,a.pending=l.next=p)}}function h_(i,a){var l=a.action,u=a.payload,m=i.state;if(a.isTransition){var p=$.T,b={};$.T=b;try{var C=l(m,u),L=$.S;L!==null&&L(b,C),f_(i,a,C)}catch(G){nd(i,a,G)}finally{p!==null&&b.types!==null&&(p.types=b.types),$.T=p}}else try{p=l(m,u),f_(i,a,p)}catch(G){nd(i,a,G)}}function f_(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){d_(i,a,u)},function(u){return nd(i,a,u)}):d_(i,a,l)}function d_(i,a,l){a.status="fulfilled",a.value=l,g_(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,h_(i,l)))}function nd(i,a,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,g_(a),a=a.next;while(a!==u)}i.action=null}function g_(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function m_(i,a){return a}function p_(i,a){if(Pt){var l=re.formState;if(l!==null){t:{var u=St;if(Pt){if(le){e:{for(var m=le,p=Xn;m.nodeType!==8;){if(!p){m=null;break e}if(m=Zn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){le=Zn(m.nextSibling),u=m.data==="F!";break t}}js(u)}u=!1}u&&(a=l[0])}}return l=vn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:a},l.queue=u,l=k_.bind(null,St,u),u.dispatch=l,u=ed(!1),p=ld.bind(null,St,!1,u.queue),u=vn(),m={state:a,dispatch:null,action:i,pending:null},u.queue=m,l=iE.bind(null,St,m,p,l),m.dispatch=l,u.memoizedState=i,[a,l,!1]}function __(i){var a=xe();return y_(a,ie,i)}function y_(i,a,l){if(a=Jf(i,a,m_)[0],i=vu(Ji)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ml(a)}catch(b){throw b===Br?cu:b}else u=a;a=xe();var m=a.queue,p=m.dispatch;return l!==a.memoizedState&&(St.flags|=2048,Gr(9,{destroy:void 0},sE.bind(null,m,l),null)),[u,p,i]}function sE(i,a){i.action=a}function v_(i){var a=xe(),l=ie;if(l!==null)return y_(a,l,i);xe(),a=a.memoizedState,l=xe();var u=l.queue.dispatch;return l.memoizedState=i,[a,u,!1]}function Gr(i,a,l,u){return i={tag:i,create:l,deps:u,inst:a,next:null},a=St.updateQueue,a===null&&(a=_u(),St.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,a.lastEffect=i),i}function b_(){return xe().memoizedState}function bu(i,a,l,u){var m=vn();St.flags|=i,m.memoizedState=Gr(1|a,{destroy:void 0},l,u===void 0?null:u)}function Tu(i,a,l,u){var m=xe();u=u===void 0?null:u;var p=m.memoizedState.inst;ie!==null&&u!==null&&Qf(u,ie.memoizedState.deps)?m.memoizedState=Gr(a,p,l,u):(St.flags|=i,m.memoizedState=Gr(1|a,p,l,u))}function T_(i,a){bu(8390656,8,i,a)}function id(i,a){Tu(2048,8,i,a)}function aE(i){St.flags|=4;var a=St.updateQueue;if(a===null)a=_u(),St.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function x_(i){var a=xe().memoizedState;return aE({ref:a,nextImpl:i}),function(){if(($t&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function E_(i,a){return Tu(4,2,i,a)}function S_(i,a){return Tu(4,4,i,a)}function A_(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function w_(i,a,l){l=l!=null?l.concat([i]):null,Tu(4,4,A_.bind(null,a,i),l)}function sd(){}function C_(i,a){var l=xe();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Qf(a,u[1])?u[0]:(l.memoizedState=[i,a],i)}function R_(i,a){var l=xe();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Qf(a,u[1]))return u[0];if(u=i(),Ya){Hn(!0);try{i()}finally{Hn(!1)}}return l.memoizedState=[u,a],u}function ad(i,a,l){return l===void 0||(Zi&1073741824)!==0&&(zt&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=Dy(),St.lanes|=i,Qs|=i,l)}function D_(i,a,l,u){return On(l,a)?l:Hr.current!==null?(i=ad(i,l,u),On(i,a)||(De=!0),i):(Zi&42)===0||(Zi&1073741824)!==0&&(zt&261930)===0?(De=!0,i.memoizedState=l):(i=Dy(),St.lanes|=i,Qs|=i,a)}function M_(i,a,l,u,m){var p=rt.p;rt.p=p!==0&&8>p?p:8;var b=$.T,C={};$.T=C,ld(i,!1,a,l);try{var L=m(),G=$.S;if(G!==null&&G(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var tt=tE(L,u);pl(i,a,tt,jn(i))}else pl(i,a,u,jn(i))}catch(it){pl(i,a,{then:function(){},status:"rejected",reason:it},jn())}finally{rt.p=p,b!==null&&C.types!==null&&(b.types=C.types),$.T=b}}function rE(){}function rd(i,a,l,u){if(i.tag!==5)throw Error(s(476));var m=N_(i).queue;M_(i,m,a,pt,l===null?rE:function(){return O_(i),l(u)})}function N_(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:pt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function O_(i){var a=N_(i);a.next===null&&(a=i.alternate.memoizedState),pl(i,a.next.queue,{},jn())}function od(){return Xe(Il)}function I_(){return xe().memoizedState}function V_(){return xe().memoizedState}function oE(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=jn();i=Us(l);var u=Hs(a,i,l);u!==null&&(Cn(u,a,l),hl(u,a,l)),a={cache:zf()},i.payload=a;return}a=a.return}}function lE(i,a,l){var u=jn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xu(i)?z_(a,l):(l=Af(i,a,l,u),l!==null&&(Cn(l,i,u),L_(l,a,u)))}function k_(i,a,l){var u=jn();pl(i,a,l,u)}function pl(i,a,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(xu(i))z_(a,m);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,C=p(b,l);if(m.hasEagerState=!0,m.eagerState=C,On(C,b))return nu(i,a,m,0),re===null&&eu(),!1}catch{}if(l=Af(i,a,m,u),l!==null)return Cn(l,i,u),L_(l,a,u),!0}return!1}function ld(i,a,l,u){if(u={lane:2,revertLane:Bd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xu(i)){if(a)throw Error(s(479))}else a=Af(i,l,u,2),a!==null&&Cn(a,i,2)}function xu(i){var a=i.alternate;return i===St||a!==null&&a===St}function z_(i,a){Fr=mu=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function L_(i,a,l){if((l&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,bs(i,l)}}var _l={readContext:Xe,use:yu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};_l.useEffectEvent=_e;var j_={readContext:Xe,use:yu,useCallback:function(i,a){return vn().memoizedState=[i,a===void 0?null:a],i},useContext:Xe,useEffect:T_,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,bu(4194308,4,A_.bind(null,a,i),l)},useLayoutEffect:function(i,a){return bu(4194308,4,i,a)},useInsertionEffect:function(i,a){bu(4,2,i,a)},useMemo:function(i,a){var l=vn();a=a===void 0?null:a;var u=i();if(Ya){Hn(!0);try{i()}finally{Hn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(i,a,l){var u=vn();if(l!==void 0){var m=l(a);if(Ya){Hn(!0);try{l(a)}finally{Hn(!1)}}}else m=a;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=lE.bind(null,St,i),[u.memoizedState,i]},useRef:function(i){var a=vn();return i={current:i},a.memoizedState=i},useState:function(i){i=ed(i);var a=i.queue,l=k_.bind(null,St,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:sd,useDeferredValue:function(i,a){var l=vn();return ad(l,i,a)},useTransition:function(){var i=ed(!1);return i=M_.bind(null,St,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var u=St,m=vn();if(Pt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),re===null)throw Error(s(349));(zt&127)!==0||a_(u,a,l)}m.memoizedState=l;var p={value:l,getSnapshot:a};return m.queue=p,T_(o_.bind(null,u,p,i),[i]),u.flags|=2048,Gr(9,{destroy:void 0},r_.bind(null,u,p,l,a),null),l},useId:function(){var i=vn(),a=re.identifierPrefix;if(Pt){var l=Si,u=Ei;l=(u&~(1<<32-gn(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=pu++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=eE++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:od,useFormState:p_,useActionState:p_,useOptimistic:function(i){var a=vn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=ld.bind(null,St,!0,l),l.dispatch=a,[i,a]},useMemoCache:Zf,useCacheRefresh:function(){return vn().memoizedState=oE.bind(null,St)},useEffectEvent:function(i){var a=vn(),l={impl:i};return a.memoizedState=l,function(){if(($t&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},cd={readContext:Xe,use:yu,useCallback:C_,useContext:Xe,useEffect:id,useImperativeHandle:w_,useInsertionEffect:E_,useLayoutEffect:S_,useMemo:R_,useReducer:vu,useRef:b_,useState:function(){return vu(Ji)},useDebugValue:sd,useDeferredValue:function(i,a){var l=xe();return D_(l,ie.memoizedState,i,a)},useTransition:function(){var i=vu(Ji)[0],a=xe().memoizedState;return[typeof i=="boolean"?i:ml(i),a]},useSyncExternalStore:s_,useId:I_,useHostTransitionStatus:od,useFormState:__,useActionState:__,useOptimistic:function(i,a){var l=xe();return u_(l,ie,i,a)},useMemoCache:Zf,useCacheRefresh:V_};cd.useEffectEvent=x_;var P_={readContext:Xe,use:yu,useCallback:C_,useContext:Xe,useEffect:id,useImperativeHandle:w_,useInsertionEffect:E_,useLayoutEffect:S_,useMemo:R_,useReducer:td,useRef:b_,useState:function(){return td(Ji)},useDebugValue:sd,useDeferredValue:function(i,a){var l=xe();return ie===null?ad(l,i,a):D_(l,ie.memoizedState,i,a)},useTransition:function(){var i=td(Ji)[0],a=xe().memoizedState;return[typeof i=="boolean"?i:ml(i),a]},useSyncExternalStore:s_,useId:I_,useHostTransitionStatus:od,useFormState:v_,useActionState:v_,useOptimistic:function(i,a){var l=xe();return ie!==null?u_(l,ie,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:V_};P_.useEffectEvent=x_;function ud(i,a,l,u){a=i.memoizedState,l=l(u,a),l=l==null?a:v({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var hd={enqueueSetState:function(i,a,l){i=i._reactInternals;var u=jn(),m=Us(u);m.payload=a,l!=null&&(m.callback=l),a=Hs(i,m,u),a!==null&&(Cn(a,i,u),hl(a,i,u))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var u=jn(),m=Us(u);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=Hs(i,m,u),a!==null&&(Cn(a,i,u),hl(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=jn(),u=Us(l);u.tag=2,a!=null&&(u.callback=a),a=Hs(i,u,l),a!==null&&(Cn(a,i,l),hl(a,i,l))}};function B_(i,a,l,u,m,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!il(l,u)||!il(m,p):!0}function U_(i,a,l,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==i&&hd.enqueueReplaceState(a,a.state,null)}function Qa(i,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(i=i.defaultProps){l===a&&(l=v({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function H_(i){tu(i)}function F_(i){console.error(i)}function q_(i){tu(i)}function Eu(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function G_(i,a,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fd(i,a,l){return l=Us(l),l.tag=3,l.payload={element:null},l.callback=function(){Eu(i,a)},l}function Y_(i){return i=Us(i),i.tag=3,i}function Q_(i,a,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;i.payload=function(){return m(p)},i.callback=function(){G_(a,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){G_(a,l,u),typeof m!="function"&&($s===null?$s=new Set([this]):$s.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function cE(i,a,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Lr(a,l,m,!0),l=Vn.current,l!==null){switch(l.tag){case 31:case 13:return Wn===null?ku():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===uu?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Ld(i,u,m)),!1;case 22:return l.flags|=65536,u===uu?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Ld(i,u,m)),!1}throw Error(s(435,l.tag))}return Ld(i,u,m),ku(),!1}if(Pt)return a=Vn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,u!==Nf&&(i=Error(s(422),{cause:u}),rl(Qn(i,l)))):(u!==Nf&&(a=Error(s(423),{cause:u}),rl(Qn(a,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Qn(u,l),m=fd(i.stateNode,u,m),Hf(i,m),ye!==4&&(ye=2)),!1;var p=Error(s(520),{cause:u});if(p=Qn(p,l),Al===null?Al=[p]:Al.push(p),ye!==4&&(ye=2),a===null)return!0;u=Qn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=fd(l.stateNode,u,i),Hf(l,i),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($s===null||!$s.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Y_(m),Q_(m,i,l,u),Hf(l,m),!1}l=l.return}while(l!==null);return!1}var dd=Error(s(461)),De=!1;function We(i,a,l,u){a.child=i===null?Wp(a,null,l,u):Ga(a,i.child,l,u)}function $_(i,a,l,u,m){l=l.render;var p=a.ref;if("ref"in u){var b={};for(var C in u)C!=="ref"&&(b[C]=u[C])}else b=u;return Ua(a),u=$f(i,a,l,b,p,m),C=Kf(),i!==null&&!De?(Xf(i,a,m),ts(i,a,m)):(Pt&&C&&Df(a),a.flags|=1,We(i,a,u,m),a.child)}function K_(i,a,l,u,m){if(i===null){var p=l.type;return typeof p=="function"&&!wf(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,X_(i,a,p,u,m)):(i=su(l.type,null,u,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!Td(i,m)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:il,l(b,u)&&i.ref===a.ref)return ts(i,a,m)}return a.flags|=1,i=$i(p,u),i.ref=a.ref,i.return=a,a.child=i}function X_(i,a,l,u,m){if(i!==null){var p=i.memoizedProps;if(il(p,u)&&i.ref===a.ref)if(De=!1,a.pendingProps=u=p,Td(i,m))(i.flags&131072)!==0&&(De=!0);else return a.lanes=i.lanes,ts(i,a,m)}return gd(i,a,l,u,m)}function W_(i,a,l,u){var m=u.children,p=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,i!==null){for(u=a.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,a.child=null;return Z_(i,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&lu(a,p!==null?p.cachePool:null),p!==null?t_(a,p):qf(),e_(a);else return u=a.lanes=536870912,Z_(i,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(lu(a,p.cachePool),t_(a,p),qs(),a.memoizedState=null):(i!==null&&lu(a,null),qf(),qs());return We(i,a,m,l),a.child}function yl(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Z_(i,a,l,u,m){var p=jf();return p=p===null?null:{parent:Ce._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},i!==null&&lu(a,null),qf(),e_(a),i!==null&&Lr(i,a,u,!0),a.childLanes=m,null}function Su(i,a){return a=wu({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function J_(i,a,l){return Ga(a,i.child,null,l),i=Su(a,a.pendingProps),i.flags|=2,kn(a),a.memoizedState=null,i}function uE(i,a,l){var u=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Pt){if(u.mode==="hidden")return i=Su(a,u),a.lanes=536870912,yl(null,i);if(Yf(a),(i=le)?(i=hv(i,Xn),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Ei,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},l=zp(i),l.return=a,a.child=l,Ke=a,le=null)):i=null,i===null)throw js(a);return a.lanes=536870912,null}return Su(a,u)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(Yf(a),m)if(a.flags&256)a.flags&=-257,a=J_(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(s(558));else if(De||Lr(i,a,l,!1),m=(l&i.childLanes)!==0,De||m){if(u=re,u!==null&&(b=Ts(u,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,La(i,b),Cn(u,i,b),dd;ku(),a=J_(i,a,l)}else i=p.treeContext,le=Zn(b.nextSibling),Ke=a,Pt=!0,Ls=null,Xn=!1,i!==null&&Pp(a,i),a=Su(a,u),a.flags|=4096;return a}return i=$i(i.child,{mode:u.mode,children:u.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Au(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function gd(i,a,l,u,m){return Ua(a),l=$f(i,a,l,u,void 0,m),u=Kf(),i!==null&&!De?(Xf(i,a,m),ts(i,a,m)):(Pt&&u&&Df(a),a.flags|=1,We(i,a,l,m),a.child)}function ty(i,a,l,u,m,p){return Ua(a),a.updateQueue=null,l=i_(a,u,l,m),n_(i),u=Kf(),i!==null&&!De?(Xf(i,a,p),ts(i,a,p)):(Pt&&u&&Df(a),a.flags|=1,We(i,a,l,p),a.child)}function ey(i,a,l,u,m){if(Ua(a),a.stateNode===null){var p=Ir,b=l.contextType;typeof b=="object"&&b!==null&&(p=Xe(b)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=hd,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Bf(a),b=l.contextType,p.context=typeof b=="object"&&b!==null?Xe(b):Ir,p.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(ud(a,l,b,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&hd.enqueueReplaceState(p,p.state,null),dl(a,u,p,m),fl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){p=a.stateNode;var C=a.memoizedProps,L=Qa(l,C);p.props=L;var G=p.context,tt=l.contextType;b=Ir,typeof tt=="object"&&tt!==null&&(b=Xe(tt));var it=l.getDerivedStateFromProps;tt=typeof it=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,tt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||G!==b)&&U_(a,p,u,b),Bs=!1;var Y=a.memoizedState;p.state=Y,dl(a,u,p,m),fl(),G=a.memoizedState,C||Y!==G||Bs?(typeof it=="function"&&(ud(a,l,it,u),G=a.memoizedState),(L=Bs||B_(a,l,L,u,Y,G,b))?(tt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=G),p.props=u,p.state=G,p.context=b,u=L):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Uf(i,a),b=a.memoizedProps,tt=Qa(l,b),p.props=tt,it=a.pendingProps,Y=p.context,G=l.contextType,L=Ir,typeof G=="object"&&G!==null&&(L=Xe(G)),C=l.getDerivedStateFromProps,(G=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==it||Y!==L)&&U_(a,p,u,L),Bs=!1,Y=a.memoizedState,p.state=Y,dl(a,u,p,m),fl();var W=a.memoizedState;b!==it||Y!==W||Bs||i!==null&&i.dependencies!==null&&ru(i.dependencies)?(typeof C=="function"&&(ud(a,l,C,u),W=a.memoizedState),(tt=Bs||B_(a,l,tt,u,Y,W,L)||i!==null&&i.dependencies!==null&&ru(i.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,L)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=L,u=tt):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(a.flags|=1024),u=!1)}return p=u,Au(i,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&u?(a.child=Ga(a,i.child,null,m),a.child=Ga(a,null,l,m)):We(i,a,l,m),a.memoizedState=p.state,i=a.child):i=ts(i,a,m),i}function ny(i,a,l,u){return Pa(),a.flags|=256,We(i,a,l,u),a.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(i){return{baseLanes:i,cachePool:Gp()}}function _d(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Ln),i}function iy(i,a,l){var u=a.pendingProps,m=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(Te.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,i===null){if(Pt){if(m?Fs(a):qs(),(i=le)?(i=hv(i,Xn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:zs!==null?{id:Ei,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},l=zp(i),l.return=a,a.child=l,Ke=a,le=null)):i=null,i===null)throw js(a);return Jd(i)?a.lanes=32:a.lanes=536870912,null}var C=u.children;return u=u.fallback,m?(qs(),m=a.mode,C=wu({mode:"hidden",children:C},m),u=ja(u,m,l,null),C.return=a,u.return=a,C.sibling=u,a.child=C,u=a.child,u.memoizedState=pd(l),u.childLanes=_d(i,b,l),a.memoizedState=md,yl(null,u)):(Fs(a),yd(a,C))}var L=i.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(p)a.flags&256?(Fs(a),a.flags&=-257,a=vd(i,a,l)):a.memoizedState!==null?(qs(),a.child=i.child,a.flags|=128,a=null):(qs(),C=u.fallback,m=a.mode,u=wu({mode:"visible",children:u.children},m),C=ja(C,m,l,null),C.flags|=2,u.return=a,C.return=a,u.sibling=C,a.child=u,Ga(a,i.child,null,l),u=a.child,u.memoizedState=pd(l),u.childLanes=_d(i,b,l),a.memoizedState=md,a=yl(null,u));else if(Fs(a),Jd(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(s(419)),u.stack="",u.digest=b,rl({value:u,source:null,stack:null}),a=vd(i,a,l)}else if(De||Lr(i,a,l,!1),b=(l&i.childLanes)!==0,De||b){if(b=re,b!==null&&(u=Ts(b,l),u!==0&&u!==L.retryLane))throw L.retryLane=u,La(i,u),Cn(b,i,u),dd;Zd(C)||ku(),a=vd(i,a,l)}else Zd(C)?(a.flags|=192,a.child=i.child,a=null):(i=L.treeContext,le=Zn(C.nextSibling),Ke=a,Pt=!0,Ls=null,Xn=!1,i!==null&&Pp(a,i),a=yd(a,u.children),a.flags|=4096);return a}return m?(qs(),C=u.fallback,m=a.mode,L=i.child,G=L.sibling,u=$i(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,G!==null?C=$i(G,C):(C=ja(C,m,l,null),C.flags|=2),C.return=a,u.return=a,u.sibling=C,a.child=u,yl(null,u),u=a.child,C=i.child.memoizedState,C===null?C=pd(l):(m=C.cachePool,m!==null?(L=Ce._currentValue,m=m.parent!==L?{parent:L,pool:L}:m):m=Gp(),C={baseLanes:C.baseLanes|l,cachePool:m}),u.memoizedState=C,u.childLanes=_d(i,b,l),a.memoizedState=md,yl(i.child,u)):(Fs(a),l=i.child,i=l.sibling,l=$i(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,i!==null&&(b=a.deletions,b===null?(a.deletions=[i],a.flags|=16):b.push(i)),a.child=l,a.memoizedState=null,l)}function yd(i,a){return a=wu({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function wu(i,a){return i=In(22,i,null,a),i.lanes=0,i}function vd(i,a,l){return Ga(a,i.child,null,l),i=yd(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function sy(i,a,l){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),Vf(i.return,a,l)}function bd(i,a,l,u,m,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=m,b.treeForkCount=p)}function ay(i,a,l){var u=a.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var b=Te.current,C=(b&2)!==0;if(C?(b=b&1|2,a.flags|=128):b&=1,at(Te,b),We(i,a,u,l),u=Pt?al:0,!C&&i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&sy(i,l,a);else if(i.tag===19)sy(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=a.child,m=null;l!==null;)i=l.alternate,i!==null&&gu(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),bd(a,!1,m,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&gu(i)===null){a.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}bd(a,!0,l,null,p,u);break;case"together":bd(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ts(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Qs|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Lr(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,l=$i(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=$i(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Td(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&ru(i)))}function hE(i,a,l){switch(a.tag){case 3:Ge(a,a.stateNode.containerInfo),Ps(a,Ce,i.memoizedState.cache),Pa();break;case 27:case 5:gi(a);break;case 4:Ge(a,a.stateNode.containerInfo);break;case 10:Ps(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Yf(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Fs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?iy(i,a,l):(Fs(a),i=ts(i,a,l),i!==null?i.sibling:null);Fs(a);break;case 19:var m=(i.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Lr(i,a,l,!1),u=(l&a.childLanes)!==0),m){if(u)return ay(i,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),at(Te,Te.current),u)break;return null;case 22:return a.lanes=0,W_(i,a,l,a.pendingProps);case 24:Ps(a,Ce,i.memoizedState.cache)}return ts(i,a,l)}function ry(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)De=!0;else{if(!Td(i,l)&&(a.flags&128)===0)return De=!1,hE(i,a,l);De=(i.flags&131072)!==0}else De=!1,Pt&&(a.flags&1048576)!==0&&jp(a,al,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(i=Fa(a.elementType),a.type=i,typeof i=="function")wf(i)?(u=Qa(i,u),a.tag=1,a=ey(null,a,i,u,l)):(a.tag=0,a=gd(null,a,i,u,l));else{if(i!=null){var m=i.$$typeof;if(m===Q){a.tag=11,a=$_(null,a,i,u,l);break t}else if(m===D){a.tag=14,a=K_(null,a,i,u,l);break t}}throw a=Zt(i)||i,Error(s(306,a,""))}}return a;case 0:return gd(i,a,a.type,a.pendingProps,l);case 1:return u=a.type,m=Qa(u,a.pendingProps),ey(i,a,u,m,l);case 3:t:{if(Ge(a,a.stateNode.containerInfo),i===null)throw Error(s(387));u=a.pendingProps;var p=a.memoizedState;m=p.element,Uf(i,a),dl(a,u,null,l);var b=a.memoizedState;if(u=b.cache,Ps(a,Ce,u),u!==p.cache&&kf(a,[Ce],l,!0),fl(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=ny(i,a,u,l);break t}else if(u!==m){m=Qn(Error(s(424)),a),rl(m),a=ny(i,a,u,l);break t}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,le=Zn(i.firstChild),Ke=a,Pt=!0,Ls=null,Xn=!0,l=Wp(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Pa(),u===m){a=ts(i,a,l);break t}We(i,a,u,l)}a=a.child}return a;case 26:return Au(i,a),i===null?(l=_v(a.type,null,a.pendingProps,null))?a.memoizedState=l:Pt||(l=a.type,i=a.pendingProps,u=Hu(Tt.current).createElement(l),u[me]=a,u[$e]=i,Ze(u,l,i),be(u),a.stateNode=u):a.memoizedState=_v(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return gi(a),i===null&&Pt&&(u=a.stateNode=gv(a.type,a.pendingProps,Tt.current),Ke=a,Xn=!0,m=le,Zs(a.type)?(tg=m,le=Zn(u.firstChild)):le=m),We(i,a,a.pendingProps.children,l),Au(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Pt&&((m=u=le)&&(u=UE(u,a.type,a.pendingProps,Xn),u!==null?(a.stateNode=u,Ke=a,le=Zn(u.firstChild),Xn=!1,m=!0):m=!1),m||js(a)),gi(a),m=a.type,p=a.pendingProps,b=i!==null?i.memoizedProps:null,u=p.children,Kd(m,p)?u=null:b!==null&&Kd(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=$f(i,a,nE,null,null,l),Il._currentValue=m),Au(i,a),We(i,a,u,l),a.child;case 6:return i===null&&Pt&&((i=l=le)&&(l=HE(l,a.pendingProps,Xn),l!==null?(a.stateNode=l,Ke=a,le=null,i=!0):i=!1),i||js(a)),null;case 13:return iy(i,a,l);case 4:return Ge(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=Ga(a,null,u,l):We(i,a,u,l),a.child;case 11:return $_(i,a,a.type,a.pendingProps,l);case 7:return We(i,a,a.pendingProps,l),a.child;case 8:return We(i,a,a.pendingProps.children,l),a.child;case 12:return We(i,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ps(a,a.type,u.value),We(i,a,u.children,l),a.child;case 9:return m=a.type._context,u=a.pendingProps.children,Ua(a),m=Xe(m),u=u(m),a.flags|=1,We(i,a,u,l),a.child;case 14:return K_(i,a,a.type,a.pendingProps,l);case 15:return X_(i,a,a.type,a.pendingProps,l);case 19:return ay(i,a,l);case 31:return uE(i,a,l);case 22:return W_(i,a,l,a.pendingProps);case 24:return Ua(a),u=Xe(Ce),i===null?(m=jf(),m===null&&(m=re,p=zf(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),a.memoizedState={parent:u,cache:m},Bf(a),Ps(a,Ce,m)):((i.lanes&l)!==0&&(Uf(i,a),dl(a,null,null,l),fl()),m=i.memoizedState,p=a.memoizedState,m.parent!==u?(m={parent:u,cache:u},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ps(a,Ce,u)):(u=p.cache,Ps(a,Ce,u),u!==m.cache&&kf(a,[Ce],l,!0))),We(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function es(i){i.flags|=4}function xd(i,a,l,u,m){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Iy())i.flags|=8192;else throw qa=uu,Pf}else i.flags&=-16777217}function oy(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xv(a))if(Iy())i.flags|=8192;else throw qa=uu,Pf}function Cu(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Po():536870912,i.lanes|=a,Kr|=a)}function vl(i,a){if(!Pt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ce(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(a)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,a}function fE(i,a,l){var u=a.pendingProps;switch(Mf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(a),null;case 1:return ce(a),null;case 3:return l=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Wi(Ce),de(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(zr(a)?es(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Of())),ce(a),null;case 26:var m=a.type,p=a.memoizedState;return i===null?(es(a),p!==null?(ce(a),oy(a,p)):(ce(a),xd(a,m,null,u,l))):p?p!==i.memoizedState?(es(a),ce(a),oy(a,p)):(ce(a),a.flags&=-16777217):(i=i.memoizedProps,i!==u&&es(a),ce(a),xd(a,m,i,u,l)),null;case 27:if(zi(a),l=Tt.current,m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&es(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return ce(a),null}i=ut.current,zr(a)?Bp(a):(i=gv(m,u,l),a.stateNode=i,es(a))}return ce(a),null;case 5:if(zi(a),m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&es(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return ce(a),null}if(p=ut.current,zr(a))Bp(a);else{var b=Hu(Tt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(m,{is:u.is}):b.createElement(m)}}p[me]=a,p[$e]=u;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch(Ze(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&es(a)}}return ce(a),xd(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&es(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(i=Tt.current,zr(a)){if(i=a.stateNode,l=a.memoizedProps,u=null,m=Ke,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[me]=a,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||iv(i.nodeValue,l)),i||js(a,!0)}else i=Hu(i).createTextNode(u),i[me]=a,a.stateNode=i}return ce(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(u=zr(a),l!==null){if(i===null){if(!u)throw Error(s(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[me]=a}else Pa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ce(a),i=!1}else l=Of(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(kn(a),a):(kn(a),null);if((a.flags&128)!==0)throw Error(s(558))}return ce(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=zr(a),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[me]=a}else Pa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ce(a),m=!1}else m=Of(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(kn(a),a):(kn(a),null)}return kn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=a.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Cu(a,a.updateQueue),ce(a),null);case 4:return de(),i===null&&qd(a.stateNode.containerInfo),ce(a),null;case 10:return Wi(a.type),ce(a),null;case 19:if(J(Te),u=a.memoizedState,u===null)return ce(a),null;if(m=(a.flags&128)!==0,p=u.rendering,p===null)if(m)vl(u,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=gu(i),p!==null){for(a.flags|=128,vl(u,!1),i=p.updateQueue,a.updateQueue=i,Cu(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)kp(l,i),l=l.sibling;return at(Te,Te.current&1|2),Pt&&Ki(a,u.treeForkCount),a.child}i=i.sibling}u.tail!==null&&Ye()>Ou&&(a.flags|=128,m=!0,vl(u,!1),a.lanes=4194304)}else{if(!m)if(i=gu(p),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,a.updateQueue=i,Cu(a,i),vl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Pt)return ce(a),null}else 2*Ye()-u.renderingStartTime>Ou&&l!==536870912&&(a.flags|=128,m=!0,vl(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(i=u.last,i!==null?i.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ye(),i.sibling=null,l=Te.current,at(Te,m?l&1|2:l&1),Pt&&Ki(a,u.treeForkCount),i):(ce(a),null);case 22:case 23:return kn(a),Gf(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ce(a),a.subtreeFlags&6&&(a.flags|=8192)):ce(a),l=a.updateQueue,l!==null&&Cu(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),i!==null&&J(Ha),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Wi(Ce),ce(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function dE(i,a){switch(Mf(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Wi(Ce),de(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return zi(a),null;case 31:if(a.memoizedState!==null){if(kn(a),a.alternate===null)throw Error(s(340));Pa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(kn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Pa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return J(Te),null;case 4:return de(),null;case 10:return Wi(a.type),null;case 22:case 23:return kn(a),Gf(),i!==null&&J(Ha),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Wi(Ce),null;case 25:return null;default:return null}}function ly(i,a){switch(Mf(a),a.tag){case 3:Wi(Ce),de();break;case 26:case 27:case 5:zi(a);break;case 4:de();break;case 31:a.memoizedState!==null&&kn(a);break;case 13:kn(a);break;case 19:J(Te);break;case 10:Wi(a.type);break;case 22:case 23:kn(a),Gf(),i!==null&&J(Ha);break;case 24:Wi(Ce)}}function bl(i,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var p=l.create,b=l.inst;u=p(),b.destroy=u}l=l.next}while(l!==m)}}catch(C){ee(a,a.return,C)}}function Gs(i,a,l){try{var u=a.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&i)===i){var b=u.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,m=a;var L=l,G=C;try{G()}catch(tt){ee(m,L,tt)}}}u=u.next}while(u!==p)}}catch(tt){ee(a,a.return,tt)}}function cy(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Jp(a,l)}catch(u){ee(i,i.return,u)}}}function uy(i,a,l){l.props=Qa(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){ee(i,a,u)}}function Tl(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){ee(i,a,m)}}function Ai(i,a){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){ee(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ee(i,a,m)}else l.current=null}function hy(i){var a=i.type,l=i.memoizedProps,u=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){ee(i,i.return,m)}}function Ed(i,a,l){try{var u=i.stateNode;kE(u,i.type,l,a),u[$e]=a}catch(m){ee(i,i.return,m)}}function fy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Zs(i.type)||i.tag===4}function Sd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||fy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ad(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=je));else if(u!==4&&(u===27&&Zs(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Ad(i,a,l),i=i.sibling;i!==null;)Ad(i,a,l),i=i.sibling}function Ru(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(u!==4&&(u===27&&Zs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ru(i,a,l),i=i.sibling;i!==null;)Ru(i,a,l),i=i.sibling}function dy(i){var a=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Ze(a,u,l),a[me]=i,a[$e]=l}catch(p){ee(i,i.return,p)}}var ns=!1,Me=!1,wd=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function gE(i,a){if(i=i.containerInfo,Qd=Ku,i=wp(i),vf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,C=-1,L=-1,G=0,tt=0,it=i,Y=null;e:for(;;){for(var W;it!==l||m!==0&&it.nodeType!==3||(C=b+m),it!==p||u!==0&&it.nodeType!==3||(L=b+u),it.nodeType===3&&(b+=it.nodeValue.length),(W=it.firstChild)!==null;)Y=it,it=W;for(;;){if(it===i)break e;if(Y===l&&++G===m&&(C=b),Y===p&&++tt===u&&(L=b),(W=it.nextSibling)!==null)break;it=Y,Y=it.parentNode}it=W}l=C===-1||L===-1?null:{start:C,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for($d={focusedElem:i,selectionRange:l},Ku=!1,Ue=a;Ue!==null;)if(a=Ue,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Ue=i;else for(;Ue!==null;){switch(a=Ue,p=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,l=a,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var ht=Qa(l.type,m);i=u.getSnapshotBeforeUpdate(ht,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(bt){ee(l,l.return,bt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Wd(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,Ue=i;break}Ue=a.return}}function my(i,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ss(i,l),u&4&&bl(5,l);break;case 1:if(ss(i,l),u&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(b){ee(l,l.return,b)}else{var m=Qa(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ee(l,l.return,b)}}u&64&&cy(l),u&512&&Tl(l,l.return);break;case 3:if(ss(i,l),u&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Jp(i,a)}catch(b){ee(l,l.return,b)}}break;case 27:a===null&&u&4&&dy(l);case 26:case 5:ss(i,l),a===null&&u&4&&hy(l),u&512&&Tl(l,l.return);break;case 12:ss(i,l);break;case 31:ss(i,l),u&4&&yy(i,l);break;case 13:ss(i,l),u&4&&vy(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=EE.bind(null,l),FE(i,l))));break;case 22:if(u=l.memoizedState!==null||ns,!u){a=a!==null&&a.memoizedState!==null||Me,m=ns;var p=Me;ns=u,(Me=a)&&!p?as(i,l,(l.subtreeFlags&8772)!==0):ss(i,l),ns=m,Me=p}break;case 30:break;default:ss(i,l)}}function py(i){var a=i.alternate;a!==null&&(i.alternate=null,py(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Aa(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fe=null,En=!1;function is(i,a,l){for(l=l.child;l!==null;)_y(i,a,l),l=l.sibling}function _y(i,a,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ps,l)}catch{}switch(l.tag){case 26:Me||Ai(l,a),is(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Me||Ai(l,a);var u=fe,m=En;Zs(l.type)&&(fe=l.stateNode,En=!1),is(i,a,l),Ml(l.stateNode),fe=u,En=m;break;case 5:Me||Ai(l,a);case 6:if(u=fe,m=En,fe=null,is(i,a,l),fe=u,En=m,fe!==null)if(En)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(l.stateNode)}catch(p){ee(l,a,p)}else try{fe.removeChild(l.stateNode)}catch(p){ee(l,a,p)}break;case 18:fe!==null&&(En?(i=fe,cv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),io(i)):cv(fe,l.stateNode));break;case 4:u=fe,m=En,fe=l.stateNode.containerInfo,En=!0,is(i,a,l),fe=u,En=m;break;case 0:case 11:case 14:case 15:Gs(2,l,a),Me||Gs(4,l,a),is(i,a,l);break;case 1:Me||(Ai(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&uy(l,a,u)),is(i,a,l);break;case 21:is(i,a,l);break;case 22:Me=(u=Me)||l.memoizedState!==null,is(i,a,l),Me=u;break;default:is(i,a,l)}}function yy(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{io(i)}catch(l){ee(a,a.return,l)}}}function vy(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{io(i)}catch(l){ee(a,a.return,l)}}function mE(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new gy),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new gy),a;default:throw Error(s(435,i.tag))}}function Du(i,a){var l=mE(i);a.forEach(function(u){if(!l.has(u)){l.add(u);var m=SE.bind(null,i,u);u.then(m,m)}})}function Sn(i,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=i,b=a,C=b;t:for(;C!==null;){switch(C.tag){case 27:if(Zs(C.type)){fe=C.stateNode,En=!1;break t}break;case 5:fe=C.stateNode,En=!1;break t;case 3:case 4:fe=C.stateNode.containerInfo,En=!0;break t}C=C.return}if(fe===null)throw Error(s(160));_y(p,b,m),fe=null,En=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)by(a,i),a=a.sibling}var li=null;function by(i,a){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(a,i),An(i),u&4&&(Gs(3,i,i.return),bl(3,i),Gs(5,i,i.return));break;case 1:Sn(a,i),An(i),u&512&&(Me||l===null||Ai(l,l.return)),u&64&&ns&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=li;if(Sn(a,i),An(i),u&512&&(Me||l===null||Ai(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){t:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Bi]||p[me]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),Ze(p,u,l),p[me]=i,be(p),u=p;break t;case"link":var b=bv("link","href",m).get(u+(l.href||""));if(b){for(var C=0;C<b.length;C++)if(p=b[C],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(C,1);break e}}p=m.createElement(u),Ze(p,u,l),m.head.appendChild(p);break;case"meta":if(b=bv("meta","content",m).get(u+(l.content||""))){for(C=0;C<b.length;C++)if(p=b[C],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(C,1);break e}}p=m.createElement(u),Ze(p,u,l),m.head.appendChild(p);break;default:throw Error(s(468,u))}p[me]=i,be(p),u=p}i.stateNode=u}else Tv(m,i.type,i.stateNode);else i.stateNode=vv(m,u,i.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Tv(m,i.type,i.stateNode):vv(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Ed(i,i.memoizedProps,l.memoizedProps)}break;case 27:Sn(a,i),An(i),u&512&&(Me||l===null||Ai(l,l.return)),l!==null&&u&4&&Ed(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Sn(a,i),An(i),u&512&&(Me||l===null||Ai(l,l.return)),i.flags&32){m=i.stateNode;try{Gn(m,"")}catch(ht){ee(i,i.return,ht)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Ed(i,m,l!==null?l.memoizedProps:m)),u&1024&&(wd=!0);break;case 6:if(Sn(a,i),An(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(ht){ee(i,i.return,ht)}}break;case 3:if(Gu=null,m=li,li=Fu(a.containerInfo),Sn(a,i),li=m,An(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{io(a.containerInfo)}catch(ht){ee(i,i.return,ht)}wd&&(wd=!1,Ty(i));break;case 4:u=li,li=Fu(i.stateNode.containerInfo),Sn(a,i),An(i),li=u;break;case 12:Sn(a,i),An(i);break;case 31:Sn(a,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Du(i,u)));break;case 13:Sn(a,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nu=Ye()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Du(i,u)));break;case 22:m=i.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,G=ns,tt=Me;if(ns=G||m,Me=tt||L,Sn(a,i),Me=tt,ns=G,An(i),u&8192)t:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||L||ns||Me||$a(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){L=l=a;try{if(p=L.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=L.stateNode;var it=L.memoizedProps.style,Y=it!=null&&it.hasOwnProperty("display")?it.display:null;C.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ht){ee(L,L.return,ht)}}}else if(a.tag===6){if(l===null){L=a;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(ht){ee(L,L.return,ht)}}}else if(a.tag===18){if(l===null){L=a;try{var W=L.stateNode;m?uv(W,!0):uv(L.stateNode,!1)}catch(ht){ee(L,L.return,ht)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Du(i,l))));break;case 19:Sn(a,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Du(i,u)));break;case 30:break;case 21:break;default:Sn(a,i),An(i)}}function An(i){var a=i.flags;if(a&2){try{for(var l,u=i.return;u!==null;){if(fy(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,p=Sd(i);Ru(i,p,m);break;case 5:var b=l.stateNode;l.flags&32&&(Gn(b,""),l.flags&=-33);var C=Sd(i);Ru(i,C,b);break;case 3:case 4:var L=l.stateNode.containerInfo,G=Sd(i);Ad(i,G,L);break;default:throw Error(s(161))}}catch(tt){ee(i,i.return,tt)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Ty(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Ty(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ss(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)my(i,a.alternate,a),a=a.sibling}function $a(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Gs(4,a,a.return),$a(a);break;case 1:Ai(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&uy(a,a.return,l),$a(a);break;case 27:Ml(a.stateNode);case 26:case 5:Ai(a,a.return),$a(a);break;case 22:a.memoizedState===null&&$a(a);break;case 30:$a(a);break;default:$a(a)}i=i.sibling}}function as(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,m=i,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:as(m,p,l),bl(4,p);break;case 1:if(as(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){ee(u,u.return,G)}if(u=p,m=u.updateQueue,m!==null){var C=u.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)Zp(L[m],C)}catch(G){ee(u,u.return,G)}}l&&b&64&&cy(p),Tl(p,p.return);break;case 27:dy(p);case 26:case 5:as(m,p,l),l&&u===null&&b&4&&hy(p),Tl(p,p.return);break;case 12:as(m,p,l);break;case 31:as(m,p,l),l&&b&4&&yy(m,p);break;case 13:as(m,p,l),l&&b&4&&vy(m,p);break;case 22:p.memoizedState===null&&as(m,p,l),Tl(p,p.return);break;case 30:break;default:as(m,p,l)}a=a.sibling}}function Cd(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ol(l))}function Rd(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ol(i))}function ci(i,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)xy(i,a,l,u),a=a.sibling}function xy(i,a,l,u){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ci(i,a,l,u),m&2048&&bl(9,a);break;case 1:ci(i,a,l,u);break;case 3:ci(i,a,l,u),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ol(i)));break;case 12:if(m&2048){ci(i,a,l,u),i=a.stateNode;try{var p=a.memoizedProps,b=p.id,C=p.onPostCommit;typeof C=="function"&&C(b,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){ee(a,a.return,L)}}else ci(i,a,l,u);break;case 31:ci(i,a,l,u);break;case 13:ci(i,a,l,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?ci(i,a,l,u):xl(i,a):p._visibility&2?ci(i,a,l,u):(p._visibility|=2,Yr(i,a,l,u,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Cd(b,a);break;case 24:ci(i,a,l,u),m&2048&&Rd(a.alternate,a);break;default:ci(i,a,l,u)}}function Yr(i,a,l,u,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=i,b=a,C=l,L=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:Yr(p,b,C,L,m),bl(8,b);break;case 23:break;case 22:var tt=b.stateNode;b.memoizedState!==null?tt._visibility&2?Yr(p,b,C,L,m):xl(p,b):(tt._visibility|=2,Yr(p,b,C,L,m)),m&&G&2048&&Cd(b.alternate,b);break;case 24:Yr(p,b,C,L,m),m&&G&2048&&Rd(b.alternate,b);break;default:Yr(p,b,C,L,m)}a=a.sibling}}function xl(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,u=a,m=u.flags;switch(u.tag){case 22:xl(l,u),m&2048&&Cd(u.alternate,u);break;case 24:xl(l,u),m&2048&&Rd(u.alternate,u);break;default:xl(l,u)}a=a.sibling}}var El=8192;function Qr(i,a,l){if(i.subtreeFlags&El)for(i=i.child;i!==null;)Ey(i,a,l),i=i.sibling}function Ey(i,a,l){switch(i.tag){case 26:Qr(i,a,l),i.flags&El&&i.memoizedState!==null&&eS(l,li,i.memoizedState,i.memoizedProps);break;case 5:Qr(i,a,l);break;case 3:case 4:var u=li;li=Fu(i.stateNode.containerInfo),Qr(i,a,l),li=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=El,El=16777216,Qr(i,a,l),El=u):Qr(i,a,l));break;default:Qr(i,a,l)}}function Sy(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Sl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ue=u,wy(u,i)}Sy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ay(i),i=i.sibling}function Ay(i){switch(i.tag){case 0:case 11:case 15:Sl(i),i.flags&2048&&Gs(9,i,i.return);break;case 3:Sl(i);break;case 12:Sl(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Mu(i)):Sl(i);break;default:Sl(i)}}function Mu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Ue=u,wy(u,i)}Sy(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Gs(8,a,a.return),Mu(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Mu(a));break;default:Mu(a)}i=i.sibling}}function wy(i,a){for(;Ue!==null;){var l=Ue;switch(l.tag){case 0:case 11:case 15:Gs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ol(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ue=u;else t:for(l=i;Ue!==null;){u=Ue;var m=u.sibling,p=u.return;if(py(u),u===l){Ue=null;break t}if(m!==null){m.return=p,Ue=m;break t}Ue=p}}}var pE={getCacheForType:function(i){var a=Xe(Ce),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Xe(Ce).controller.signal}},_E=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,It=null,zt=0,te=0,zn=null,Ys=!1,$r=!1,Dd=!1,rs=0,ye=0,Qs=0,Ka=0,Md=0,Ln=0,Kr=0,Al=null,wn=null,Nd=!1,Nu=0,Cy=0,Ou=1/0,Iu=null,$s=null,ze=0,Ks=null,Xr=null,os=0,Od=0,Id=null,Ry=null,wl=0,Vd=null;function jn(){return($t&2)!==0&&zt!==0?zt&-zt:$.T!==null?Bd():Pi()}function Dy(){if(Ln===0)if((zt&536870912)===0||Pt){var i=mi;mi<<=1,(mi&3932160)===0&&(mi=262144),Ln=i}else Ln=536870912;return i=Vn.current,i!==null&&(i.flags|=32),Ln}function Cn(i,a,l){(i===re&&(te===2||te===9)||i.cancelPendingCommit!==null)&&(Wr(i,0),Xs(i,zt,Ln,!1)),vs(i,l),(($t&2)===0||i!==re)&&(i===re&&(($t&2)===0&&(Ka|=l),ye===4&&Xs(i,zt,Ln,!1)),wi(i))}function My(i,a,l){if(($t&6)!==0)throw Error(s(327));var u=!l&&(a&127)===0&&(a&i.expiredLanes)===0||ys(i,a),m=u?bE(i,a):zd(i,a,!0),p=u;do{if(m===0){$r&&!u&&Xs(i,a,0,!1);break}else{if(l=i.current.alternate,p&&!yE(l)){m=zd(i,a,!1),p=!1;continue}if(m===2){if(p=a,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var C=i;m=Al;var L=C.current.memoizedState.isDehydrated;if(L&&(Wr(C,b).flags|=256),b=zd(C,b,!1),b!==2){if(Dd&&!L){C.errorRecoveryDisabledLanes|=p,Ka|=p,m=4;break t}p=wn,wn=m,p!==null&&(wn===null?wn=p:wn.push.apply(wn,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){Wr(i,0),Xs(i,a,0,!0);break}t:{switch(u=i,p=m,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Xs(u,a,Ln,!Ys);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(m=Nu+300-Ye(),10<m)){if(Xs(u,a,Ln,!Ys),Fn(u,0,!0)!==0)break t;os=a,u.timeoutHandle=ov(Ny.bind(null,u,l,wn,Iu,Nd,a,Ln,Ka,Kr,Ys,p,"Throttled",-0,0),m);break t}Ny(u,l,wn,Iu,Nd,a,Ln,Ka,Kr,Ys,p,null,-0,0)}}break}while(!0);wi(i)}function Ny(i,a,l,u,m,p,b,C,L,G,tt,it,Y,W){if(i.timeoutHandle=-1,it=a.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:je},Ey(a,p,it);var ht=(p&62914560)===p?Nu-Ye():(p&4194048)===p?Cy-Ye():0;if(ht=nS(it,ht),ht!==null){os=p,i.cancelPendingCommit=ht(Py.bind(null,i,a,p,l,u,m,b,C,L,tt,it,null,Y,W)),Xs(i,p,b,!G);return}}Py(i,a,p,l,u,m,b,C,L)}function yE(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!On(p(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xs(i,a,l,u){a&=~Md,a&=~Ka,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var m=a;0<m;){var p=31-gn(m),b=1<<p;u[p]=-1,m&=~b}l!==0&&Bo(i,l,a)}function Vu(){return($t&6)===0?(Cl(0),!1):!0}function kd(){if(It!==null){if(te===0)var i=It.return;else i=It,Xi=Ba=null,Wf(i),Ur=null,cl=0,i=It;for(;i!==null;)ly(i.alternate,i),i=i.return;It=null}}function Wr(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,jE(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),os=0,kd(),re=i,It=l=$i(i.current,null),zt=a,te=0,zn=null,Ys=!1,$r=ys(i,a),Dd=!1,Kr=Ln=Md=Ka=Qs=ye=0,wn=Al=null,Nd=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var m=31-gn(u),p=1<<m;a|=i[m],u&=~p}return rs=a,eu(),l}function Oy(i,a){St=null,$.H=_l,a===Br||a===cu?(a=$p(),te=3):a===Pf?(a=$p(),te=4):te=a===dd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,zn=a,It===null&&(ye=1,Eu(i,Qn(a,i.current)))}function Iy(){var i=Vn.current;return i===null?!0:(zt&4194048)===zt?Wn===null:(zt&62914560)===zt||(zt&536870912)!==0?i===Wn:!1}function Vy(){var i=$.H;return $.H=_l,i===null?_l:i}function ky(){var i=$.A;return $.A=pE,i}function ku(){ye=4,Ys||(zt&4194048)!==zt&&Vn.current!==null||($r=!0),(Qs&134217727)===0&&(Ka&134217727)===0||re===null||Xs(re,zt,Ln,!1)}function zd(i,a,l){var u=$t;$t|=2;var m=Vy(),p=ky();(re!==i||zt!==a)&&(Iu=null,Wr(i,a)),a=!1;var b=ye;t:do try{if(te!==0&&It!==null){var C=It,L=zn;switch(te){case 8:kd(),b=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(a=!0);var G=te;if(te=0,zn=null,Zr(i,C,L,G),l&&$r){b=0;break t}break;default:G=te,te=0,zn=null,Zr(i,C,L,G)}}vE(),b=ye;break}catch(tt){Oy(i,tt)}while(!0);return a&&i.shellSuspendCounter++,Xi=Ba=null,$t=u,$.H=m,$.A=p,It===null&&(re=null,zt=0,eu()),b}function vE(){for(;It!==null;)zy(It)}function bE(i,a){var l=$t;$t|=2;var u=Vy(),m=ky();re!==i||zt!==a?(Iu=null,Ou=Ye()+500,Wr(i,a)):$r=ys(i,a);t:do try{if(te!==0&&It!==null){a=It;var p=zn;e:switch(te){case 1:te=0,zn=null,Zr(i,a,p,1);break;case 2:case 9:if(Yp(p)){te=0,zn=null,Ly(a);break}a=function(){te!==2&&te!==9||re!==i||(te=7),wi(i)},p.then(a,a);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Yp(p)?(te=0,zn=null,Ly(a)):(te=0,zn=null,Zr(i,a,p,7));break;case 5:var b=null;switch(It.tag){case 26:b=It.memoizedState;case 5:case 27:var C=It;if(b?xv(b):C.stateNode.complete){te=0,zn=null;var L=C.sibling;if(L!==null)It=L;else{var G=C.return;G!==null?(It=G,zu(G)):It=null}break e}}te=0,zn=null,Zr(i,a,p,5);break;case 6:te=0,zn=null,Zr(i,a,p,6);break;case 8:kd(),ye=6;break t;default:throw Error(s(462))}}TE();break}catch(tt){Oy(i,tt)}while(!0);return Xi=Ba=null,$.H=u,$.A=m,$t=l,It!==null?0:(re=null,zt=0,eu(),ye)}function TE(){for(;It!==null&&!lf();)zy(It)}function zy(i){var a=ry(i.alternate,i,rs);i.memoizedProps=i.pendingProps,a===null?zu(i):It=a}function Ly(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=ty(l,a,a.pendingProps,a.type,void 0,zt);break;case 11:a=ty(l,a,a.pendingProps,a.type.render,a.ref,zt);break;case 5:Wf(a);default:ly(l,a),a=It=kp(a,rs),a=ry(l,a,rs)}i.memoizedProps=i.pendingProps,a===null?zu(i):It=a}function Zr(i,a,l,u){Xi=Ba=null,Wf(a),Ur=null,cl=0;var m=a.return;try{if(cE(i,m,a,l,zt)){ye=1,Eu(i,Qn(l,i.current)),It=null;return}}catch(p){if(m!==null)throw It=m,p;ye=1,Eu(i,Qn(l,i.current)),It=null;return}a.flags&32768?(Pt||u===1?i=!0:$r||(zt&536870912)!==0?i=!1:(Ys=i=!0,(u===2||u===9||u===3||u===6)&&(u=Vn.current,u!==null&&u.tag===13&&(u.flags|=16384))),jy(a,i)):zu(a)}function zu(i){var a=i;do{if((a.flags&32768)!==0){jy(a,Ys);return}i=a.return;var l=fE(a.alternate,a,rs);if(l!==null){It=l;return}if(a=a.sibling,a!==null){It=a;return}It=a=i}while(a!==null);ye===0&&(ye=5)}function jy(i,a){do{var l=dE(i.alternate,i);if(l!==null){l.flags&=32767,It=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){It=i;return}It=i=l}while(i!==null);ye=6,It=null}function Py(i,a,l,u,m,p,b,C,L){i.cancelPendingCommit=null;do Lu();while(ze!==0);if(($t&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=Sf,Qe(i,l,p,b,C,L),i===re&&(It=re=null,zt=0),Xr=a,Ks=i,os=l,Od=p,Id=m,Ry=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,AE(Li,function(){return qy(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,m=rt.p,rt.p=2,b=$t,$t|=4;try{gE(i,a,l)}finally{$t=b,rt.p=m,$.T=u}}ze=1,By(),Uy(),Hy()}}function By(){if(ze===1){ze=0;var i=Ks,a=Xr,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=rt.p;rt.p=2;var m=$t;$t|=4;try{by(a,i);var p=$d,b=wp(i.containerInfo),C=p.focusedElem,L=p.selectionRange;if(b!==C&&C&&C.ownerDocument&&Ap(C.ownerDocument.documentElement,C)){if(L!==null&&vf(C)){var G=L.start,tt=L.end;if(tt===void 0&&(tt=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(tt,C.value.length);else{var it=C.ownerDocument||document,Y=it&&it.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),ht=C.textContent.length,bt=Math.min(L.start,ht),ae=L.end===void 0?bt:Math.min(L.end,ht);!W.extend&&bt>ae&&(b=ae,ae=bt,bt=b);var H=Sp(C,bt),P=Sp(C,ae);if(H&&P&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==P.node||W.focusOffset!==P.offset)){var q=it.createRange();q.setStart(H.node,H.offset),W.removeAllRanges(),bt>ae?(W.addRange(q),W.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),W.addRange(q))}}}}for(it=[],W=C;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<it.length;C++){var nt=it[C];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Ku=!!Qd,$d=Qd=null}finally{$t=m,rt.p=u,$.T=l}}i.current=a,ze=2}}function Uy(){if(ze===2){ze=0;var i=Ks,a=Xr,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=rt.p;rt.p=2;var m=$t;$t|=4;try{my(i,a.alternate,a)}finally{$t=m,rt.p=u,$.T=l}}ze=3}}function Hy(){if(ze===4||ze===3){ze=0,zo();var i=Ks,a=Xr,l=os,u=Ry;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ze=5:(ze=0,Xr=Ks=null,Fy(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&($s=null),Ho(l),a=a.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ps,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=$.T,m=rt.p,rt.p=2,$.T=null;try{for(var p=i.onRecoverableError,b=0;b<u.length;b++){var C=u[b];p(C.value,{componentStack:C.stack})}}finally{$.T=a,rt.p=m}}(os&3)!==0&&Lu(),wi(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===Vd?wl++:(wl=0,Vd=i):wl=0,Cl(0)}}function Fy(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,ol(a)))}function Lu(){return By(),Uy(),Hy(),qy()}function qy(){if(ze!==5)return!1;var i=Ks,a=Od;Od=0;var l=Ho(os),u=$.T,m=rt.p;try{rt.p=32>l?32:l,$.T=null,l=Id,Id=null;var p=Ks,b=os;if(ze=0,Xr=Ks=null,os=0,($t&6)!==0)throw Error(s(331));var C=$t;if($t|=4,Ay(p.current),xy(p,p.current,b,l),$t=C,Cl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ps,p)}catch{}return!0}finally{rt.p=m,$.T=u,Fy(i,a)}}function Gy(i,a,l){a=Qn(l,a),a=fd(i.stateNode,a,2),i=Hs(i,a,2),i!==null&&(vs(i,2),wi(i))}function ee(i,a,l){if(i.tag===3)Gy(i,i,l);else for(;a!==null;){if(a.tag===3){Gy(a,i,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($s===null||!$s.has(u))){i=Qn(l,i),l=Y_(2),u=Hs(a,l,2),u!==null&&(Q_(l,u,a,i),vs(u,2),wi(u));break}}a=a.return}}function Ld(i,a,l){var u=i.pingCache;if(u===null){u=i.pingCache=new _E;var m=new Set;u.set(a,m)}else m=u.get(a),m===void 0&&(m=new Set,u.set(a,m));m.has(l)||(Dd=!0,m.add(l),i=xE.bind(null,i,a,l),a.then(i,i))}function xE(i,a,l){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,re===i&&(zt&l)===l&&(ye===4||ye===3&&(zt&62914560)===zt&&300>Ye()-Nu?($t&2)===0&&Wr(i,0):Md|=l,Kr===zt&&(Kr=0)),wi(i)}function Yy(i,a){a===0&&(a=Po()),i=La(i,a),i!==null&&(vs(i,a),wi(i))}function EE(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Yy(i,l)}function SE(i,a){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),Yy(i,l)}function AE(i,a){return xa(i,a)}var ju=null,Jr=null,jd=!1,Pu=!1,Pd=!1,Ws=0;function wi(i){i!==Jr&&i.next===null&&(Jr===null?ju=Jr=i:Jr=Jr.next=i),Pu=!0,jd||(jd=!0,CE())}function Cl(i,a){if(!Pd&&Pu){Pd=!0;do for(var l=!1,u=ju;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var b=u.suspendedLanes,C=u.pingedLanes;p=(1<<31-gn(42|i)+1)-1,p&=m&~(b&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Xy(u,p))}else p=zt,p=Fn(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ys(u,p)||(l=!0,Xy(u,p));u=u.next}while(l);Pd=!1}}function wE(){Qy()}function Qy(){Pu=jd=!1;var i=0;Ws!==0&&LE()&&(i=Ws);for(var a=Ye(),l=null,u=ju;u!==null;){var m=u.next,p=$y(u,a);p===0?(u.next=null,l===null?ju=m:l.next=m,m===null&&(Jr=l)):(l=u,(i!==0||(p&3)!==0)&&(Pu=!0)),u=m}ze!==0&&ze!==5||Cl(i),Ws!==0&&(Ws=0)}function $y(i,a){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-gn(p),C=1<<b,L=m[b];L===-1?((C&l)===0||(C&u)!==0)&&(m[b]=vr(C,a)):L<=a&&(i.expiredLanes|=C),p&=~C}if(a=re,l=zt,l=Fn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===a&&(te===2||te===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&yr(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ys(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(u!==null&&yr(u),Ho(l)){case 2:case 8:l=Le;break;case 32:l=Li;break;case 268435456:l=Lo;break;default:l=Li}return u=Ky.bind(null,i),l=xa(l,u),i.callbackPriority=a,i.callbackNode=l,a}return u!==null&&u!==null&&yr(u),i.callbackPriority=2,i.callbackNode=null,2}function Ky(i,a){if(ze!==0&&ze!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Lu()&&i.callbackNode!==l)return null;var u=zt;return u=Fn(i,i===re?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(My(i,u,a),$y(i,Ye()),i.callbackNode!=null&&i.callbackNode===l?Ky.bind(null,i):null)}function Xy(i,a){if(Lu())return null;My(i,a,!0)}function CE(){PE(function(){($t&6)!==0?xa(ke,wE):Qy()})}function Bd(){if(Ws===0){var i=jr;i===0&&(i=Sa,Sa<<=1,(Sa&261888)===0&&(Sa=256)),Ws=i}return Ws}function Wy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:bi(""+i)}function Zy(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function RE(i,a,l,u,m){if(a==="submit"&&l&&l.stateNode===m){var p=Wy((m[$e]||null).action),b=u.submitter;b&&(a=(a=b[$e]||null)?Wy(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var C=new Ma("action","action",null,u,m);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ws!==0){var L=b?Zy(m,b):new FormData(m);rd(l,{pending:!0,data:L,method:m.method,action:p},null,L)}}else typeof p=="function"&&(C.preventDefault(),L=b?Zy(m,b):new FormData(m),rd(l,{pending:!0,data:L,method:m.method,action:p},p,L))},currentTarget:m}]})}}for(var Ud=0;Ud<Ef.length;Ud++){var Hd=Ef[Ud],DE=Hd.toLowerCase(),ME=Hd[0].toUpperCase()+Hd.slice(1);oi(DE,"on"+ME)}oi(Dp,"onAnimationEnd"),oi(Mp,"onAnimationIteration"),oi(Np,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(Yx,"onTransitionRun"),oi(Qx,"onTransitionStart"),oi($x,"onTransitionCancel"),oi(Op,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Jy(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var C=u[b],L=C.instance,G=C.currentTarget;if(C=C.listener,L!==p&&m.isPropagationStopped())break t;p=C,m.currentTarget=G;try{p(m)}catch(tt){tu(tt)}m.currentTarget=null,p=L}else for(b=0;b<u.length;b++){if(C=u[b],L=C.instance,G=C.currentTarget,C=C.listener,L!==p&&m.isPropagationStopped())break t;p=C,m.currentTarget=G;try{p(m)}catch(tt){tu(tt)}m.currentTarget=null,p=L}}}}function Vt(i,a){var l=a[xs];l===void 0&&(l=a[xs]=new Set);var u=i+"__bubble";l.has(u)||(tv(a,i,2,!1),l.add(u))}function Fd(i,a,l){var u=0;a&&(u|=4),tv(l,i,u,a)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function qd(i){if(!i[Bu]){i[Bu]=!0,br.forEach(function(l){l!=="selectionchange"&&(NE.has(l)||Fd(l,!1,i),Fd(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Bu]||(a[Bu]=!0,Fd("selectionchange",!1,a))}}function tv(i,a,l,u){switch(Dv(a)){case 2:var m=aS;break;case 8:m=rS;break;default:m=ag}l=m.bind(null,a,l,i),m=void 0,!Xo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(a,l,{capture:!0,passive:m}):i.addEventListener(a,l,!0):m!==void 0?i.addEventListener(a,l,{passive:m}):i.addEventListener(a,l,!1)}function Gd(i,a,l,u,m){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var C=u.stateNode.containerInfo;if(C===m)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;C!==null;){if(b=Ui(C),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=p=b;continue t}C=C.parentNode}}u=u.return}jc(function(){var G=p,tt=Ar(l),it=[];t:{var Y=Ip.get(i);if(Y!==void 0){var W=Ma,ht=i;switch(i){case"keypress":if(Da(l)===0)break t;case"keydown":case"keyup":W=Qc;break;case"focusin":ht="focus",W=Os;break;case"focusout":ht="blur",W=Os;break;case"beforeblur":case"afterblur":W=Os;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Kc;break;case Dp:case Mp:case Np:W=Rr;break;case Op:W=Dr;break;case"scroll":case"scrollend":W=Pc;break;case"wheel":W=Wc;break;case"copy":case"cut":case"paste":W=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=el;break;case"toggle":case"beforetoggle":W=Vs}var bt=(a&4)!==0,ae=!bt&&(i==="scroll"||i==="scrollend"),H=bt?Y!==null?Y+"Capture":null:Y;bt=[];for(var P=G,q;P!==null;){var nt=P;if(q=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||q===null||H===null||(nt=Tn(P,H),nt!=null&&bt.push(Dl(P,nt,q))),ae)break;P=P.return}0<bt.length&&(Y=new W(Y,ht,null,l,tt),it.push({event:Y,listeners:bt}))}}if((a&7)===0){t:{if(Y=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Y&&l!==Sr&&(ht=l.relatedTarget||l.fromElement)&&(Ui(ht)||ht[_i]))break t;if((W||Y)&&(Y=tt.window===tt?tt:(Y=tt.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(ht=l.relatedTarget||l.toElement,W=G,ht=ht?Ui(ht):null,ht!==null&&(ae=o(ht),bt=ht.tag,ht!==ae||bt!==5&&bt!==27&&bt!==6)&&(ht=null)):(W=null,ht=G),W!==ht)){if(bt=Bc,nt="onMouseLeave",H="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(bt=el,nt="onPointerLeave",H="onPointerEnter",P="pointer"),ae=W==null?Y:wa(W),q=ht==null?Y:wa(ht),Y=new bt(nt,P+"leave",W,l,tt),Y.target=ae,Y.relatedTarget=q,nt=null,Ui(tt)===G&&(bt=new bt(H,P+"enter",ht,l,tt),bt.target=q,bt.relatedTarget=ae,nt=bt),ae=nt,W&&ht)e:{for(bt=OE,H=W,P=ht,q=0,nt=H;nt;nt=bt(nt))q++;nt=0;for(var _t=P;_t;_t=bt(_t))nt++;for(;0<q-nt;)H=bt(H),q--;for(;0<nt-q;)P=bt(P),nt--;for(;q--;){if(H===P||P!==null&&H===P.alternate){bt=H;break e}H=bt(H),P=bt(P)}bt=null}else bt=null;W!==null&&ev(it,Y,W,bt,!1),ht!==null&&ae!==null&&ev(it,ae,ht,bt,!0)}}t:{if(Y=G?wa(G):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Yt=yp;else if(xn(Y))if(vp)Yt=Fx;else{Yt=Ux;var dt=Bx}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&$o(G.elementType)&&(Yt=yp):Yt=Hx;if(Yt&&(Yt=Yt(i,G))){Va(it,Yt,l,tt);break t}dt&&dt(i,Y,G),i==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Er(Y,"number",Y.value)}switch(dt=G?wa(G):window,i){case"focusin":(xn(dt)||dt.contentEditable==="true")&&(Mr=dt,bf=G,sl=null);break;case"focusout":sl=bf=Mr=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Cp(it,l,tt);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":Cp(it,l,tt)}var Ct;if(y)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Dt?Jt(i,l)&&(Lt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(F&&l.locale!=="ko"&&(Dt||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Dt&&(Ct=Rs()):(Nn=tt,wr="value"in Nn?Nn.value:Nn.textContent,Dt=!0)),dt=Uu(G,Lt),0<dt.length&&(Lt=new Zo(Lt,i,null,l,tt),it.push({event:Lt,listeners:dt}),Ct?Lt.data=Ct:(Ct=we(l),Ct!==null&&(Lt.data=Ct)))),(Ct=M?Pe(i,l):Be(i,l))&&(Lt=Uu(G,"onBeforeInput"),0<Lt.length&&(dt=new Zo("onBeforeInput","beforeinput",null,l,tt),it.push({event:dt,listeners:Lt}),dt.data=Ct)),RE(it,i,G,l,tt)}Jy(it,a)})}function Dl(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Uu(i,a){for(var l=a+"Capture",u=[];i!==null;){var m=i,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Tn(i,l),m!=null&&u.unshift(Dl(i,m,p)),m=Tn(i,a),m!=null&&u.push(Dl(i,m,p))),i.tag===3)return u;i=i.return}return[]}function OE(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ev(i,a,l,u,m){for(var p=a._reactName,b=[];l!==null&&l!==u;){var C=l,L=C.alternate,G=C.stateNode;if(C=C.tag,L!==null&&L===u)break;C!==5&&C!==26&&C!==27||G===null||(L=G,m?(G=Tn(l,p),G!=null&&b.unshift(Dl(l,G,L))):m||(G=Tn(l,p),G!=null&&b.push(Dl(l,G,L)))),l=l.return}b.length!==0&&i.push({event:a,listeners:b})}var IE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function nv(i){return(typeof i=="string"?i:""+i).replace(IE,`
`).replace(VE,"")}function iv(i,a){return a=nv(a),nv(i)===a}function se(i,a,l,u,m,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Gn(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Gn(i,""+u);break;case"className":As(i,"class",u);break;case"tabIndex":As(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":As(i,l,u);break;case"style":zc(i,u,p);break;case"data":if(a!=="object"){As(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=bi(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&se(i,a,"name",m.name,m,null),se(i,a,"formEncType",m.formEncType,m,null),se(i,a,"formMethod",m.formMethod,m,null),se(i,a,"formTarget",m.formTarget,m,null)):(se(i,a,"encType",m.encType,m,null),se(i,a,"method",m.method,m,null),se(i,a,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=bi(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=je);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=bi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),Ss(i,"popover",u);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ss(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gf.get(l)||l,Ss(i,l,u))}}function Yd(i,a,l,u,m,p){switch(l){case"style":zc(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Gn(i,u):(typeof u=="number"||typeof u=="bigint")&&Gn(i,""+u);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=je);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Es.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),p=i[$e]||null,p=p!=null?p[l]:null,typeof p=="function"&&i.removeEventListener(a,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,u,m);break t}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Ss(i,l,u)}}}function Ze(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:se(i,a,p,b,l,null)}}m&&se(i,a,"srcSet",l.srcSet,l,null),u&&se(i,a,"src",l.src,l,null);return;case"input":Vt("invalid",i);var C=p=b=m=null,L=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var tt=l[u];if(tt!=null)switch(u){case"name":m=tt;break;case"type":b=tt;break;case"checked":L=tt;break;case"defaultChecked":G=tt;break;case"value":p=tt;break;case"defaultValue":C=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,a));break;default:se(i,a,u,tt,l,null)}}Ca(i,p,C,L,G,b,m,!1);return;case"select":Vt("invalid",i),u=b=p=null;for(m in l)if(l.hasOwnProperty(m)&&(C=l[m],C!=null))switch(m){case"value":p=C;break;case"defaultValue":b=C;break;case"multiple":u=C;default:se(i,a,m,C,l,null)}a=p,l=b,i.multiple=!!u,a!=null?Gt(i,!!u,a,!1):l!=null&&Gt(i,!!u,l,!0);return;case"textarea":Vt("invalid",i),p=m=u=null;for(b in l)if(l.hasOwnProperty(b)&&(C=l[b],C!=null))switch(b){case"value":u=C;break;case"defaultValue":m=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:se(i,a,b,C,l,null)}Cs(i,u,m,p);return;case"option":for(L in l)l.hasOwnProperty(L)&&(u=l[L],u!=null)&&(L==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":se(i,a,L,u,l,null));return;case"dialog":Vt("beforetoggle",i),Vt("toggle",i),Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(u=0;u<Rl.length;u++)Vt(Rl[u],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:se(i,a,G,u,l,null)}return;default:if($o(a)){for(tt in l)l.hasOwnProperty(tt)&&(u=l[tt],u!==void 0&&Yd(i,a,tt,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&se(i,a,C,u,l,null))}function kE(i,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,C=null,L=null,G=null,tt=null;for(W in l){var it=l[W];if(l.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=it;default:u.hasOwnProperty(W)||se(i,a,W,null,u,it)}}for(var Y in u){var W=u[Y];if(it=l[Y],u.hasOwnProperty(Y)&&(W!=null||it!=null))switch(Y){case"type":p=W;break;case"name":m=W;break;case"checked":G=W;break;case"defaultChecked":tt=W;break;case"value":b=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,a));break;default:W!==it&&se(i,a,Y,W,u,it)}}ws(i,b,C,L,G,tt,p,m);return;case"select":W=b=C=Y=null;for(p in l)if(L=l[p],l.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":W=L;default:u.hasOwnProperty(p)||se(i,a,p,null,u,L)}for(m in u)if(p=u[m],L=l[m],u.hasOwnProperty(m)&&(p!=null||L!=null))switch(m){case"value":Y=p;break;case"defaultValue":C=p;break;case"multiple":b=p;default:p!==L&&se(i,a,m,p,u,L)}a=C,l=b,u=W,Y!=null?Gt(i,!!l,Y,!1):!!u!=!!l&&(a!=null?Gt(i,!!l,a,!0):Gt(i,!!l,l?[]:"",!1));return;case"textarea":W=Y=null;for(C in l)if(m=l[C],l.hasOwnProperty(C)&&m!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:se(i,a,C,null,u,m)}for(b in u)if(m=u[b],p=l[b],u.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":Y=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==p&&se(i,a,b,m,u,p)}Ra(i,Y,W);return;case"option":for(var ht in l)Y=l[ht],l.hasOwnProperty(ht)&&Y!=null&&!u.hasOwnProperty(ht)&&(ht==="selected"?i.selected=!1:se(i,a,ht,null,u,Y));for(L in u)Y=u[L],W=l[L],u.hasOwnProperty(L)&&Y!==W&&(Y!=null||W!=null)&&(L==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":se(i,a,L,Y,u,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in l)Y=l[bt],l.hasOwnProperty(bt)&&Y!=null&&!u.hasOwnProperty(bt)&&se(i,a,bt,null,u,Y);for(G in u)if(Y=u[G],W=l[G],u.hasOwnProperty(G)&&Y!==W&&(Y!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,a));break;default:se(i,a,G,Y,u,W)}return;default:if($o(a)){for(var ae in l)Y=l[ae],l.hasOwnProperty(ae)&&Y!==void 0&&!u.hasOwnProperty(ae)&&Yd(i,a,ae,void 0,u,Y);for(tt in u)Y=u[tt],W=l[tt],!u.hasOwnProperty(tt)||Y===W||Y===void 0&&W===void 0||Yd(i,a,tt,Y,u,W);return}}for(var H in l)Y=l[H],l.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&se(i,a,H,null,u,Y);for(it in u)Y=u[it],W=l[it],!u.hasOwnProperty(it)||Y===W||Y==null&&W==null||se(i,a,it,Y,u,W)}function sv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zE(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],p=m.transferSize,b=m.initiatorType,C=m.duration;if(p&&C&&sv(b)){for(b=0,C=m.responseEnd,u+=1;u<l.length;u++){var L=l[u],G=L.startTime;if(G>C)break;var tt=L.transferSize,it=L.initiatorType;tt&&sv(it)&&(L=L.responseEnd,b+=tt*(L<C?1:(C-G)/(L-G)))}if(--u,a+=8*(p+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qd=null,$d=null;function Hu(i){return i.nodeType===9?i:i.ownerDocument}function av(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Kd(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xd=null;function LE(){var i=window.event;return i&&i.type==="popstate"?i===Xd?!1:(Xd=i,!0):(Xd=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,jE=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,PE=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(i){return lv.resolve(null).then(i).catch(BE)}:ov;function BE(i){setTimeout(function(){throw i})}function Zs(i){return i==="head"}function cv(i,a){var l=a,u=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(m),io(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Ml(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Ml(l);for(var p=l.firstChild;p;){var b=p.nextSibling,C=p.nodeName;p[Bi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&Ml(i.ownerDocument.body);l=m}while(l);io(a)}function uv(i,a){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function Wd(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wd(l),Aa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function UE(i,a,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Bi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function HE(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Zn(i.nextSibling),i===null))return null;return i}function hv(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Zn(i.nextSibling),i===null))return null;return i}function Zd(i){return i.data==="$?"||i.data==="$~"}function Jd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function FE(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Zn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var tg=null;function fv(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Zn(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function dv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function gv(i,a,l){switch(a=Hu(l),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ml(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Aa(i)}var Jn=new Map,mv=new Set;function Fu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ls=rt.d;rt.d={f:qE,r:GE,D:YE,C:QE,L:$E,m:KE,X:WE,S:XE,M:ZE};function qE(){var i=ls.f(),a=Vu();return i||a}function GE(i){var a=Hi(i);a!==null&&a.tag===5&&a.type==="form"?O_(a):ls.r(i)}var to=typeof document>"u"?null:document;function pv(i,a,l){var u=to;if(u&&typeof a=="string"&&a){var m=pe(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),mv.has(m)||(mv.add(m),i={rel:i,crossOrigin:l,href:a},u.querySelector(m)===null&&(a=u.createElement("link"),Ze(a,"link",i),be(a),u.head.appendChild(a)))}}function YE(i){ls.D(i),pv("dns-prefetch",i,null)}function QE(i,a){ls.C(i,a),pv("preconnect",i,a)}function $E(i,a,l){ls.L(i,a,l);var u=to;if(u&&i&&a){var m='link[rel="preload"][as="'+pe(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+pe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+pe(l.imageSizes)+'"]')):m+='[href="'+pe(i)+'"]';var p=m;switch(a){case"style":p=eo(i);break;case"script":p=no(i)}Jn.has(p)||(i=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Jn.set(p,i),u.querySelector(m)!==null||a==="style"&&u.querySelector(Nl(p))||a==="script"&&u.querySelector(Ol(p))||(a=u.createElement("link"),Ze(a,"link",i),be(a),u.head.appendChild(a)))}}function KE(i,a){ls.m(i,a);var l=to;if(l&&i){var u=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+pe(u)+'"][href="'+pe(i)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=no(i)}if(!Jn.has(p)&&(i=v({rel:"modulepreload",href:i},a),Jn.set(p,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ol(p)))return}u=l.createElement("link"),Ze(u,"link",i),be(u),l.head.appendChild(u)}}}function XE(i,a,l){ls.S(i,a,l);var u=to;if(u&&i){var m=ai(u).hoistableStyles,p=eo(i);a=a||"default";var b=m.get(p);if(!b){var C={loading:0,preload:null};if(b=u.querySelector(Nl(p)))C.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Jn.get(p))&&eg(i,l);var L=b=u.createElement("link");be(L),Ze(L,"link",i),L._p=new Promise(function(G,tt){L.onload=G,L.onerror=tt}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,qu(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:C},m.set(p,b)}}}function WE(i,a){ls.X(i,a);var l=to;if(l&&i){var u=ai(l).hoistableScripts,m=no(i),p=u.get(m);p||(p=l.querySelector(Ol(m)),p||(i=v({src:i,async:!0},a),(a=Jn.get(m))&&ng(i,a),p=l.createElement("script"),be(p),Ze(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function ZE(i,a){ls.M(i,a);var l=to;if(l&&i){var u=ai(l).hoistableScripts,m=no(i),p=u.get(m);p||(p=l.querySelector(Ol(m)),p||(i=v({src:i,async:!0,type:"module"},a),(a=Jn.get(m))&&ng(i,a),p=l.createElement("script"),be(p),Ze(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function _v(i,a,l,u){var m=(m=Tt.current)?Fu(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=eo(l.href),l=ai(m).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=eo(l.href);var p=ai(m).hoistableStyles,b=p.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=m.querySelector(Nl(i)))&&!p._p&&(b.instance=p,b.state.loading=5),Jn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jn.set(i,l),p||JE(m,i,l,b.state))),a&&u===null)throw Error(s(528,""));return b}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=no(l),l=ai(m).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function eo(i){return'href="'+pe(i)+'"'}function Nl(i){return'link[rel="stylesheet"]['+i+"]"}function yv(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function JE(i,a,l,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Ze(a,"link",l),be(a),i.head.appendChild(a))}function no(i){return'[src="'+pe(i)+'"]'}function Ol(i){return"script[async]"+i}function vv(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+pe(l.href)+'"]');if(u)return a.instance=u,be(u),u;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),be(u),Ze(u,"style",m),qu(u,l.precedence,i),a.instance=u;case"stylesheet":m=eo(l.href);var p=i.querySelector(Nl(m));if(p)return a.state.loading|=4,a.instance=p,be(p),p;u=yv(l),(m=Jn.get(m))&&eg(u,m),p=(i.ownerDocument||i).createElement("link"),be(p);var b=p;return b._p=new Promise(function(C,L){b.onload=C,b.onerror=L}),Ze(p,"link",u),a.state.loading|=4,qu(p,l.precedence,i),a.instance=p;case"script":return p=no(l.src),(m=i.querySelector(Ol(p)))?(a.instance=m,be(m),m):(u=l,(m=Jn.get(p))&&(u=v({},l),ng(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),be(m),Ze(m,"link",u),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,qu(u,l.precedence,i));return a.instance}function qu(i,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,b=0;b<u.length;b++){var C=u[b];if(C.dataset.precedence===a)p=C;else if(p!==m)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function eg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function ng(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Gu=null;function bv(i,a,l){if(Gu===null){var u=new Map,m=Gu=new Map;m.set(l,u)}else m=Gu,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var p=l[m];if(!(p[Bi]||p[me]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=i+b;var C=u.get(b);C?C.push(p):u.set(b,[p])}}return u}function Tv(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function tS(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function xv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function eS(i,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=eo(u.href),p=a.querySelector(Nl(m));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Yu.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=p,be(p);return}p=a.ownerDocument||a,u=yv(u),(m=Jn.get(m))&&eg(u,m),p=p.createElement("link"),be(p);var b=p;b._p=new Promise(function(C,L){b.onload=C,b.onerror=L}),Ze(p,"link",u),l.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Yu.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var ig=0;function nS(i,a){return i.stylesheets&&i.count===0&&$u(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&$u(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+a);0<i.imgBytes&&ig===0&&(ig=62500*zE());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&$u(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>ig?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qu=null;function $u(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qu=new Map,a.forEach(iS,i),Qu=null,Yu.call(i))}function iS(i,a){if(!(a.state.loading&4)){var l=Qu.get(i);if(l)var u=l.get(null);else{l=new Map,Qu.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}m=a.instance,b=m.getAttribute("data-precedence"),p=l.get(b)||u,p===u&&l.set(null,m),l.set(b,m),this.count++,u=Yu.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Il={$$typeof:K,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function sS(i,a,l,u,m,p,b,C,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Ev(i,a,l,u,m,p,b,C,L,G,tt,it){return i=new sS(i,a,l,b,L,G,tt,it,C),a=1,p===!0&&(a|=24),p=In(3,null,null,a),i.current=p,p.stateNode=i,a=zf(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Bf(p),i}function Sv(i){return i?(i=Ir,i):Ir}function Av(i,a,l,u,m,p){m=Sv(m),u.context===null?u.context=m:u.pendingContext=m,u=Us(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Hs(i,u,a),l!==null&&(Cn(l,i,a),hl(l,i,a))}function wv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function sg(i,a){wv(i,a),(i=i.alternate)&&wv(i,a)}function Cv(i){if(i.tag===13||i.tag===31){var a=La(i,67108864);a!==null&&Cn(a,i,67108864),sg(i,67108864)}}function Rv(i){if(i.tag===13||i.tag===31){var a=jn();a=Uo(a);var l=La(i,a);l!==null&&Cn(l,i,a),sg(i,a)}}var Ku=!0;function aS(i,a,l,u){var m=$.T;$.T=null;var p=rt.p;try{rt.p=2,ag(i,a,l,u)}finally{rt.p=p,$.T=m}}function rS(i,a,l,u){var m=$.T;$.T=null;var p=rt.p;try{rt.p=8,ag(i,a,l,u)}finally{rt.p=p,$.T=m}}function ag(i,a,l,u){if(Ku){var m=rg(u);if(m===null)Gd(i,a,u,Xu,l),Mv(i,u);else if(lS(m,i,a,l,u))u.stopPropagation();else if(Mv(i,u),a&4&&-1<oS.indexOf(i)){for(;m!==null;){var p=Hi(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=si(p.pendingLanes);if(b!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var L=1<<31-gn(b);C.entanglements[1]|=L,b&=~L}wi(p),($t&6)===0&&(Ou=Ye()+500,Cl(0))}}break;case 31:case 13:C=La(p,2),C!==null&&Cn(C,p,2),Vu(),sg(p,2)}if(p=rg(u),p===null&&Gd(i,a,u,Xu,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else Gd(i,a,u,null,l)}}function rg(i){return i=Ar(i),og(i)}var Xu=null;function og(i){if(Xu=null,i=Ui(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Xu=i,null}function Dv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dc()){case ke:return 2;case Le:return 8;case Li:case Mc:return 32;case Lo:return 268435456;default:return 32}default:return 32}}var lg=!1,Js=null,ta=null,ea=null,Vl=new Map,kl=new Map,na=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(i,a){switch(i){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Vl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(a.pointerId)}}function zl(i,a,l,u,m,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},a!==null&&(a=Hi(a),a!==null&&Cv(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function lS(i,a,l,u,m){switch(a){case"focusin":return Js=zl(Js,i,a,l,u,m),!0;case"dragenter":return ta=zl(ta,i,a,l,u,m),!0;case"mouseover":return ea=zl(ea,i,a,l,u,m),!0;case"pointerover":var p=m.pointerId;return Vl.set(p,zl(Vl.get(p)||null,i,a,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,kl.set(p,zl(kl.get(p)||null,i,a,l,u,m)),!0}return!1}function Nv(i){var a=Ui(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,Oc(i.priority,function(){Rv(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,Oc(i.priority,function(){Rv(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wu(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=rg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Sr=u,l.target.dispatchEvent(u),Sr=null}else return a=Hi(l),a!==null&&Cv(a),i.blockedOn=l,!1;a.shift()}return!0}function Ov(i,a,l){Wu(i)&&l.delete(a)}function cS(){lg=!1,Js!==null&&Wu(Js)&&(Js=null),ta!==null&&Wu(ta)&&(ta=null),ea!==null&&Wu(ea)&&(ea=null),Vl.forEach(Ov),kl.forEach(Ov)}function Zu(i,a){i.blockedOn===a&&(i.blockedOn=null,lg||(lg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cS)))}var Ju=null;function Iv(i){Ju!==i&&(Ju=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ju===i&&(Ju=null);for(var a=0;a<i.length;a+=3){var l=i[a],u=i[a+1],m=i[a+2];if(typeof u!="function"){if(og(u||l)===null)continue;break}var p=Hi(l);p!==null&&(i.splice(a,3),a-=3,rd(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function io(i){function a(L){return Zu(L,i)}Js!==null&&Zu(Js,i),ta!==null&&Zu(ta,i),ea!==null&&Zu(ea,i),Vl.forEach(a),kl.forEach(a);for(var l=0;l<na.length;l++){var u=na[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<na.length&&(l=na[0],l.blockedOn===null);)Nv(l),l.blockedOn===null&&na.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],b=m[$e]||null;if(typeof p=="function")b||Iv(l);else if(b){var C=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[$e]||null)C=b.formAction;else if(og(m)!==null)continue}else C=b.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),Iv(l)}}}function Vv(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function cg(i){this._internalRoot=i}th.prototype.render=cg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,u=jn();Av(l,u,i,a,null,null)},th.prototype.unmount=cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Av(i.current,2,null,i,null,null),Vu(),a[_i]=null}};function th(i){this._internalRoot=i}th.prototype.unstable_scheduleHydration=function(i){if(i){var a=Pi();i={blockedOn:null,target:i,priority:a};for(var l=0;l<na.length&&a!==0&&a<na[l].priority;l++);na.splice(l,0,i),l===0&&Nv(i)}};var kv=t.version;if(kv!=="19.2.3")throw Error(s(527,kv,"19.2.3"));rt.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(a),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var uS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{ps=eh.inject(uS),sn=eh}catch{}}return jl.createRoot=function(i,a){if(!r(i))throw Error(s(299));var l=!1,u="",m=H_,p=F_,b=q_;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Ev(i,1,!1,null,null,l,u,null,m,p,b,Vv),i[_i]=a.current,qd(i),new cg(a)},jl.hydrateRoot=function(i,a,l){if(!r(i))throw Error(s(299));var u=!1,m="",p=H_,b=F_,C=q_,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),a=Ev(i,1,!0,a,l??null,u,m,L,p,b,C,Vv),a.context=Sv(null),l=a.current,u=jn(),u=Uo(u),m=Us(u),m.callback=null,Hs(l,m,u),l=u,a.current.lanes=l,vs(a,l),wi(a),i[_i]=a.current,qd(i),new th(a)},jl.version="19.2.3",jl}var Gv;function bS(){if(Gv)return fg.exports;Gv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),fg.exports=vS(),fg.exports}var TS=bS(),Yv={};const y1=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let r=n.charCodeAt(s);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},xS=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const r=n[e++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(f>>10)),t[s++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},v1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,_=o>>2,v=(o&3)<<4|h>>4;let x=(h&15)<<2|g>>6,S=g&63;f||(S=64,c||(x=64)),s.push(e[_],e[v],e[x],e[S])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(y1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):xS(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||v==null)throw new ES;const x=o<<2|h>>4;if(s.push(x),g!==64){const S=h<<4&240|g>>2;if(s.push(S),v!==64){const w=g<<6&192|v;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SS=function(n){const t=y1(n);return v1.encodeByteArray(t,!0)},Ch=function(n){return SS(n).replace(/\./g,"")},AS=function(n){try{return v1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CS=()=>wS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof Yv>"u")return;const n=Yv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&AS(n[1]);return t&&JSON.parse(t)},vm=()=>{try{return CS()||RS()||DS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},MS=n=>{var t,e;return(e=(t=vm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},NS=n=>{const t=MS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},b1=()=>{var n;return(n=vm())===null||n===void 0?void 0:n.config};class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function IS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ch(JSON.stringify(e)),Ch(JSON.stringify(c)),""].join(".")}function VS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){var n;const t=(n=vm())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LS(){try{return typeof indexedDB=="object"}catch{return!1}}function jS(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}const PS="FirebaseError";class Ro extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=PS,Object.setPrototypeOf(this,Ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T1.prototype.create)}}class T1{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?BS(o,s):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Ro(r,h,s)}}function BS(n,t){return n.replace(US,(e,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const US=/\{\$([^}]+)}/g;function Pg(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const r of e){if(!s.includes(r))return!1;const o=n[r],c=t[r];if(Qv(o)&&Qv(c)){if(!Pg(o,c))return!1}else if(o!==c)return!1}for(const r of s)if(!e.includes(r))return!1;return!0}function Qv(n){return n!==null&&typeof n=="object"}function po(n){return n&&n._delegate?n._delegate:n}class cc{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const er="[DEFAULT]";class HS{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new OS;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qS(t))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(t=er){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=er){return this.instances.has(t)}getOptions(t=er){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&c.resolve(r)}return r}onInit(t,e){var s;const r=this.normalizeInstanceIdentifier(e),o=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const r of s)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FS(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=er){return this.component?this.component.multipleInstances?t:er:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FS(n){return n===er?void 0:n}function qS(n){return n.instantiationMode==="EAGER"}class GS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new HS(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const YS={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},QS=Ft.INFO,$S={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},KS=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),r=$S[t];if(r)console[r](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class x1{constructor(t){this.name=t,this._logLevel=QS,this._logHandler=KS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const XS=(n,t)=>t.some(e=>n instanceof e);let $v,Kv;function WS(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,Bg=new WeakMap,S1=new WeakMap,pg=new WeakMap,bm=new WeakMap;function JS(n){const t=new Promise((e,s)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(ua(n.result)),r()},c=()=>{s(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&E1.set(e,n)}).catch(()=>{}),bm.set(t,n),t}function tA(n){if(Bg.has(n))return;const t=new Promise((e,s)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Bg.set(n,t)}let Ug={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Bg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||S1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ua(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function eA(n){Ug=n(Ug)}function nA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(_g(this),t,...e);return S1.set(s,t.sort?t.sort():[t]),ua(s)}:ZS().includes(n)?function(...t){return n.apply(_g(this),t),ua(E1.get(this))}:function(...t){return ua(n.apply(_g(this),t))}}function iA(n){return typeof n=="function"?nA(n):(n instanceof IDBTransaction&&tA(n),XS(n,WS())?new Proxy(n,Ug):n)}function ua(n){if(n instanceof IDBRequest)return JS(n);if(pg.has(n))return pg.get(n);const t=iA(n);return t!==n&&(pg.set(n,t),bm.set(t,n)),t}const _g=n=>bm.get(n);function sA(n,t,{blocked:e,upgrade:s,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=ua(c);return s&&c.addEventListener("upgradeneeded",f=>{s(ua(c.result),f.oldVersion,f.newVersion,ua(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const aA=["get","getKey","getAll","getAllKeys","count"],rA=["put","add","delete","clear"],yg=new Map;function Xv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(yg.get(t))return yg.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,r=rA.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(r||aA.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let g=f.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return yg.set(t,o),o}eA(n=>({...n,get:(t,e,s)=>Xv(t,e)||n.get(t,e,s),has:(t,e)=>!!Xv(t,e)||n.has(t,e)}));class oA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(lA(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function lA(n){const t=n.getComponent();return t?.type==="VERSION"}const Hg="@firebase/app",Wv="0.10.13";const gs=new x1("@firebase/app"),cA="@firebase/app-compat",uA="@firebase/analytics-compat",hA="@firebase/analytics",fA="@firebase/app-check-compat",dA="@firebase/app-check",gA="@firebase/auth",mA="@firebase/auth-compat",pA="@firebase/database",_A="@firebase/data-connect",yA="@firebase/database-compat",vA="@firebase/functions",bA="@firebase/functions-compat",TA="@firebase/installations",xA="@firebase/installations-compat",EA="@firebase/messaging",SA="@firebase/messaging-compat",AA="@firebase/performance",wA="@firebase/performance-compat",CA="@firebase/remote-config",RA="@firebase/remote-config-compat",DA="@firebase/storage",MA="@firebase/storage-compat",NA="@firebase/firestore",OA="@firebase/vertexai-preview",IA="@firebase/firestore-compat",VA="firebase",kA="10.14.1";const Fg="[DEFAULT]",zA={[Hg]:"fire-core",[cA]:"fire-core-compat",[hA]:"fire-analytics",[uA]:"fire-analytics-compat",[dA]:"fire-app-check",[fA]:"fire-app-check-compat",[gA]:"fire-auth",[mA]:"fire-auth-compat",[pA]:"fire-rtdb",[_A]:"fire-data-connect",[yA]:"fire-rtdb-compat",[vA]:"fire-fn",[bA]:"fire-fn-compat",[TA]:"fire-iid",[xA]:"fire-iid-compat",[EA]:"fire-fcm",[SA]:"fire-fcm-compat",[AA]:"fire-perf",[wA]:"fire-perf-compat",[CA]:"fire-rc",[RA]:"fire-rc-compat",[DA]:"fire-gcs",[MA]:"fire-gcs-compat",[NA]:"fire-fst",[IA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[VA]:"fire-js-all"};const Rh=new Map,LA=new Map,qg=new Map;function Zv(n,t){try{n.container.addComponent(t)}catch(e){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Dh(n){const t=n.name;if(qg.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;qg.set(t,n);for(const e of Rh.values())Zv(e,n);for(const e of LA.values())Zv(e,n);return!0}function jA(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}const PA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new T1("app","Firebase",PA);class BA{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}const UA=kA;function A1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Fg,automaticDataCollectionEnabled:!1},t),r=s.name;if(typeof r!="string"||!r)throw ha.create("bad-app-name",{appName:String(r)});if(e||(e=b1()),!e)throw ha.create("no-options");const o=Rh.get(r);if(o){if(Pg(e,o.options)&&Pg(s,o.config))return o;throw ha.create("duplicate-app",{appName:r})}const c=new GS(r);for(const f of qg.values())c.addComponent(f);const h=new BA(e,s,c);return Rh.set(r,h),h}function HA(n=Fg){const t=Rh.get(n);if(!t&&n===Fg&&b1())return A1();if(!t)throw ha.create("no-app",{appName:n});return t}function co(n,t,e){var s;let r=(s=zA[n])!==null&&s!==void 0?s:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(h.join(" "));return}Dh(new cc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const FA="firebase-heartbeat-database",qA=1,uc="firebase-heartbeat-store";let vg=null;function w1(){return vg||(vg=sA(FA,qA,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(uc)}catch(e){console.warn(e)}}}}).catch(n=>{throw ha.create("idb-open",{originalErrorMessage:n.message})})),vg}async function GA(n){try{const e=(await w1()).transaction(uc),s=await e.objectStore(uc).get(C1(n));return await e.done,s}catch(t){if(t instanceof Ro)gs.warn(t.message);else{const e=ha.create("idb-get",{originalErrorMessage:t?.message});gs.warn(e.message)}}}async function Jv(n,t){try{const s=(await w1()).transaction(uc,"readwrite");await s.objectStore(uc).put(t,C1(n)),await s.done}catch(e){if(e instanceof Ro)gs.warn(e.message);else{const s=ha.create("idb-set",{originalErrorMessage:e?.message});gs.warn(s.message)}}}function C1(n){return`${n.name}!${n.options.appId}`}const YA=1024,QA=720*60*60*1e3;class $A{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new XA(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=t0();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=QA}),this._storage.overwrite(this._heartbeatsCache))}catch(s){gs.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t0(),{heartbeatsToSend:s,unsentEntries:r}=KA(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gs.warn(e),""}}}function t0(){return new Date().toISOString().substring(0,10)}function KA(n,t=YA){const e=[];let s=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),e0(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),e0(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class XA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LS()?jS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GA(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function e0(n){return Ch(JSON.stringify({version:2,heartbeats:n})).length}function WA(n){Dh(new cc("platform-logger",t=>new oA(t),"PRIVATE")),Dh(new cc("heartbeat",t=>new $A(t),"PRIVATE")),co(Hg,Wv,n),co(Hg,Wv,"esm2017"),co("fire-js","")}WA("");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,R1;(function(){var n;function t(D,R){function O(){}O.prototype=R.prototype,D.D=R.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(V,I,j){for(var z=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)z[Zt-2]=arguments[Zt];return R.prototype[I].apply(V,z)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,R,O){O||(O=0);var V=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)V[I]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(I=0;16>I;++I)V[I]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=D.g[0],O=D.g[1],I=D.g[2];var j=D.g[3],z=R+(j^O&(I^j))+V[0]+3614090360&4294967295;R=O+(z<<7&4294967295|z>>>25),z=j+(I^R&(O^I))+V[1]+3905402710&4294967295,j=R+(z<<12&4294967295|z>>>20),z=I+(O^j&(R^O))+V[2]+606105819&4294967295,I=j+(z<<17&4294967295|z>>>15),z=O+(R^I&(j^R))+V[3]+3250441966&4294967295,O=I+(z<<22&4294967295|z>>>10),z=R+(j^O&(I^j))+V[4]+4118548399&4294967295,R=O+(z<<7&4294967295|z>>>25),z=j+(I^R&(O^I))+V[5]+1200080426&4294967295,j=R+(z<<12&4294967295|z>>>20),z=I+(O^j&(R^O))+V[6]+2821735955&4294967295,I=j+(z<<17&4294967295|z>>>15),z=O+(R^I&(j^R))+V[7]+4249261313&4294967295,O=I+(z<<22&4294967295|z>>>10),z=R+(j^O&(I^j))+V[8]+1770035416&4294967295,R=O+(z<<7&4294967295|z>>>25),z=j+(I^R&(O^I))+V[9]+2336552879&4294967295,j=R+(z<<12&4294967295|z>>>20),z=I+(O^j&(R^O))+V[10]+4294925233&4294967295,I=j+(z<<17&4294967295|z>>>15),z=O+(R^I&(j^R))+V[11]+2304563134&4294967295,O=I+(z<<22&4294967295|z>>>10),z=R+(j^O&(I^j))+V[12]+1804603682&4294967295,R=O+(z<<7&4294967295|z>>>25),z=j+(I^R&(O^I))+V[13]+4254626195&4294967295,j=R+(z<<12&4294967295|z>>>20),z=I+(O^j&(R^O))+V[14]+2792965006&4294967295,I=j+(z<<17&4294967295|z>>>15),z=O+(R^I&(j^R))+V[15]+1236535329&4294967295,O=I+(z<<22&4294967295|z>>>10),z=R+(I^j&(O^I))+V[1]+4129170786&4294967295,R=O+(z<<5&4294967295|z>>>27),z=j+(O^I&(R^O))+V[6]+3225465664&4294967295,j=R+(z<<9&4294967295|z>>>23),z=I+(R^O&(j^R))+V[11]+643717713&4294967295,I=j+(z<<14&4294967295|z>>>18),z=O+(j^R&(I^j))+V[0]+3921069994&4294967295,O=I+(z<<20&4294967295|z>>>12),z=R+(I^j&(O^I))+V[5]+3593408605&4294967295,R=O+(z<<5&4294967295|z>>>27),z=j+(O^I&(R^O))+V[10]+38016083&4294967295,j=R+(z<<9&4294967295|z>>>23),z=I+(R^O&(j^R))+V[15]+3634488961&4294967295,I=j+(z<<14&4294967295|z>>>18),z=O+(j^R&(I^j))+V[4]+3889429448&4294967295,O=I+(z<<20&4294967295|z>>>12),z=R+(I^j&(O^I))+V[9]+568446438&4294967295,R=O+(z<<5&4294967295|z>>>27),z=j+(O^I&(R^O))+V[14]+3275163606&4294967295,j=R+(z<<9&4294967295|z>>>23),z=I+(R^O&(j^R))+V[3]+4107603335&4294967295,I=j+(z<<14&4294967295|z>>>18),z=O+(j^R&(I^j))+V[8]+1163531501&4294967295,O=I+(z<<20&4294967295|z>>>12),z=R+(I^j&(O^I))+V[13]+2850285829&4294967295,R=O+(z<<5&4294967295|z>>>27),z=j+(O^I&(R^O))+V[2]+4243563512&4294967295,j=R+(z<<9&4294967295|z>>>23),z=I+(R^O&(j^R))+V[7]+1735328473&4294967295,I=j+(z<<14&4294967295|z>>>18),z=O+(j^R&(I^j))+V[12]+2368359562&4294967295,O=I+(z<<20&4294967295|z>>>12),z=R+(O^I^j)+V[5]+4294588738&4294967295,R=O+(z<<4&4294967295|z>>>28),z=j+(R^O^I)+V[8]+2272392833&4294967295,j=R+(z<<11&4294967295|z>>>21),z=I+(j^R^O)+V[11]+1839030562&4294967295,I=j+(z<<16&4294967295|z>>>16),z=O+(I^j^R)+V[14]+4259657740&4294967295,O=I+(z<<23&4294967295|z>>>9),z=R+(O^I^j)+V[1]+2763975236&4294967295,R=O+(z<<4&4294967295|z>>>28),z=j+(R^O^I)+V[4]+1272893353&4294967295,j=R+(z<<11&4294967295|z>>>21),z=I+(j^R^O)+V[7]+4139469664&4294967295,I=j+(z<<16&4294967295|z>>>16),z=O+(I^j^R)+V[10]+3200236656&4294967295,O=I+(z<<23&4294967295|z>>>9),z=R+(O^I^j)+V[13]+681279174&4294967295,R=O+(z<<4&4294967295|z>>>28),z=j+(R^O^I)+V[0]+3936430074&4294967295,j=R+(z<<11&4294967295|z>>>21),z=I+(j^R^O)+V[3]+3572445317&4294967295,I=j+(z<<16&4294967295|z>>>16),z=O+(I^j^R)+V[6]+76029189&4294967295,O=I+(z<<23&4294967295|z>>>9),z=R+(O^I^j)+V[9]+3654602809&4294967295,R=O+(z<<4&4294967295|z>>>28),z=j+(R^O^I)+V[12]+3873151461&4294967295,j=R+(z<<11&4294967295|z>>>21),z=I+(j^R^O)+V[15]+530742520&4294967295,I=j+(z<<16&4294967295|z>>>16),z=O+(I^j^R)+V[2]+3299628645&4294967295,O=I+(z<<23&4294967295|z>>>9),z=R+(I^(O|~j))+V[0]+4096336452&4294967295,R=O+(z<<6&4294967295|z>>>26),z=j+(O^(R|~I))+V[7]+1126891415&4294967295,j=R+(z<<10&4294967295|z>>>22),z=I+(R^(j|~O))+V[14]+2878612391&4294967295,I=j+(z<<15&4294967295|z>>>17),z=O+(j^(I|~R))+V[5]+4237533241&4294967295,O=I+(z<<21&4294967295|z>>>11),z=R+(I^(O|~j))+V[12]+1700485571&4294967295,R=O+(z<<6&4294967295|z>>>26),z=j+(O^(R|~I))+V[3]+2399980690&4294967295,j=R+(z<<10&4294967295|z>>>22),z=I+(R^(j|~O))+V[10]+4293915773&4294967295,I=j+(z<<15&4294967295|z>>>17),z=O+(j^(I|~R))+V[1]+2240044497&4294967295,O=I+(z<<21&4294967295|z>>>11),z=R+(I^(O|~j))+V[8]+1873313359&4294967295,R=O+(z<<6&4294967295|z>>>26),z=j+(O^(R|~I))+V[15]+4264355552&4294967295,j=R+(z<<10&4294967295|z>>>22),z=I+(R^(j|~O))+V[6]+2734768916&4294967295,I=j+(z<<15&4294967295|z>>>17),z=O+(j^(I|~R))+V[13]+1309151649&4294967295,O=I+(z<<21&4294967295|z>>>11),z=R+(I^(O|~j))+V[4]+4149444226&4294967295,R=O+(z<<6&4294967295|z>>>26),z=j+(O^(R|~I))+V[11]+3174756917&4294967295,j=R+(z<<10&4294967295|z>>>22),z=I+(R^(j|~O))+V[2]+718787259&4294967295,I=j+(z<<15&4294967295|z>>>17),z=O+(j^(I|~R))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(I+(z<<21&4294967295|z>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var O=R-this.blockSize,V=this.B,I=this.h,j=0;j<R;){if(I==0)for(;j<=O;)r(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(V[I++]=D.charCodeAt(j++),I==this.blockSize){r(this,V),I=0;break}}else for(;j<R;)if(V[I++]=D[j++],I==this.blockSize){r(this,V),I=0;break}}this.h=I,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var O=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=O&255,O/=256;for(this.u(D),D=Array(16),R=O=0;4>R;++R)for(var V=0;32>V;V+=8)D[O++]=this.g[R]>>>V&255;return D};function o(D,R){var O=h;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=R(D)}function c(D,R){this.h=R;for(var O=[],V=!0,I=D.length-1;0<=I;I--){var j=D[I]|0;V&&j==R||(O[I]=j,V=!1)}this.g=O}var h={};function f(D){return-128<=D&&128>D?o(D,function(R){return new c([R|0],0>R?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return N(g(-D));for(var R=[],O=1,V=0;D>=O;V++)R[V]=D/O|0,O*=4294967296;return new c(R,0)}function _(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return N(_(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(R,8)),V=v,I=0;I<D.length;I+=8){var j=Math.min(8,D.length-I),z=parseInt(D.substring(I,I+j),R);8>j?(j=g(Math.pow(R,j)),V=V.j(j).add(g(z))):(V=V.j(O),V=V.add(g(z)))}return V}var v=f(0),x=f(1),S=f(16777216);n=c.prototype,n.m=function(){if(A(this))return-N(this).m();for(var D=0,R=1,O=0;O<this.g.length;O++){var V=this.i(O);D+=(0<=V?V:4294967296+V)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(A(this))return"-"+N(this).toString(D);for(var R=g(Math.pow(D,6)),O=this,V="";;){var I=Q(O,R).g;O=U(O,I.j(R));var j=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=I,w(O))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=U(this,D),A(D)?-1:w(D)?0:1};function N(D){for(var R=D.g.length,O=[],V=0;V<R;V++)O[V]=~D.g[V];return new c(O,~D.h).add(x)}n.abs=function(){return A(this)?N(this):this},n.add=function(D){for(var R=Math.max(this.g.length,D.g.length),O=[],V=0,I=0;I<=R;I++){var j=V+(this.i(I)&65535)+(D.i(I)&65535),z=(j>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);V=z>>>16,j&=65535,z&=65535,O[I]=z<<16|j}return new c(O,O[O.length-1]&-2147483648?-1:0)};function U(D,R){return D.add(N(R))}n.j=function(D){if(w(this)||w(D))return v;if(A(this))return A(D)?N(this).j(N(D)):N(N(this).j(D));if(A(D))return N(this.j(N(D)));if(0>this.l(S)&&0>D.l(S))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,O=[],V=0;V<2*R;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<D.g.length;I++){var j=this.i(V)>>>16,z=this.i(V)&65535,Zt=D.i(I)>>>16,Rt=D.i(I)&65535;O[2*V+2*I]+=z*Rt,k(O,2*V+2*I),O[2*V+2*I+1]+=j*Rt,k(O,2*V+2*I+1),O[2*V+2*I+1]+=z*Zt,k(O,2*V+2*I+1),O[2*V+2*I+2]+=j*Zt,k(O,2*V+2*I+2)}for(V=0;V<R;V++)O[V]=O[2*V+1]<<16|O[2*V];for(V=R;V<2*R;V++)O[V]=0;return new c(O,0)};function k(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function K(D,R){this.g=D,this.h=R}function Q(D,R){if(w(R))throw Error("division by zero");if(w(D))return new K(v,v);if(A(D))return R=Q(N(D),R),new K(N(R.g),N(R.h));if(A(R))return R=Q(D,N(R)),new K(N(R.g),R.h);if(30<D.g.length){if(A(D)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var O=x,V=R;0>=V.l(D);)O=et(O),V=et(V);var I=X(O,1),j=X(V,1);for(V=X(V,2),O=X(O,2);!w(V);){var z=j.add(V);0>=z.l(D)&&(I=I.add(O),j=z),V=X(V,1),O=X(O,1)}return R=U(D,I.j(R)),new K(I,R)}for(I=v;0<=D.l(R);){for(O=Math.max(1,Math.floor(D.m()/R.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=g(O),z=j.j(R);A(z)||0<z.l(D);)O-=V,j=g(O),z=j.j(R);w(j)&&(j=x),I=I.add(j),D=U(D,z)}return new K(I,D)}n.A=function(D){return Q(this,D).h},n.and=function(D){for(var R=Math.max(this.g.length,D.g.length),O=[],V=0;V<R;V++)O[V]=this.i(V)&D.i(V);return new c(O,this.h&D.h)},n.or=function(D){for(var R=Math.max(this.g.length,D.g.length),O=[],V=0;V<R;V++)O[V]=this.i(V)|D.i(V);return new c(O,this.h|D.h)},n.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),O=[],V=0;V<R;V++)O[V]=this.i(V)^D.i(V);return new c(O,this.h^D.h)};function et(D){for(var R=D.g.length+1,O=[],V=0;V<R;V++)O[V]=D.i(V)<<1|D.i(V-1)>>>31;return new c(O,D.h)}function X(D,R){var O=R>>5;R%=32;for(var V=D.g.length-O,I=[],j=0;j<V;j++)I[j]=0<R?D.i(j+O)>>>R|D.i(j+O+1)<<32-R:D.i(j+O);return new c(I,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,R1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,or=c}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var D1,Ql,M1,bh,Gg,N1,O1,I1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,T){return d==Array.prototype||d==Object.prototype||(d[y]=T.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=e(this);function r(d,y){if(y)t:{var T=s;d=d.split(".");for(var M=0;M<d.length-1;M++){var F=d[M];if(!(F in T))break t;T=T[F]}d=d[d.length-1],M=T[d],y=y(M),y!=M&&y!=null&&t(T,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var T=0,M=!1,F={next:function(){if(!M&&T<d.length){var Z=T++;return{value:y(Z,d[Z]),done:!1}}return M=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}r("Array.prototype.values",function(d){return d||function(){return o(this,function(y,T){return T})}});var c=c||{},h=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function g(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function _(d,y,T){return d.call.apply(d.bind,arguments)}function v(d,y,T){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,M),d.apply(y,F)}}return function(){return d.apply(y,arguments)}}function x(d,y,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,x.apply(null,arguments)}function S(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function w(d,y){function T(){}T.prototype=y.prototype,d.aa=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(M,F,Z){for(var ct=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)ct[Jt-2]=arguments[Jt];return y.prototype[F].apply(M,ct)}}function A(d){const y=d.length;if(0<y){const T=Array(y);for(let M=0;M<y;M++)T[M]=d[M];return T}return[]}function N(d,y){for(let T=1;T<arguments.length;T++){const M=arguments[T];if(f(M)){const F=d.length||0,Z=M.length||0;d.length=F+Z;for(let ct=0;ct<Z;ct++)d[F+ct]=M[ct]}else d.push(M)}}class U{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(d){return/^[\s\xa0]*$/.test(d)}function K(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function Q(d){return Q[" "](d),d}Q[" "]=function(){};var et=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function X(d,y,T){for(const M in d)y.call(T,d[M],M,d)}function D(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function R(d){const y={};for(const T in d)y[T]=d[T];return y}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,y){let T,M;for(let F=1;F<arguments.length;F++){M=arguments[F];for(T in M)d[T]=M[T];for(let Z=0;Z<O.length;Z++)T=O[Z],Object.prototype.hasOwnProperty.call(M,T)&&(d[T]=M[T])}}function I(d){var y=1;d=d.split(":");const T=[];for(;0<y&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function j(d){h.setTimeout(()=>{throw d},0)}function z(){var d=Nt;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Zt{constructor(){this.h=this.g=null}add(y,T){const M=Rt.get();M.set(y,T),this.h?this.h.next=M:this.g=M,this.h=M}}var Rt=new U(()=>new $,d=>d.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,pt=!1,Nt=new Zt,Ot=()=>{const d=h.Promise.resolve(void 0);rt=()=>{d.then(B)}};var B=()=>{for(var d;d=z();){try{d.h.call(d.g)}catch(T){j(T)}var y=Rt;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}pt=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var ut=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,y),h.removeEventListener("test",T,y)}catch{}return d})();function yt(d,y){if(at.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(et){t:{try{Q(y.nodeName);var F=!0;break t}catch{}F=!1}F||(y=null)}}else T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement);this.relatedTarget=y,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Tt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&yt.aa.h.call(this)}}w(yt,at);var Tt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function de(d,y,T,M,F){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!M,this.ha=F,this.key=++Ge,this.da=this.fa=!1}function gi(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function zi(d){this.src=d,this.g={},this.h=0}zi.prototype.add=function(d,y,T,M,F){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var ct=mr(d,y,M,F);return-1<ct?(y=d[ct],T||(y.fa=!1)):(y=new de(y,this.src,Z,!!M,F),y.fa=T,d.push(y)),y};function ba(d,y){var T=y.type;if(T in d.g){var M=d.g[T],F=Array.prototype.indexOf.call(M,y,void 0),Z;(Z=0<=F)&&Array.prototype.splice.call(M,F,1),Z&&(gi(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function mr(d,y,T,M){for(var F=0;F<d.length;++F){var Z=d[F];if(!Z.da&&Z.listener==y&&Z.capture==!!T&&Z.ha==M)return F}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),Ta={};function pr(d,y,T,M,F){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)pr(d,y[Z],T,M,F);return null}return T=Dc(T),d&&d[jt]?d.K(y,T,g(M)?!!M.capture:!1,F):of(d,y,T,!1,M,F)}function of(d,y,T,M,F,Z){if(!y)throw Error("Invalid event type");var ct=g(F)?!!F.capture:!!F,Jt=zo(d);if(Jt||(d[ii]=Jt=new zi(d)),T=Jt.add(y,T,M,ct,Z),T.proxy)return T;if(M=Rc(),T.proxy=M,M.src=d,M.listener=T,d.addEventListener)ut||(F=ct),F===void 0&&(F=!1),d.addEventListener(y.toString(),M,F);else if(d.attachEvent)d.attachEvent(yr(y.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Rc(){function d(T){return y.call(d.src,d.listener,T)}const y=lf;return d}function _r(d,y,T,M,F){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)_r(d,y[Z],T,M,F);else M=g(M)?!!M.capture:!!M,T=Dc(T),d&&d[jt]?(d=d.i,y=String(y).toString(),y in d.g&&(Z=d.g[y],T=mr(Z,T,M,F),-1<T&&(gi(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete d.g[y],d.h--)))):d&&(d=zo(d))&&(y=d.g[y.toString()],d=-1,y&&(d=mr(y,T,M,F)),(T=-1<d?y[d]:null)&&xa(T))}function xa(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[jt])ba(y.i,d);else{var T=d.type,M=d.proxy;y.removeEventListener?y.removeEventListener(T,M,d.capture):y.detachEvent?y.detachEvent(yr(T),M):y.addListener&&y.removeListener&&y.removeListener(M),(T=zo(y))?(ba(T,d),T.h==0&&(T.src=null,y[ii]=null)):gi(d)}}}function yr(d){return d in Ta?Ta[d]:Ta[d]="on"+d}function lf(d,y){if(d.da)d=!0;else{y=new yt(y,this);var T=d.listener,M=d.ha||d.src;d.fa&&xa(d),d=T.call(M,y)}return d}function zo(d){return d=d[ii],d instanceof zi?d:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dc(d){return typeof d=="function"?d:(d[Ye]||(d[Ye]=function(y){return d.handleEvent(y)}),d[Ye])}function ke(){J.call(this),this.i=new zi(this),this.M=this,this.F=null}w(ke,J),ke.prototype[jt]=!0,ke.prototype.removeEventListener=function(d,y,T,M){_r(this,d,y,T,M)};function Le(d,y){var T,M=d.F;if(M)for(T=[];M;M=M.F)T.push(M);if(d=d.M,M=y.type||y,typeof y=="string")y=new at(y,d);else if(y instanceof at)y.target=y.target||d;else{var F=y;y=new at(M,d),V(y,F)}if(F=!0,T)for(var Z=T.length-1;0<=Z;Z--){var ct=y.g=T[Z];F=Li(ct,M,!0,y)&&F}if(ct=y.g=d,F=Li(ct,M,!0,y)&&F,F=Li(ct,M,!1,y)&&F,T)for(Z=0;Z<T.length;Z++)ct=y.g=T[Z],F=Li(ct,M,!1,y)&&F}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var T=d.g[y],M=0;M<T.length;M++)gi(T[M]);delete d.g[y],d.h--}}this.F=null},ke.prototype.K=function(d,y,T,M){return this.i.add(String(d),y,!1,T,M)},ke.prototype.L=function(d,y,T,M){return this.i.add(String(d),y,!0,T,M)};function Li(d,y,T,M){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Z=0;Z<y.length;++Z){var ct=y[Z];if(ct&&!ct.da&&ct.capture==T){var Jt=ct.listener,we=ct.ha||ct.src;ct.fa&&ba(d.i,ct),F=Jt.call(we,M)!==!1&&F}}return F&&!M.defaultPrevented}function Mc(d,y,T){if(typeof d=="function")T&&(d=x(d,T));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(d,y||0)}function Lo(d){d.g=Mc(()=>{d.g=null,d.i&&(d.i=!1,Lo(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class cf extends J{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(d){J.call(this),this.h=d,this.g={}}w(Ea,J);var ps=[];function sn(d){X(d.g,function(y,T){this.g.hasOwnProperty(T)&&xa(y)},d),d.g={}}Ea.prototype.N=function(){Ea.aa.N.call(this),sn(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=h.JSON.stringify,gn=h.JSON.parse,uf=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function jo(){}jo.prototype.h=null;function Nc(d){return d.h||(d.h=d.i())}function Sa(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _s(){at.call(this,"d")}w(_s,at);function si(){at.call(this,"c")}w(si,at);var Fn={},ys=null;function vr(){return ys=ys||new ke}Fn.La="serverreachability";function Po(d){at.call(this,Fn.La,d)}w(Po,at);function ji(d){const y=vr();Le(y,new Po(y))}Fn.STAT_EVENT="statevent";function vs(d,y){at.call(this,Fn.STAT_EVENT,d),this.stat=y}w(vs,at);function Qe(d){const y=vr();Le(y,new vs(y,d))}Fn.Ma="timingevent";function Bo(d,y){at.call(this,Fn.Ma,d),this.size=y}w(Bo,at);function bs(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},y)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function Uo(d,y,T,M,F,Z){d.info(function(){if(d.g)if(Z)for(var ct="",Jt=Z.split("&"),we=0;we<Jt.length;we++){var Dt=Jt[we].split("=");if(1<Dt.length){var Pe=Dt[0];Dt=Dt[1];var Be=Pe.split("_");ct=2<=Be.length&&Be[1]=="type"?ct+(Pe+"="+Dt+"&"):ct+(Pe+"=redacted&")}}else ct=null;else ct=Z;return"XMLHTTP REQ ("+M+") [attempt "+F+"]: "+y+`
`+T+`
`+ct})}function Ho(d,y,T,M,F,Z,ct){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+F+"]: "+y+`
`+T+`
`+Z+" "+ct})}function Pi(d,y,T,M){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+pi(d,T)+(M?" "+M:"")})}function Oc(d,y){d.info(function(){return"TIMEOUT: "+y})}Ts.prototype.info=function(){};function pi(d,y){if(!d.g)return y;if(!y)return null;try{var T=JSON.parse(y);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var M=T[d];if(!(2>M.length)){var F=M[1];if(Array.isArray(F)&&!(1>F.length)){var Z=F[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ct=1;ct<F.length;ct++)F[ct]=""}}}}return Hn(T)}catch{return y}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function xs(){}w(xs,jo),xs.prototype.g=function(){return new XMLHttpRequest},xs.prototype.i=function(){return{}},_i=new xs;function yi(d,y,T,M){this.j=d,this.i=y,this.l=T,this.R=M||1,this.U=new Ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ic}function Ic(){this.i=null,this.g="",this.h=!1}var Fo={},Bi={};function Aa(d,y,T){d.L=1,d.v=Ra(pe(y)),d.m=T,d.P=!0,Ui(d,null)}function Ui(d,y){d.F=Date.now(),ai(d),d.A=pe(d.v);var T=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),qi(T.i,"t",M),d.C=0,T=d.j.J,d.h=new Ic,d.g=Kc(d.j,T?y:null,!d.m),0<d.O&&(d.M=new cf(x(d.Y,d,d.g),d.O)),y=d.U,T=d.g,M=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(ps[0]=F.toString()),F=ps);for(var Z=0;Z<F.length;Z++){var ct=pr(T,F[Z],M||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),ji(),Uo(d.i,d.u,d.A,d.l,d.R,d.m)}yi.prototype.ca=function(d){d=d.target;const y=this.M;y&&_n(d)==3?y.j():this.Y(d)},yi.prototype.Y=function(d){try{if(d==this.g)t:{const Be=_n(this.g);var y=this.g.Ba();const ks=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||Na(this.g)))){this.J||Be!=4||y==7||(y==8||0>=ks?ji(3):ji(2)),br(this);var T=this.g.Z();this.X=T;e:if(Hi(this)){var M=Na(this.g);d="";var F=M.length,Z=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Es(this);var ct="";break e}this.h.i=new h.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,d+=this.h.i.decode(M[y],{stream:!(Z&&y==F-1)});M.length=0,this.h.g+=d,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=T==200,Ho(this.i,this.u,this.A,this.l,this.R,Be,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,we=this.g;if((Jt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Jt)){var Dt=Jt;break e}}Dt=null}if(T=Dt)Pi(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vi(this,T);else{this.o=!1,this.s=3,Qe(12),mn(this),Es(this);break t}}if(this.P){T=!0;let xn;for(;!this.J&&this.C<ct.length;)if(xn=wa(this,ct),xn==Bi){Be==4&&(this.s=4,Qe(14),T=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Fo){this.s=4,Qe(15),Pi(this.i,this.l,ct,"[Invalid Chunk]"),T=!1;break}else Pi(this.i,this.l,xn,null),vi(this,xn);if(Hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||ct.length!=0||this.h.h||(this.s=1,Qe(16),T=!1),this.o=this.o&&T,!T)Pi(this.i,this.l,ct,"[Invalid Chunked Response]"),mn(this),Es(this);else if(0<ct.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),tl(Pe),Pe.M=!0,Qe(11))}}else Pi(this.i,this.l,ct,null),vi(this,ct);Be==4&&mn(this),this.o&&!this.J&&(Be==4?Yc(this.j,this):(this.o=!1,ai(this)))}else Bc(this.g),T==400&&0<ct.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),mn(this),Es(this)}}}catch{}};function Hi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function wa(d,y){var T=d.C,M=y.indexOf(`
`,T);return M==-1?Bi:(T=Number(y.substring(T,M)),isNaN(T)?Fo:(M+=1,M+T>y.length?Bi:(y=y.slice(M,M+T),d.C=M+T,y)))}yi.prototype.cancel=function(){this.J=!0,mn(this)};function ai(d){d.S=Date.now()+d.I,be(d,d.I)}function be(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=bs(x(d.ba,d),y)}function br(d){d.B&&(h.clearTimeout(d.B),d.B=null)}yi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Oc(this.i,this.A),this.L!=2&&(ji(),Qe(17)),mn(this),this.s=2,Es(this)):be(this,this.S-d)};function Es(d){d.j.G==0||d.J||Yc(d.j,d)}function mn(d){br(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,sn(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function vi(d,y){try{var T=d.j;if(T.G!=0&&(T.g==d||Ss(T.h,d))){if(!d.K&&Ss(T.h,d)&&T.G==3){try{var M=T.Da.g.parse(y)}catch{M=null}if(Array.isArray(M)&&M.length==3){var F=M;if(F[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Is(T),Os(T);else break t;Jo(T),Qe(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=bs(x(T.Za,T),6e3));if(1>=Vc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Yi(T,11)}else if((d.K||T.g==d)&&Is(T),!k(y))for(F=T.Da.g.parse(y),y=0;y<F.length;y++){let Dt=F[y];if(T.T=Dt[0],Dt=Dt[1],T.G==2)if(Dt[0]=="c"){T.K=Dt[1],T.ia=Dt[2];const Pe=Dt[3];Pe!=null&&(T.la=Pe,T.j.info("VER="+T.la));const Be=Dt[4];Be!=null&&(T.Aa=Be,T.j.info("SVER="+T.Aa));const ks=Dt[5];ks!=null&&typeof ks=="number"&&0<ks&&(M=1.5*ks,T.L=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const xn=d.g;if(xn){const Va=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var Z=M.h;Z.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(As(Z,Z.h),Z.h=null))}if(M.D){const Qi=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qi&&(M.ya=Qi,Gt(M.I,M.D,Qi))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),M=T;var ct=d;if(M.qa=$c(M,M.J?M.ia:null,M.W),ct.K){qn(M.h,ct);var Jt=ct,we=M.L;we&&(Jt.I=we),Jt.B&&(br(Jt),ai(Jt)),M.g=ct}else qc(M);0<T.i.length&&Rr(T)}else Dt[0]!="stop"&&Dt[0]!="close"||Yi(T,7);else T.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?Yi(T,7):Wo(T):Dt[0]!="noop"&&T.l&&T.l.ta(Dt),T.v=0)}}ji(4)}catch{}}var hf=class{constructor(d,y){this.g=d,this.map=y}};function qo(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Go(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vc(d){return d.h?1:d.g?d.g.size:0}function Ss(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function As(d,y){d.g?d.g.add(y):d.h=y}function qn(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}qo.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.D);return y}return A(d.i)}function kc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],T=d.length,M=0;M<T;M++)y.push(d[M]);return y}y=[],T=0;for(M in d)y[T++]=d[M];return y}function ff(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var T=0;T<d;T++)y.push(T);return y}y=[],T=0;for(const M in d)y[T++]=M;return y}}}function Tr(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var T=ff(d),M=kc(d),F=M.length,Z=0;Z<F;Z++)y.call(void 0,M[Z],T&&T[Z],d)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xr(d,y){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var M=d[T].indexOf("="),F=null;if(0<=M){var Z=d[T].substring(0,M);F=d[T].substring(M+1)}else Z=d[T];y(Z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Fi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Fi){this.h=d.h,ws(this,d.j),this.o=d.o,this.g=d.g,Ca(this,d.s),this.l=d.l;var y=d.i,T=new bi;T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),Er(this,T),this.m=d.m}else d&&(y=String(d).match(Yo))?(this.h=!1,ws(this,y[1]||"",!0),this.o=Cs(y[2]||""),this.g=Cs(y[3]||"",!0),Ca(this,y[4]),this.l=Cs(y[5]||"",!0),Er(this,y[6]||"",!0),this.m=Cs(y[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}Fi.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Gn(y,Qo,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Gn(y,Qo,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Gn(T,T.charAt(0)=="/"?$o:zc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Gn(T,mf)),d.join("")};function pe(d){return new Fi(d)}function ws(d,y,T){d.j=T?Cs(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ca(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Er(d,y,T){y instanceof bi?(d.i=y,Lc(d.i,d.h)):(T||(y=Gn(y,gf)),d.i=new bi(y,d.h))}function Gt(d,y,T){d.i.set(y,T)}function Ra(d){return Gt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Cs(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gn(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,df),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function df(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qo=/[#\/\?@]/g,zc=/[#\?:]/g,$o=/[#\?]/g,gf=/[#\?@]/g,mf=/#/g;function bi(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function je(d){d.g||(d.g=new Map,d.h=0,d.i&&xr(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=bi.prototype,n.add=function(d,y){je(this),this.i=null,d=Mn(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function Sr(d,y){je(d),y=Mn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Ar(d,y){return je(d),y=Mn(d,y),d.g.has(y)}n.forEach=function(d,y){je(this),this.g.forEach(function(T,M){T.forEach(function(F){d.call(y,F,M,this)},this)},this)},n.na=function(){je(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),T=[];for(let M=0;M<y.length;M++){const F=d[M];for(let Z=0;Z<F.length;Z++)T.push(y[M])}return T},n.V=function(d){je(this);let y=[];if(typeof d=="string")Ar(this,d)&&(y=y.concat(this.g.get(Mn(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)y=y.concat(d[T])}return y},n.set=function(d,y){return je(this),this.i=null,d=Mn(this,d),Ar(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function qi(d,y,T){Sr(d,y),0<T.length&&(d.i=null,d.g.set(Mn(d,y),A(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var T=0;T<y.length;T++){var M=y[T];const Z=encodeURIComponent(String(M)),ct=this.V(M);for(M=0;M<ct.length;M++){var F=Z;ct[M]!==""&&(F+="="+encodeURIComponent(String(ct[M]))),d.push(F)}}return this.i=d.join("&")};function Mn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Lc(d,y){y&&!d.j&&(je(d),d.i=null,d.g.forEach(function(T,M){var F=M.toLowerCase();M!=F&&(Sr(this,M),qi(this,F,T))},d)),d.j=y}function Ko(d,y){const T=new Ts;if(h.Image){const M=new Image;M.onload=S(Tn,T,"TestLoadImage: loaded",!0,y,M),M.onerror=S(Tn,T,"TestLoadImage: error",!1,y,M),M.onabort=S(Tn,T,"TestLoadImage: abort",!1,y,M),M.ontimeout=S(Tn,T,"TestLoadImage: timeout",!1,y,M),h.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else y(!1)}function jc(d,y){const T=new Ts,M=new AbortController,F=setTimeout(()=>{M.abort(),Tn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:M.signal}).then(Z=>{clearTimeout(F),Z.ok?Tn(T,"TestPingServer: ok",!0,y):Tn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Tn(T,"TestPingServer: error",!1,y)})}function Tn(d,y,T,M,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),M(T)}catch{}}function ri(){this.g=new uf}function Xo(d,y,T){const M=T||"";try{Tr(d,function(F,Z){let ct=F;g(F)&&(ct=Hn(F)),y.push(M+Z+"="+encodeURIComponent(ct))})}catch(F){throw y.push(M+"type="+encodeURIComponent("_badmap")),F}}function Ti(d){this.l=d.Ub||null,this.j=d.eb||!1}w(Ti,jo),Ti.prototype.g=function(){return new Nn(this.l,this.j)},Ti.prototype.i=(function(d){return function(){return d}})({});function Nn(d,y){ke.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Nn,ke),n=Nn.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Rs(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wr(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function wr(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?xi(this):Rs(this),this.readyState==3&&wr(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,xi(this))},n.Qa=function(d){this.g&&(this.response=d,xi(this))},n.ga=function(){this.g&&xi(this)};function xi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Rs(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function Rs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Nn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Da(d){let y="";return X(d,function(T,M){y+=M,y+=":",y+=T,y+=`\r
`}),y}function Ds(d,y,T){t:{for(M in T){var M=!1;break t}M=!0}M||(T=Da(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Gt(d,y,T))}function oe(d){ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(oe,ke);var an=/^https?$/i,Gi=["POST","PUT"];n=oe.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Nc(this.o):Nc(_i),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Z){Ma(this,Z);return}if(d=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var F in M)T.set(F,M[F]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Z of M.keys())T.set(Z,M.get(Z));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),F=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Gi,y,void 0))||M||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ct]of T)this.g.setRequestHeader(Z,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cr(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Ma(this,Z)}};function Ma(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Ms(d),Ns(d)}function Ms(d){d.A||(d.A=!0,Le(d,"complete"),Le(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Le(this,"complete"),Le(this,"abort"),Ns(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pc(this):this.bb())},n.bb=function(){Pc(this)};function Pc(d){if(d.h&&typeof c<"u"&&(!d.v[1]||_n(d)!=4||d.Z()!=2)){if(d.u&&_n(d)==4)Mc(d.Ea,0,d);else if(Le(d,"readystatechange"),_n(d)==4){d.h=!1;try{const ct=d.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var M;if(M=ct===0){var F=String(d.D).match(Yo)[1]||null;!F&&h.self&&h.self.location&&(F=h.self.location.protocol.slice(0,-1)),M=!an.test(F?F.toLowerCase():"")}T=M}if(T)Le(d,"complete"),Le(d,"success");else{d.m=6;try{var Z=2<_n(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",Ms(d)}}finally{Ns(d)}}}}function Ns(d,y){if(d.g){Cr(d);const T=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Le(d,"ready");try{T.onreadystatechange=M}catch{}}}function Cr(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function _n(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),gn(y)}};function Na(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Bc(d){const y={};d=(d.g&&2<=_n(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(k(d[M]))continue;var T=I(d[M]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=y[F]||[];y[F]=Z,Z.push(T)}D(y,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function Uc(d){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,d),this.cb=Oa("retryDelaySeedMs",1e4,d),this.Wa=Oa("forwardChannelMaxRetries",2,d),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qo(d&&d.concurrentRequestLimit),this.Da=new ri,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Uc.prototype,n.la=8,n.G=1,n.connect=function(d,y,T,M){Qe(0),this.W=d,this.H=y||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.I=$c(this,null,this.W),Rr(this)};function Wo(d){if(Hc(d),d.G==3){var y=d.U++,T=pe(d.I);if(Gt(T,"SID",d.K),Gt(T,"RID",y),Gt(T,"TYPE","terminate"),Ia(d,T),y=new yi(d,d.j,y),y.L=2,y.v=Ra(pe(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=y.v,T=!0),T||(y.g=Kc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ai(y)}el(d)}function Os(d){d.g&&(tl(d),d.g.cancel(),d.g=null)}function Hc(d){Os(d),d.u&&(h.clearTimeout(d.u),d.u=null),Is(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Rr(d){if(!Go(d.h)&&!d.s){d.s=!0;var y=d.Ga;rt||Ot(),pt||(rt(),pt=!0),Nt.add(y,d),d.B=0}}function pf(d,y){return Vc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=bs(x(d.Ga,d,y),Qc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new yi(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=R(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(F.H=Z,Z=null),this.P)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(y+=M,4096<y){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=Zo(this,F,y),T=pe(this.I),Gt(T,"RID",d),Gt(T,"CVER",22),this.D&&Gt(T,"X-HTTP-Session-Id",this.D),Ia(this,T),Z&&(this.O?y="headers="+encodeURIComponent(String(Da(Z)))+"&"+y:this.m&&Ds(T,this.m,Z)),As(this.h,F),this.Ua&&Gt(T,"TYPE","init"),this.P?(Gt(T,"$req",y),Gt(T,"SID","null"),F.T=!0,Aa(F,T,null)):Aa(F,T,y),this.G=2}}else this.G==3&&(d?Fc(this,d):this.i.length==0||Go(this.h)||Fc(this))};function Fc(d,y){var T;y?T=y.l:T=d.U++;const M=pe(d.I);Gt(M,"SID",d.K),Gt(M,"RID",T),Gt(M,"AID",d.T),Ia(d,M),d.m&&d.o&&Ds(M,d.m,d.o),T=new yi(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Zo(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),As(d.h,T),Aa(T,M,y)}function Ia(d,y){d.H&&X(d.H,function(T,M){Gt(y,M,T)}),d.l&&Tr({},function(T,M){Gt(y,M,T)})}function Zo(d,y,T){T=Math.min(d.i.length,T);var M=d.l?x(d.l.Na,d.l,d):null;t:{var F=d.i;let Z=-1;for(;;){const ct=["count="+T];Z==-1?0<T?(Z=F[0].g,ct.push("ofs="+Z)):Z=0:ct.push("ofs="+Z);let Jt=!0;for(let we=0;we<T;we++){let Dt=F[we].g;const Pe=F[we].map;if(Dt-=Z,0>Dt)Z=Math.max(0,F[we].g-100),Jt=!1;else try{Xo(Pe,ct,"req"+Dt+"_")}catch{M&&M(Pe)}}if(Jt){M=ct.join("&");break t}}}return d=d.i.splice(0,T),y.D=d,M}function qc(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;rt||Ot(),pt||(rt(),pt=!0),Nt.add(y,d),d.v=0}}function Jo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=bs(x(d.Fa,d),Qc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=bs(x(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),Os(this),Gc(this))};function tl(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Gc(d){d.g=new yi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=pe(d.qa);Gt(y,"RID","rpc"),Gt(y,"SID",d.K),Gt(y,"AID",d.T),Gt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Gt(y,"TO",d.ja),Gt(y,"TYPE","xmlhttp"),Ia(d,y),d.m&&d.o&&Ds(y,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ra(pe(y)),T.m=null,T.P=!0,Ui(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Os(this),Jo(this),Qe(19))};function Is(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Yc(d,y){var T=null;if(d.g==y){Is(d),tl(d),d.g=null;var M=2}else if(Ss(d.h,y))T=y.D,qn(d.h,y),M=1;else return;if(d.G!=0){if(y.o)if(M==1){T=y.m?y.m.length:0,y=Date.now()-y.F;var F=d.B;M=vr(),Le(M,new Bo(M,T)),Rr(d)}else qc(d);else if(F=y.s,F==3||F==0&&0<y.X||!(M==1&&pf(d,y)||M==2&&Jo(d)))switch(T&&0<T.length&&(y=d.h,y.i=y.i.concat(T)),F){case 1:Yi(d,5);break;case 4:Yi(d,10);break;case 3:Yi(d,6);break;default:Yi(d,2)}}}function Qc(d,y){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*y}function Yi(d,y){if(d.j.info("Error code "+y),y==2){var T=x(d.fb,d),M=d.Xa;const F=!M;M=new Fi(M||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ws(M,"https"),Ra(M),F?Ko(M.toString(),T):jc(M.toString(),T)}else Qe(2);d.G=0,d.l&&d.l.sa(y),el(d),Hc(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function el(d){if(d.G=0,d.ka=[],d.l){const y=pn(d.h);(y.length!=0||d.i.length!=0)&&(N(d.ka,y),N(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function $c(d,y,T){var M=T instanceof Fi?pe(T):new Fi(T);if(M.g!="")y&&(M.g=y+"."+M.g),Ca(M,M.s);else{var F=h.location;M=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Z=new Fi(null);M&&ws(Z,M),y&&(Z.g=y),F&&Ca(Z,F),T&&(Z.l=T),M=Z}return T=d.D,y=d.ya,T&&y&&Gt(M,T,y),Gt(M,"VER",d.la),Ia(d,M),M}function Kc(d,y,T){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new oe(new Ti({eb:T})):new oe(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}n=Xc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Dr(){}Dr.prototype.g=function(d,y){return new yn(d,y)};function yn(d,y){ke.call(this),this.g=new Uc(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!k(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Vs(this)}w(yn,ke),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Wo(this.g)},yn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Hn(d),d=T);y.i.push(new hf(y.Ya++,d)),y.G==3&&Rr(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,yn.aa.N.call(this)};function Wc(d){_s.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){t:{for(const T in y){d=T;break t}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}w(Wc,_s);function Zc(){si.call(this),this.status=1}w(Zc,si);function Vs(d){this.g=d}w(Vs,Xc),Vs.prototype.ua=function(){Le(this.g,"a")},Vs.prototype.ta=function(d){Le(this.g,new Wc(d))},Vs.prototype.sa=function(d){Le(this.g,new Zc)},Vs.prototype.ra=function(){Le(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,I1=function(){return new Dr},O1=function(){return vr()},N1=Fn,Gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,bh=me,$e.COMPLETE="complete",M1=$e,Sa.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",ke.prototype.listen=ke.prototype.K,Ql=Sa,oe.prototype.listenOnce=oe.prototype.L,oe.prototype.getLastError=oe.prototype.Ka,oe.prototype.getLastErrorCode=oe.prototype.Ba,oe.prototype.getStatus=oe.prototype.Z,oe.prototype.getResponseJson=oe.prototype.Oa,oe.prototype.getResponseText=oe.prototype.oa,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Ha,D1=oe}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore";class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Do="10.14.0";const ur=new x1("@firebase/firestore");function Pl(){return ur.logLevel}function gt(n,...t){if(ur.logLevel<=Ft.DEBUG){const e=t.map(Tm);ur.debug(`Firestore (${Do}): ${n}`,...e)}}function ms(n,...t){if(ur.logLevel<=Ft.ERROR){const e=t.map(Tm);ur.error(`Firestore (${Do}): ${n}`,...e)}}function _o(n,...t){if(ur.logLevel<=Ft.WARN){const e=t.map(Tm);ur.warn(`Firestore (${Do}): ${n}`,...e)}}function Tm(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function wt(n="Unexpected state"){const t=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+n;throw ms(t),new Error(t)}function ve(n,t){n||wt()}function Ht(n,t){return n}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Ro{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class uo{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class V1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class JA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class t2{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ve(this.o===void 0);let s=this.i;const r=f=>this.i!==s?(s=this.i,e(f)):Promise.resolve();let o=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new uo,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new uo)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ve(typeof s.accessToken=="string"),new V1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ve(t===null||typeof t=="string"),new cn(t)}}class e2{constructor(t,e,s){this.l=t,this.h=e,this.P=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n2{constructor(t,e,s){this.l=t,this.h=e,this.P=s}getToken(){return Promise.resolve(new e2(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s2{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){ve(this.o===void 0);const s=o=>{o.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,gt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>s(o)))};const r=o=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ve(typeof e.token=="string"),this.R=e.token,new i2(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function a2(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class k1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const r=a2(40);for(let o=0;o<r.length;++o)s.length<20&&r[o]<e&&(s+=t.charAt(r[o]%t.length))}return s}}function Xt(n,t){return n<t?-1:n>t?1:0}function yo(n,t,e){return n.length===t.length&&n.every(((s,r)=>e(s,t[r])))}class Fe{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ft(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ft(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ft(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Fe.fromMillis(Date.now())}static fromDate(t){return Fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*e));return new Fe(e,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Fe(0,0))}static max(){return new Et(new Fe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hc{constructor(t,e,s){e===void 0?e=0:e>t.length&&wt(),s===void 0?s=t.length-e:s>t.length-e&&wt(),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return hc.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof hc?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let r=0;r<s;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class he extends hc{construct(t,e,s){return new he(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(lt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((r=>r.length>0)))}return new he(e)}static emptyPath(){return new he([])}}const r2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends hc{construct(t,e,s){return new hn(t,e,s)}static isValidIdentifier(t){return r2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(t){const e=[];let s="",r=0;const o=()=>{if(s.length===0)throw new ft(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ft(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ft(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(s+=h,r++):(o(),r++)}if(o(),c)throw new ft(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(e)}static emptyPath(){return new hn([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(he.fromString(t))}static fromName(t){return new vt(he.fromString(t).popFirst(5))}static empty(){return new vt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return he.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new he(t.slice()))}}function o2(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,r=Et.fromTimestamp(s===1e9?new Fe(e+1,0):new Fe(e,s));return new ga(r,vt.empty(),t)}function l2(n){return new ga(n.readTime,n.key,-1)}class ga{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ga(Et.min(),vt.empty(),-1)}static max(){return new ga(Et.max(),vt.empty(),-1)}}function c2(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Xt(n.largestBatchId,t.largestBatchId))}const u2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function xm(n){if(n.code!==lt.FAILED_PRECONDITION||n.message!==u2)throw n;gt("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st(((s,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(s,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(s,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):st.reject(e)}static resolve(t){return new st(((e,s)=>{e(t)}))}static reject(t){return new st(((e,s)=>{s(t)}))}static waitFor(t){return new st(((e,s)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>s(f)))})),c=!0,o===r&&e()}))}static or(t){let e=st.resolve(!1);for(const s of t)e=e.next((r=>r?st.resolve(r):s()));return e}static forEach(t,e){const s=[];return t.forEach(((r,o)=>{s.push(e.call(this,r,o))})),this.waitFor(s)}static mapArray(t,e){return new st(((s,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next((_=>{c[g]=_,++h,h===o&&s(c)}),(_=>r(_)))}}))}static doWhile(t,e){return new st(((s,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):s()};o()}))}}function f2(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function xc(n){return n.name==="IndexedDbTransactionError"}class Em{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ie(s),this.se=s=>e.writeSequenceNumber(s))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Em.oe=-1;function Hh(n){return n==null}function Mh(n){return n===0&&1/n==-1/0}function d2(n){return typeof n=="number"&&Number.isInteger(n)&&!Mh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function s0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ec(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function z1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ae{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new Ae(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new Ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return e+s.left.size;r<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ih(this.root,t,this.comparator,!0)}}class ih{constructor(t,e,s,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?s(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,s,r,o){this.key=t,this.value=e,this.color=s??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,r,o){return new tn(t??this.key,e??this.value,s??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let r=this;const o=s(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,s),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,e,s,r,o){return this}insert(t,e,s){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(t){this.comparator=t,this.data=new Ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new a0(this.data.getIterator())}getIteratorFrom(t){return new a0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=s.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new en(this.comparator);return e.data=t,e}}class a0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sa{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new sa([])}unionWith(t){let e=new en(hn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new sa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class L1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new L1("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const g2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(n){if(ve(!!n),typeof n=="string"){let t=0;const e=g2.exec(n);if(ve(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hr(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}function Sm(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function Am(n){const t=n.mapValue.fields.__previous_value__;return Sm(t)?Am(t):t}function fc(n){const t=ma(n.mapValue.fields.__local_write_time__.timestampValue);return new Fe(t.seconds,t.nanos)}class m2{constructor(t,e,s,r,o,c,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}class dc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof dc&&t.projectId===this.projectId&&t.database===this.database}}const sh={mapValue:{}};function fr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sm(n)?4:_2(n)?9007199254740991:p2(n)?10:11:wt()}function ki(n,t){if(n===t)return!0;const e=fr(n);if(e!==fr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return fc(n).isEqual(fc(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=ma(r.timestampValue),h=ma(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return hr(r.bytesValue).isEqual(hr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Ee(r.geoPointValue.latitude)===Ee(o.geoPointValue.latitude)&&Ee(r.geoPointValue.longitude)===Ee(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Ee(r.integerValue)===Ee(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Ee(r.doubleValue),h=Ee(o.doubleValue);return c===h?Mh(c)===Mh(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return yo(n.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(s0(c)!==s0(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ki(c[f],h[f])))return!1;return!0})(n,t);default:return wt()}}function gc(n,t){return(n.values||[]).find((e=>ki(e,t)))!==void 0}function vo(n,t){if(n===t)return 0;const e=fr(n),s=fr(t);if(e!==s)return Xt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Ee(o.integerValue||o.doubleValue),f=Ee(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return r0(n.timestampValue,t.timestampValue);case 4:return r0(fc(n),fc(t));case 5:return Xt(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=hr(o),f=hr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=Xt(h[g],f[g]);if(_!==0)return _}return Xt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Xt(Ee(o.latitude),Ee(c.latitude));return h!==0?h:Xt(Ee(o.longitude),Ee(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return o0(n.arrayValue,t.arrayValue);case 10:return(function(o,c){var h,f,g,_;const v=o.fields||{},x=c.fields||{},S=(h=v.value)===null||h===void 0?void 0:h.arrayValue,w=(f=x.value)===null||f===void 0?void 0:f.arrayValue,A=Xt(((g=S?.values)===null||g===void 0?void 0:g.length)||0,((_=w?.values)===null||_===void 0?void 0:_.length)||0);return A!==0?A:o0(S,w)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===sh.mapValue&&c===sh.mapValue)return 0;if(o===sh.mapValue)return 1;if(c===sh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const x=Xt(f[v],_[v]);if(x!==0)return x;const S=vo(h[f[v]],g[_[v]]);if(S!==0)return S}return Xt(f.length,_.length)})(n.mapValue,t.mapValue);default:throw wt()}}function r0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Xt(n,t);const e=ma(n),s=ma(t),r=Xt(e.seconds,s.seconds);return r!==0?r:Xt(e.nanos,s.nanos)}function o0(n,t){const e=n.values||[],s=t.values||[];for(let r=0;r<e.length&&r<s.length;++r){const o=vo(e[r],s[r]);if(o)return o}return Xt(e.length,s.length)}function bo(n){return Yg(n)}function Yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=ma(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return hr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",r=!0;for(const o of e.values||[])r?r=!1:s+=",",s+=Yg(o);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of s)o?o=!1:r+=",",r+=`${c}:${Yg(e.fields[c])}`;return r+"}"})(n.mapValue):wt()}function l0(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Qg(n){return!!n&&"integerValue"in n}function wm(n){return!!n&&"arrayValue"in n}function c0(n){return!!n&&"nullValue"in n}function u0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bg(n){return!!n&&"mapValue"in n}function p2(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ec(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=tc(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=tc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function _2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Oi{constructor(t){this.value=t}static empty(){return new Oi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!bg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=tc(e)}setAll(t){let e=hn.emptyPath(),s={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,s,r),s={},r=[],e=h.popLast()}c?s[h.lastSegment()]=tc(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,s,r)}delete(t){const e=this.field(t.popLast());bg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=e.mapValue.fields[t.get(s)];bg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,s){Ec(e,((r,o)=>t[r]=o));for(const r of s)delete t[r]}clone(){return new Oi(tc(this.value))}}class un{constructor(t,e,s,r,o,c,h){this.key=t,this.documentType=e,this.version=s,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new un(t,0,Et.min(),Et.min(),Et.min(),Oi.empty(),0)}static newFoundDocument(t,e,s,r){return new un(t,1,e,Et.min(),s,r,0)}static newNoDocument(t,e){return new un(t,2,e,Et.min(),Et.min(),Oi.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,Et.min(),Et.min(),Oi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nh{constructor(t,e){this.position=t,this.inclusive=e}}function h0(n,t,e){let s=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),e.key):s=vo(c,e.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function f0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ki(n.position[e],t.position[e]))return!1;return!0}class mc{constructor(t,e="asc"){this.field=t,this.dir=e}}function y2(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class j1{}class Oe extends j1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new b2(t,e,s):e==="array-contains"?new E2(t,s):e==="in"?new S2(t,s):e==="not-in"?new A2(t,s):e==="array-contains-any"?new w2(t,s):new Oe(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new T2(t,s):new x2(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(vo(e,this.value)):e!==null&&fr(this.value)===fr(e)&&this.matchesComparison(vo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends j1{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new di(t,e)}matches(t){return P1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function P1(n){return n.op==="and"}function B1(n){return v2(n)&&P1(n)}function v2(n){for(const t of n.filters)if(t instanceof di)return!1;return!0}function $g(n){if(n instanceof Oe)return n.field.canonicalString()+n.op.toString()+bo(n.value);if(B1(n))return n.filters.map((t=>$g(t))).join(",");{const t=n.filters.map((e=>$g(e))).join(",");return`${n.op}(${t})`}}function U1(n,t){return n instanceof Oe?(function(s,r){return r instanceof Oe&&s.op===r.op&&s.field.isEqual(r.field)&&ki(s.value,r.value)})(n,t):n instanceof di?(function(s,r){return r instanceof di&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((o,c,h)=>o&&U1(c,r.filters[h])),!0):!1})(n,t):void wt()}function H1(n){return n instanceof Oe?(function(e){return`${e.field.canonicalString()} ${e.op} ${bo(e.value)}`})(n):n instanceof di?(function(e){return e.op.toString()+" {"+e.getFilters().map(H1).join(" ,")+"}"})(n):"Filter"}class b2 extends Oe{constructor(t,e,s){super(t,e,s),this.key=vt.fromName(s.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class T2 extends Oe{constructor(t,e){super(t,"in",e),this.keys=F1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class x2 extends Oe{constructor(t,e){super(t,"not-in",e),this.keys=F1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function F1(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map((s=>vt.fromName(s.referenceValue)))}class E2 extends Oe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return wm(e)&&gc(e.arrayValue,this.value)}}class S2 extends Oe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&gc(this.value.arrayValue,e)}}class A2 extends Oe{constructor(t,e){super(t,"not-in",e)}matches(t){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!gc(this.value.arrayValue,e)}}class w2 extends Oe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!wm(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>gc(this.value.arrayValue,s)))}}class C2{constructor(t,e=null,s=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.ue=null}}function d0(n,t=null,e=[],s=[],r=null,o=null,c=null){return new C2(n,t,e,s,r,o,c)}function Cm(n){const t=Ht(n);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>$g(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),Hh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>bo(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>bo(s))).join(",")),t.ue=e}return t.ue}function Rm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!y2(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!U1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!f0(n.startAt,t.startAt)&&f0(n.endAt,t.endAt)}function Kg(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Mo{constructor(t,e=null,s=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function R2(n,t,e,s,r,o,c,h){return new Mo(n,t,e,s,r,o,c,h)}function Dm(n){return new Mo(n)}function g0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function q1(n){return n.collectionGroup!==null}function ec(n){const t=Ht(n);if(t.ce===null){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new en(hn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new mc(o,s))})),e.has(hn.keyField().canonicalString())||t.ce.push(new mc(hn.keyField(),s))}return t.ce}function Ii(n){const t=Ht(n);return t.le||(t.le=D2(t,ec(n))),t.le}function D2(n,t){if(n.limitType==="F")return d0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new mc(r.field,o)}));const e=n.endAt?new Nh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Nh(n.startAt.position,n.startAt.inclusive):null;return d0(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Xg(n,t){const e=n.filters.concat([t]);return new Mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Oh(n,t,e){return new Mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Fh(n,t){return Rm(Ii(n),Ii(t))&&n.limitType===t.limitType}function G1(n){return`${Cm(Ii(n))}|lt:${n.limitType}`}function ro(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((r=>H1(r))).join(", ")}]`),Hh(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>bo(r))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>bo(r))).join(",")),`Target(${s})`})(Ii(n))}; limitType=${n.limitType})`}function qh(n,t){return t.isFoundDocument()&&(function(s,r){const o=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):vt.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(n,t)&&(function(s,r){for(const o of ec(s))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(s,r){for(const o of s.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(s,r){return!(s.startAt&&!(function(c,h,f){const g=h0(c,h,f);return c.inclusive?g<=0:g<0})(s.startAt,ec(s),r)||s.endAt&&!(function(c,h,f){const g=h0(c,h,f);return c.inclusive?g>=0:g>0})(s.endAt,ec(s),r))})(n,t)}function M2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Y1(n){return(t,e)=>{let s=!1;for(const r of ec(n)){const o=N2(r,t,e);if(o!==0)return o;s=s||r.field.isKeyField()}return 0}}function N2(n,t,e){const s=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?vo(f,g):wt()})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return wt()}}class No{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[r,o]of s)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[e]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ec(this.inner,((e,s)=>{for(const[r,o]of s)t(r,o)}))}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}const O2=new Ae(vt.comparator);function pa(){return O2}const Q1=new Ae(vt.comparator);function $l(...n){let t=Q1;for(const e of n)t=t.insert(e.key,e);return t}function I2(n){let t=Q1;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function sr(){return nc()}function $1(){return nc()}function nc(){return new No((n=>n.toString()),((n,t)=>n.isEqual(t)))}const V2=new en(vt.comparator);function qt(...n){let t=V2;for(const e of n)t=t.add(e);return t}const k2=new en(Xt);function z2(){return k2}function Mm(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(t)?"-0":t}}function K1(n){return{integerValue:""+n}}function L2(n,t){return d2(t)?K1(t):Mm(n,t)}class Gh{constructor(){this._=void 0}}function j2(n,t,e){return n instanceof Wg?(function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Sm(o)&&(o=Am(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}})(e,t):n instanceof Ih?X1(n,t):n instanceof Vh?W1(n,t):(function(r,o){const c=B2(r,o),h=m0(c)+m0(r.Pe);return Qg(c)&&Qg(r.Pe)?K1(h):Mm(r.serializer,h)})(n,t)}function P2(n,t,e){return n instanceof Ih?X1(n,t):n instanceof Vh?W1(n,t):e}function B2(n,t){return n instanceof Zg?(function(s){return Qg(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(t)?t:{integerValue:0}:null}class Wg extends Gh{}class Ih extends Gh{constructor(t){super(),this.elements=t}}function X1(n,t){const e=Z1(t);for(const s of n.elements)e.some((r=>ki(r,s)))||e.push(s);return{arrayValue:{values:e}}}class Vh extends Gh{constructor(t){super(),this.elements=t}}function W1(n,t){let e=Z1(t);for(const s of n.elements)e=e.filter((r=>!ki(r,s)));return{arrayValue:{values:e}}}class Zg extends Gh{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function m0(n){return Ee(n.integerValue||n.doubleValue)}function Z1(n){return wm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function U2(n,t){return n.field.isEqual(t.field)&&(function(s,r){return s instanceof Ih&&r instanceof Ih||s instanceof Vh&&r instanceof Vh?yo(s.elements,r.elements,ki):s instanceof Zg&&r instanceof Zg?ki(s.Pe,r.Pe):s instanceof Wg&&r instanceof Wg})(n.transform,t.transform)}class lr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new lr}static exists(t){return new lr(void 0,t)}static updateTime(t){return new lr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Th(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Nm{}function J1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new F2(n.key,lr.none()):new Om(n.key,n.data,lr.none());{const e=n.data,s=Oi.empty();let r=new en(hn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?s.delete(o):s.set(o,c),r=r.add(o)}return new Yh(n.key,s,new sa(r.toArray()),lr.none())}}function H2(n,t,e){n instanceof Om?(function(r,o,c){const h=r.value.clone(),f=_0(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Yh?(function(r,o,c){if(!Th(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=_0(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(tT(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function ic(n,t,e,s){return n instanceof Om?(function(o,c,h,f){if(!Th(o.precondition,c))return h;const g=o.value.clone(),_=y0(o.fieldTransforms,f,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof Yh?(function(o,c,h,f){if(!Th(o.precondition,c))return h;const g=y0(o.fieldTransforms,f,c),_=c.data;return _.setAll(tT(o)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,t,e,s):(function(o,c,h){return Th(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function p0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&yo(s,r,((o,c)=>U2(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Om extends Nm{constructor(t,e,s,r=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yh extends Nm{constructor(t,e,s,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tT(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function _0(n,t,e){const s=new Map;ve(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);s.set(o.field,P2(c,h,e[r]))}return s}function y0(n,t,e){const s=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);s.set(r.field,j2(o,c,t))}return s}class F2 extends Nm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q2{constructor(t,e,s,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&H2(o,t,s[r])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=ic(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=ic(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=$1();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=J1(c,h);f!==null&&s.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),qt())}isEqual(t){return this.batchId===t.batchId&&yo(this.mutations,t.mutations,((e,s)=>p0(e,s)))&&yo(this.baseMutations,t.baseMutations,((e,s)=>p0(e,s)))}}class G2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y2{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ne,Ut;function eT(n){if(n===void 0)return ms("GRPC error has no .code"),lt.UNKNOWN;switch(n){case Ne.OK:return lt.OK;case Ne.CANCELLED:return lt.CANCELLED;case Ne.UNKNOWN:return lt.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return lt.INTERNAL;case Ne.UNAVAILABLE:return lt.UNAVAILABLE;case Ne.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Ne.NOT_FOUND:return lt.NOT_FOUND;case Ne.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Ne.ABORTED:return lt.ABORTED;case Ne.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Ne.DATA_LOSS:return lt.DATA_LOSS;default:return wt()}}(Ut=Ne||(Ne={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function Q2(){return new TextEncoder}const $2=new or([4294967295,4294967295],0);function v0(n){const t=Q2().encode(n),e=new R1;return e.update(t),new Uint8Array(e.digest())}function b0(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new or([e,s],0),new or([r,o],0)]}class Im{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Kl(`Invalid padding: ${e}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=or.fromNumber(this.Ie)}Ee(t,e,s){let r=t.add(e.multiply(or.fromNumber(s)));return r.compare($2)===1&&(r=new or([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const e=v0(t),[s,r]=b0(e);for(let o=0;o<this.hashCount;o++){const c=this.Ee(s,r,o);if(!this.de(c))return!1}return!0}static create(t,e,s){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Im(o,r,e);return s.forEach((h=>c.insert(h))),c}insert(t){if(this.Ie===0)return;const e=v0(t),[s,r]=b0(e);for(let o=0;o<this.hashCount;o++){const c=this.Ee(s,r,o);this.Ae(c)}}Ae(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(t,e,s,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const r=new Map;return r.set(t,Sc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Qh(Et.min(),r,new Ae(Xt),pa(),qt())}}class Sc{constructor(t,e,s,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Sc(s,e,qt(),qt(),qt())}}class xh{constructor(t,e,s,r){this.Re=t,this.removedTargetIds=e,this.key=s,this.Ve=r}}class nT{constructor(t,e){this.targetId=t,this.me=e}}class iT{constructor(t,e,s=nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=r}}class T0{constructor(){this.fe=0,this.ge=E0(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=qt(),e=qt(),s=qt();return this.ge.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:s=s.add(r);break;default:wt()}})),new Sc(this.pe,this.ye,t,e,s)}Ce(){this.we=!1,this.ge=E0()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class K2{constructor(t){this.Le=t,this.Be=new Map,this.ke=pa(),this.qe=x0(),this.Qe=new Ae(Xt)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,(e=>{const s=this.Ge(e);switch(t.state){case 0:this.ze(e)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),s.De(t.resumeToken));break;default:wt()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((s,r)=>{this.ze(r)&&e(r)}))}He(t){const e=t.targetId,s=t.me.count,r=this.Je(e);if(r){const o=r.target;if(Kg(o))if(s===0){const c=new vt(o.path);this.Ue(e,c,un.newNoDocument(c,Et.min()))}else ve(s===1);else{const c=this.Ye(e);if(c!==s){const h=this.Ze(t),f=h?this.Xe(h,t,c):1;if(f!==0){this.je(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,g)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=hr(s).toUint8Array()}catch(f){if(f instanceof L1)return _o("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Im(c,r,o)}catch(f){return _o(f instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(t,e,s){return e.me.count===s-this.nt(t,e.targetId)?0:2}nt(t,e){const s=this.Le.getRemoteKeysForTarget(e);let r=0;return s.forEach((o=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.Ue(e,o,null),r++)})),r}rt(t){const e=new Map;this.Be.forEach(((o,c)=>{const h=this.Je(c);if(h){if(o.current&&Kg(h.target)){const f=new vt(h.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,un.newNoDocument(f,t))}o.be&&(e.set(c,o.ve()),o.Ce())}}));let s=qt();this.qe.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.Je(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(o))})),this.ke.forEach(((o,c)=>c.setReadTime(t)));const r=new Qh(t,e,this.Qe,this.ke,s);return this.ke=pa(),this.qe=x0(),this.Qe=new Ae(Xt),r}$e(t,e){if(!this.ze(t))return;const s=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,s),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,s){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),s&&(this.ke=this.ke.insert(e,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new T0,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new en(Xt),this.qe=this.qe.insert(t,e)),e}ze(t){const e=this.Je(t)!==null;return e||gt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new T0),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.Ue(t,e,null)}))}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function x0(){return new Ae(vt.comparator)}function E0(){return new Ae(vt.comparator)}const X2={asc:"ASCENDING",desc:"DESCENDING"},W2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z2={and:"AND",or:"OR"};class J2{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Jg(n,t){return n.useProto3Json||Hh(t)?t:{value:t}}function tm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ho(n){return ve(!!n),Et.fromTimestamp((function(e){const s=ma(e);return new Fe(s.seconds,s.nanos)})(n))}function aT(n,t){return em(n,t).canonicalString()}function em(n,t){const e=(function(r){return new he(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function rT(n){const t=he.fromString(n);return ve(hT(t)),t}function Tg(n,t){const e=rT(t);if(e.get(1)!==n.databaseId.projectId)throw new ft(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ft(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(lT(e))}function oT(n,t){return aT(n.databaseId,t)}function tw(n){const t=rT(n);return t.length===4?he.emptyPath():lT(t)}function S0(n){return new he(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lT(n){return ve(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ew(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt()})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(g,_){return g.useProto3Json?(ve(_===void 0||typeof _=="string"),nn.fromBase64String(_||"")):(ve(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),nn.fromUint8Array(_||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(g){const _=g.code===void 0?lt.UNKNOWN:eT(g.code);return new ft(_,g.message||"")})(c);e=new iT(s,r,o,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=Tg(n,s.document.name),o=ho(s.document.updateTime),c=s.document.createTime?ho(s.document.createTime):Et.min(),h=new Oi({mapValue:{fields:s.document.fields}}),f=un.newFoundDocument(r,o,c,h),g=s.targetIds||[],_=s.removedTargetIds||[];e=new xh(g,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=Tg(n,s.document),o=s.readTime?ho(s.readTime):Et.min(),c=un.newNoDocument(r,o),h=s.removedTargetIds||[];e=new xh([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=Tg(n,s.document),o=s.removedTargetIds||[];e=new xh([],o,r,null)}else{if(!("filter"in t))return wt();{t.filter;const s=t.filter;s.targetId;const{count:r=0,unchangedNames:o}=s,c=new Y2(r,o),h=s.targetId;e=new nT(h,c)}}return e}function nw(n,t){return{documents:[oT(n,t.path)]}}function iw(n,t){const e={structuredQuery:{}},s=t.path;let r;t.collectionGroup!==null?(r=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=oT(n,r);const o=(function(g){if(g.length!==0)return uT(di.create(g,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((_=>(function(x){return{field:oo(x.field),direction:rw(x.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Jg(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{_t:e,parent:r}}function sw(n){let t=tw(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let r=null;if(s>0){ve(s===1);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=(function(v){const x=cT(v);return x instanceof di&&B1(x)?x.getFilters():[x]})(e.where));let c=[];e.orderBy&&(c=(function(v){return v.map((x=>(function(w){return new mc(lo(w.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(x)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let x;return x=typeof v=="object"?v.value:v,Hh(x)?null:x})(e.limit));let f=null;e.startAt&&(f=(function(v){const x=!!v.before,S=v.values||[];return new Nh(S,x)})(e.startAt));let g=null;return e.endAt&&(g=(function(v){const x=!v.before,S=v.values||[];return new Nh(S,x)})(e.endAt)),R2(t,r,c,o,h,"F",f,g)}function aw(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function cT(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=lo(e.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=lo(e.unaryFilter.field);return Oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=lo(e.unaryFilter.field);return Oe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=lo(e.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});default:return wt()}})(n):n.fieldFilter!==void 0?(function(e){return Oe.create(lo(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return di.create(e.compositeFilter.filters.map((s=>cT(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return wt()}})(e.compositeFilter.op))})(n):wt()}function rw(n){return X2[n]}function ow(n){return W2[n]}function lw(n){return Z2[n]}function oo(n){return{fieldPath:n.canonicalString()}}function lo(n){return hn.fromServerFormat(n.fieldPath)}function uT(n){return n instanceof Oe?(function(e){if(e.op==="=="){if(u0(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NAN"}};if(c0(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(u0(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NOT_NAN"}};if(c0(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(e.field),op:ow(e.op),value:e.value}}})(n):n instanceof di?(function(e){const s=e.getFilters().map((r=>uT(r)));return s.length===1?s[0]:{compositeFilter:{op:lw(e.op),filters:s}}})(n):wt()}function hT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class aa{constructor(t,e,s,r,o=Et.min(),c=Et.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new aa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cw{constructor(t){this.ct=t}}function uw(n){const t=sw({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Oh(t,t.limit,"L"):t}class hw{constructor(){this.un=new fw}addToCollectionParentIndex(t,e){return this.un.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(ga.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(ga.min())}updateCollectionGroup(t,e,s){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class fw{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),r=this.index[e]||new en(he.comparator),o=!r.has(s);return this.index[e]=r.add(s),o}has(t){const e=t.lastSegment(),s=t.popLast(),r=this.index[e];return r&&r.has(s)}getEntries(t){return(this.index[t]||new en(he.comparator)).toArray()}}class To{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new To(0)}static kn(){return new To(-1)}}class dw{constructor(){this.changes=new No((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?st.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gw{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class mw{constructor(t,e,s,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=r}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(s=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(s!==null&&ic(s.mutation,r,sa.empty(),Fe.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,qt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=qt()){const r=sr();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,s).next((o=>{let c=$l();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=sr();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,qt())))}populateOverlays(t,e,s){const r=[];return s.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,s,r){let o=pa();const c=nc(),h=(function(){return nc()})();return e.forEach(((f,g)=>{const _=s.get(g.key);r.has(g.key)&&(_===void 0||_.mutation instanceof Yh)?o=o.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),ic(_.mutation,g,_.mutation.getFieldMask(),Fe.now())):c.set(g.key,sa.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((g,_)=>c.set(g,_))),e.forEach(((g,_)=>{var v;return h.set(g,new gw(_,(v=c.get(g))!==null&&v!==void 0?v:null))})),h)))}recalculateAndSaveOverlays(t,e){const s=nc();let r=new Ae(((c,h)=>c-h)),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=e.get(f);if(g===null)return;let _=s.get(f)||sa.empty();_=h.applyToLocalView(g,_),s.set(f,_);const v=(r.get(h.batchId)||qt()).add(f);r=r.insert(h.batchId,v)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,v=$1();_.forEach((x=>{if(!o.has(x)){const S=J1(e.get(x),s.get(x));S!==null&&v.set(x,S),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,v))}return st.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,r){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):q1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,r):this.getDocumentsMatchingCollectionQuery(t,e,s,r)}getNextDocuments(t,e,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,r-o.size):st.resolve(sr());let h=-1,f=o;return c.next((g=>st.forEach(g,((_,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(_)?st.resolve():this.remoteDocumentCache.getEntry(t,_).next((x=>{f=f.insert(_,x)}))))).next((()=>this.populateOverlays(t,g,o))).next((()=>this.computeViews(t,f,g,qt()))).next((_=>({batchId:h,changes:I2(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((s=>{let r=$l();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,r){const o=e.collectionGroup;let c=$l();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(f=>{const g=(function(v,x){return new Mo(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,s,r).next((_=>{_.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,o,r)))).next((c=>{o.forEach(((f,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,un.newInvalidDocument(_)))}));let h=$l();return c.forEach(((f,g)=>{const _=o.get(f);_!==void 0&&ic(_.mutation,g,sa.empty(),Fe.now()),qh(e,g)&&(h=h.insert(f,g))})),h}))}}class pw{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return st.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ho(r.createTime)}})(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,(function(r){return{name:r.name,query:uw(r.bundledQuery),readTime:ho(r.readTime)}})(e)),st.resolve()}}class _w{constructor(){this.overlays=new Ae(vt.comparator),this.Ir=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const s=sr();return st.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&s.set(r,o)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((r,o)=>{this.ht(t,e,o)})),st.resolve()}removeOverlaysForBatchId(t,e,s){const r=this.Ir.get(s);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Ir.delete(s)),st.resolve()}getOverlaysForCollection(t,e,s){const r=sr(),o=e.length+1,c=new vt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>s&&r.set(f.getKey(),f)}return st.resolve(r)}getOverlaysForCollectionGroup(t,e,s,r){let o=new Ae(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let _=o.get(g.largestBatchId);_===null&&(_=sr(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=sr(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,_)=>h.set(g,_))),!(h.size()>=r)););return st.resolve(h)}ht(t,e,s){const r=this.overlays.get(s.key);if(r!==null){const c=this.Ir.get(r.largestBatchId).delete(s.key);this.Ir.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new G2(e,s));let o=this.Ir.get(e);o===void 0&&(o=qt(),this.Ir.set(e,o)),this.Ir.set(e,o.add(s.key))}}class yw{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}class Vm{constructor(){this.Tr=new en(He.Er),this.dr=new en(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const s=new He(t,e);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Vr(new He(t,e))}mr(t,e){t.forEach((s=>this.removeReference(s,e)))}gr(t){const e=new vt(new he([])),s=new He(e,t),r=new He(e,t+1),o=[];return this.dr.forEachInRange([s,r],(c=>{this.Vr(c),o.push(c.key)})),o}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new vt(new he([])),s=new He(e,t),r=new He(e,t+1);let o=qt();return this.dr.forEachInRange([s,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new He(t,0),s=this.Tr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return vt.comparator(t.key,e.key)||Xt(t.wr,e.wr)}static Ar(t,e){return Xt(t.wr,e.wr)||vt.comparator(t.key,e.key)}}class vw{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new en(He.Er)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,r){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new q2(o,e,s,r);this.mutationQueue.push(c);for(const h of r)this.br=this.br.add(new He(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,e){return st.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,r=this.vr(s),o=r<0?0:r;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new He(e,0),r=new He(e,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([s,r],(c=>{const h=this.Dr(c.wr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new en(Xt);return e.forEach((r=>{const o=new He(r,0),c=new He(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],(h=>{s=s.add(h.wr)}))})),st.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,r=s.length+1;let o=s;vt.isDocumentKey(o)||(o=o.child(""));const c=new He(new vt(o),0);let h=new en(Xt);return this.br.forEachWhile((f=>{const g=f.key.path;return!!s.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.wr)),!0)}),c),st.resolve(this.Cr(h))}Cr(t){const e=[];return t.forEach((s=>{const r=this.Dr(s);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){ve(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return st.forEach(e.mutations,(r=>{const o=new He(r.key,e.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.br=s}))}On(t){}containsKey(t,e){const s=new He(e,0),r=this.br.firstAfterOrEqual(s);return st.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class bw{constructor(t){this.Mr=t,this.docs=(function(){return new Ae(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,r=this.docs.get(s),o=r?r.size:0,c=this.Mr(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return st.resolve(s?s.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let s=pa();return e.forEach((r=>{const o=this.docs.get(r);s=s.insert(r,o?o.document.mutableCopy():un.newInvalidDocument(r))})),st.resolve(s)}getDocumentsMatchingQuery(t,e,s,r){let o=pa();const c=e.path,h=new vt(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||c2(l2(_),s)<=0||(r.has(_.key)||qh(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,s,r){wt()}Or(t,e){return st.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new Tw(this)}getSize(t){return st.resolve(this.size)}}class Tw extends dw{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(s)})),st.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class xw{constructor(t){this.persistence=t,this.Nr=new No((e=>Cm(e)),Rm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vm,this.targetCount=0,this.kr=To.Bn()}forEachTarget(t,e){return this.Nr.forEach(((s,r)=>e(r))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.Lr&&(this.Lr=e),st.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new To(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.Kn(e),st.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,s){let r=0;const o=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=e&&s.get(h.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),st.waitFor(o).next((()=>r))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const s=this.Nr.get(e)||null;return st.resolve(s)}addMatchingKeys(t,e,s){return this.Br.Rr(e,s),st.resolve()}removeMatchingKeys(t,e,s){this.Br.mr(e,s);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),st.resolve()}getMatchingKeysForTargetId(t,e){const s=this.Br.yr(e);return st.resolve(s)}containsKey(t,e){return st.resolve(this.Br.containsKey(e))}}class Ew{constructor(t,e){this.qr={},this.overlays={},this.Qr=new Em(0),this.Kr=!1,this.Kr=!0,this.$r=new yw,this.referenceDelegate=t(this),this.Ur=new xw(this),this.indexManager=new hw,this.remoteDocumentCache=(function(r){return new bw(r)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new cw(e),this.Gr=new pw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new _w,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.qr[t.toKey()];return s||(s=new vw(e,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,s){gt("MemoryPersistence","Starting transaction:",t);const r=new Sw(this.Qr.next());return this.referenceDelegate.zr(),s(r).next((o=>this.referenceDelegate.jr(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Hr(t,e){return st.or(Object.values(this.qr).map((s=>()=>s.containsKey(t,e))))}}class Sw extends h2{constructor(t){super(),this.currentSequenceNumber=t}}class km{constructor(t){this.persistence=t,this.Jr=new Vm,this.Yr=null}static Zr(t){return new km(t)}get Xr(){if(this.Yr)return this.Yr;throw wt()}addReference(t,e,s){return this.Jr.addReference(s,e),this.Xr.delete(s.toString()),st.resolve()}removeReference(t,e,s){return this.Jr.removeReference(s,e),this.Xr.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),st.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach((r=>this.Xr.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.Xr.add(o.toString())))})).next((()=>s.removeTargetData(t,e)))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.Xr,(s=>{const r=vt.fromPath(s);return this.ei(t,r).next((o=>{o||e.removeEntry(r,Et.min())}))})).next((()=>(this.Yr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ei(t,e).next((s=>{s?this.Xr.delete(e.toString()):this.Xr.add(e.toString())}))}Wr(t){return 0}ei(t,e){return st.or([()=>st.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class zm{constructor(t,e,s,r){this.targetId=t,this.fromCache=e,this.$i=s,this.Ui=r}static Wi(t,e){let s=qt(),r=qt();for(const o of e.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new zm(t,e.fromCache,s,r)}}class Aw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ww{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return zS()?8:f2(VS())>0?6:4})()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,s,r){const o={result:null};return this.Yi(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.Zi(t,e,r,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Aw;return this.Xi(t,e,c).next((h=>{if(o.result=h,this.zi)return this.es(t,e,c,h.size)}))})).next((()=>o.result))}es(t,e,s,r){return s.documentReadCount<this.ji?(Pl()<=Ft.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",ro(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),st.resolve()):(Pl()<=Ft.DEBUG&&gt("QueryEngine","Query:",ro(e),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.Hi*r?(Pl()<=Ft.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",ro(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(e))):st.resolve())}Yi(t,e){if(g0(e))return st.resolve(null);let s=Ii(e);return this.indexManager.getIndexType(t,s).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Oh(e,null,"F"),s=Ii(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((o=>{const c=qt(...o);return this.Ji.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,s).next((f=>{const g=this.ts(e,h);return this.ns(e,g,c,f.readTime)?this.Yi(t,Oh(e,null,"F")):this.rs(t,g,e,f)}))))})))))}Zi(t,e,s,r){return g0(e)||r.isEqual(Et.min())?st.resolve(null):this.Ji.getDocuments(t,s).next((o=>{const c=this.ts(e,o);return this.ns(e,c,s,r)?st.resolve(null):(Pl()<=Ft.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ro(e)),this.rs(t,c,e,o2(r,-1)).next((h=>h)))}))}ts(t,e){let s=new en(Y1(t));return e.forEach(((r,o)=>{qh(t,o)&&(s=s.add(o))})),s}ns(t,e,s,r){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(t,e,s){return Pl()<=Ft.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",ro(e)),this.Ji.getDocumentsMatchingQuery(t,e,ga.min(),s)}rs(t,e,s,r){return this.Ji.getDocumentsMatchingQuery(t,s,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}class Cw{constructor(t,e,s,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new Ae(Xt),this._s=new No((o=>Cm(o)),Rm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.os)))}}function Rw(n,t,e,s){return new Cw(n,t,e,s)}async function fT(n,t){const e=Ht(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return e.mutationQueue.getAllMutationBatches(s).next((o=>(r=o,e.ls(t),e.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],h=[];let f=qt();for(const g of r){c.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(s,f).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function dT(n){const t=Ht(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Dw(n,t){const e=Ht(n),s=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const h=[];t.targetChanges.forEach(((_,v)=>{const x=r.get(v);if(!x)return;h.push(e.Ur.removeMatchingKeys(o,_.removedDocuments,v).next((()=>e.Ur.addMatchingKeys(o,_.addedDocuments,v))));let S=x.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(nn.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,s)),r=r.insert(v,S),(function(A,N,U){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(x,S,_)&&h.push(e.Ur.updateTargetData(o,S))}));let f=pa(),g=qt();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,_))})),h.push(Mw(o,c,t.documentUpdates).next((_=>{f=_.Ps,g=_.Is}))),!s.isEqual(Et.min())){const _=e.Ur.getLastRemoteSnapshotVersion(o).next((v=>e.Ur.setTargetsMetadata(o,o.currentSequenceNumber,s)));h.push(_)}return st.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,g))).next((()=>f))})).then((o=>(e.os=r,o)))}function Mw(n,t,e){let s=qt(),r=qt();return e.forEach((o=>s=s.add(o))),t.getEntries(n,s).next((o=>{let c=pa();return e.forEach(((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Et.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):gt("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{Ps:c,Is:r}}))}function Nw(n,t){const e=Ht(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return e.Ur.getTargetData(s,t).next((o=>o?(r=o,st.resolve(r)):e.Ur.allocateTargetId(s).next((c=>(r=new aa(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Ur.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=e.os.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(s.targetId,s),e._s.set(t,s.targetId)),s}))}async function nm(n,t,e){const s=Ht(n),r=s.os.get(t),o=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!xc(c))throw c;gt("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}s.os=s.os.remove(t),s._s.delete(r.target)}function A0(n,t,e){const s=Ht(n);let r=Et.min(),o=qt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,_){const v=Ht(f),x=v._s.get(_);return x!==void 0?st.resolve(v.os.get(x)):v.Ur.getTargetData(g,_)})(s,c,Ii(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>s.ss.getDocumentsMatchingQuery(c,t,e?r:Et.min(),e?o:qt()))).next((h=>(Ow(s,M2(t),h),{documents:h,Ts:o})))))}function Ow(n,t,e){let s=n.us.get(t)||Et.min();e.forEach(((r,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),n.us.set(t,s)}class w0{constructor(){this.activeTargetIds=z2()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Iw{constructor(){this.so=new w0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,s){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new w0,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Vw{_o(t){}shutdown(){}}class C0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ah=null;function xg(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}const kw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zw{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const on="WebChannelConnection";class Lw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+e.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(e,s,r,o,c){const h=xg(),f=this.xo(e,s.toUriEncodedString());gt("RestConnection",`Sending RPC '${e}' ${h}:`,f,r);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,o,c),this.No(e,f,g,r).then((_=>(gt("RestConnection",`Received RPC '${e}' ${h}: `,_),_)),(_=>{throw _o("RestConnection",`RPC '${e}' ${h} failed with error: `,_,"url: ",f,"request:",r),_}))}Lo(e,s,r,o,c,h){return this.Mo(e,s,r,o,c)}Oo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}xo(e,s){const r=kw[e];return`${this.Do}/v1/${s}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,s,r){const o=xg();return new Promise(((c,h)=>{const f=new D1;f.setWithCredentials(!0),f.listenOnce(M1.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case bh.NO_ERROR:const _=f.getResponseJson();gt(on,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(_)),c(_);break;case bh.TIMEOUT:gt(on,`RPC '${t}' ${o} timed out`),h(new ft(lt.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const v=f.getStatus();if(gt(on,`RPC '${t}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x?.error;if(S&&S.status&&S.message){const w=(function(N){const U=N.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(U)>=0?U:lt.UNKNOWN})(S.status);h(new ft(w,S.message))}else h(new ft(lt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ft(lt.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{gt(on,`RPC '${t}' ${o} completed.`)}}));const g=JSON.stringify(r);gt(on,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",g,s,15)}))}Bo(t,e,s){const r=xg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=I1(),h=O1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,e,s),f.encodeInitMessageHeaders=!0;const _=o.join("");gt(on,`Creating RPC '${t}' stream ${r}: ${_}`,f);const v=c.createWebChannel(_,f);let x=!1,S=!1;const w=new zw({Io:N=>{S?gt(on,`Not sending because RPC '${t}' stream ${r} is closed:`,N):(x||(gt(on,`Opening RPC '${t}' stream ${r} transport.`),v.open(),x=!0),gt(on,`RPC '${t}' stream ${r} sending:`,N),v.send(N))},To:()=>v.close()}),A=(N,U,k)=>{N.listen(U,(K=>{try{k(K)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return A(v,Ql.EventType.OPEN,(()=>{S||(gt(on,`RPC '${t}' stream ${r} transport opened.`),w.yo())})),A(v,Ql.EventType.CLOSE,(()=>{S||(S=!0,gt(on,`RPC '${t}' stream ${r} transport closed`),w.So())})),A(v,Ql.EventType.ERROR,(N=>{S||(S=!0,_o(on,`RPC '${t}' stream ${r} transport errored:`,N),w.So(new ft(lt.UNAVAILABLE,"The operation could not be completed")))})),A(v,Ql.EventType.MESSAGE,(N=>{var U;if(!S){const k=N.data[0];ve(!!k);const K=k,Q=K.error||((U=K[0])===null||U===void 0?void 0:U.error);if(Q){gt(on,`RPC '${t}' stream ${r} received error:`,Q);const et=Q.status;let X=(function(O){const V=Ne[O];if(V!==void 0)return eT(V)})(et),D=Q.message;X===void 0&&(X=lt.INTERNAL,D="Unknown error status: "+et+" with message "+Q.message),S=!0,w.So(new ft(X,D)),v.close()}else gt(on,`RPC '${t}' stream ${r} received:`,k),w.bo(k)}})),A(h,N1.STAT_EVENT,(N=>{N.stat===Gg.PROXY?gt(on,`RPC '${t}' stream ${r} detected buffering proxy`):N.stat===Gg.NOPROXY&&gt(on,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{w.wo()}),0),w}}function Eg(){return typeof document<"u"?document:null}function $h(n){return new J2(n,!0)}class gT{constructor(t,e,s=1e3,r=1.5,o=6e4){this.ui=t,this.timerId=e,this.ko=s,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-s);r>0&&gt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class jw{constructor(t,e,s,r,o,c,h,f){this.ui=t,this.Ho=s,this.Jo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gT(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===lt.RESOURCE_EXHAUSTED?(ms(e.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.Yo===e&&this.P_(s,r)}),(s=>{t((()=>{const r=new ft(lt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(r)}))}))}P_(t,e){const s=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((r=>{s((()=>this.I_(r)))})),this.stream.onMessage((r=>{s((()=>++this.e_==1?this.E_(r):this.onNext(r)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return gt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget((()=>this.Yo===t?e():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pw extends jw{constructor(t,e,s,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,r,c),this.serializer=o}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=ew(this.serializer,t),s=(function(o){if(!("targetChange"in o))return Et.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Et.min():c.readTime?ho(c.readTime):Et.min()})(t);return this.listener.d_(e,s)}A_(t){const e={};e.database=S0(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Kg(f)?{documents:nw(o,f)}:{query:iw(o,f)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=sT(o,c.resumeToken);const g=Jg(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Et.min())>0){h.readTime=tm(o,c.snapshotVersion.toTimestamp());const g=Jg(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,t);const s=aw(this.serializer,t);s&&(e.labels=s),this.a_(e)}R_(t){const e={};e.database=S0(this.serializer),e.removeTarget=t,this.a_(e)}}class Bw extends class{}{constructor(t,e,s,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ft(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,s,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Mo(t,em(e,s),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(lt.UNKNOWN,o.toString())}))}Lo(t,e,s,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(t,em(e,s),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(lt.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Uw{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ms(e),this.D_=!1):gt("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class Hw{constructor(t,e,s,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o((c=>{s.enqueueAndForget((async()=>{wc(this)&&(gt("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const g=Ht(f);g.L_.add(4),await Ac(g),g.q_.set("Unknown"),g.L_.delete(4),await Kh(g)})(this))}))})),this.q_=new Uw(s,r)}}async function Kh(n){if(wc(n))for(const t of n.B_)await t(!0)}async function Ac(n){for(const t of n.B_)await t(!1)}function mT(n,t){const e=Ht(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),Bm(e)?Pm(e):Oo(e).r_()&&jm(e,t))}function Lm(n,t){const e=Ht(n),s=Oo(e);e.N_.delete(t),s.r_()&&pT(e,t),e.N_.size===0&&(s.r_()?s.o_():wc(e)&&e.q_.set("Unknown"))}function jm(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Oo(n).A_(t)}function pT(n,t){n.Q_.xe(t),Oo(n).R_(t)}function Pm(n){n.Q_=new K2({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Oo(n).start(),n.q_.v_()}function Bm(n){return wc(n)&&!Oo(n).n_()&&n.N_.size>0}function wc(n){return Ht(n).L_.size===0}function _T(n){n.Q_=void 0}async function Fw(n){n.q_.set("Online")}async function qw(n){n.N_.forEach(((t,e)=>{jm(n,t)}))}async function Gw(n,t){_T(n),Bm(n)?(n.q_.M_(t),Pm(n)):n.q_.set("Unknown")}async function Yw(n,t,e){if(n.q_.set("Online"),t instanceof iT&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.N_.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.N_.delete(h),r.Q_.removeTarget(h))})(n,t)}catch(s){gt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await R0(n,s)}else if(t instanceof xh?n.Q_.Ke(t):t instanceof nT?n.Q_.He(t):n.Q_.We(t),!e.isEqual(Et.min()))try{const s=await dT(n.localStore);e.compareTo(s)>=0&&await(function(o,c){const h=o.Q_.rt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=o.N_.get(g);_&&o.N_.set(g,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const _=o.N_.get(f);if(!_)return;o.N_.set(f,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),pT(o,f);const v=new aa(_.target,f,g,_.sequenceNumber);jm(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(s){gt("RemoteStore","Failed to raise snapshot:",s),await R0(n,s)}}async function R0(n,t,e){if(!xc(t))throw t;n.L_.add(1),await Ac(n),n.q_.set("Offline"),e||(e=()=>dT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{gt("RemoteStore","Retrying IndexedDB access"),await e(),n.L_.delete(1),await Kh(n)}))}async function D0(n,t){const e=Ht(n);e.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const s=wc(e);e.L_.add(3),await Ac(e),s&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await Kh(e)}async function Qw(n,t){const e=Ht(n);t?(e.L_.delete(2),await Kh(e)):t||(e.L_.add(2),await Ac(e),e.q_.set("Unknown"))}function Oo(n){return n.K_||(n.K_=(function(e,s,r){const o=Ht(e);return o.w_(),new Pw(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Eo:Fw.bind(null,n),Ro:qw.bind(null,n),mo:Gw.bind(null,n),d_:Yw.bind(null,n)}),n.B_.push((async t=>{t?(n.K_.s_(),Bm(n)?Pm(n):n.q_.set("Unknown")):(await n.K_.stop(),_T(n))}))),n.K_}class Um{constructor(t,e,s,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=r,this.removalCallback=o,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,r,o){const c=Date.now()+s,h=new Um(t,e,c,r,o);return h.start(s),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yT(n,t){if(ms("AsyncQueue",`${t}: ${n}`),xc(n))return new ft(lt.UNAVAILABLE,`${t}: ${n}`);throw n}class fo{constructor(t){this.comparator=t?(e,s)=>t(e,s)||vt.comparator(e.key,s.key):(e,s)=>vt.comparator(e.key,s.key),this.keyedMap=$l(),this.sortedSet=new Ae(this.comparator)}static emptySet(t){return new fo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=s.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new fo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class M0{constructor(){this.W_=new Ae(vt.comparator)}track(t){const e=t.doc.key,s=this.W_.get(e);s?t.type!==0&&s.type===3?this.W_=this.W_.insert(e,t):t.type===3&&s.type!==1?this.W_=this.W_.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.W_=this.W_.remove(e):t.type===1&&s.type===2?this.W_=this.W_.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):wt():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal(((e,s)=>{t.push(s)})),t}}class xo{constructor(t,e,s,r,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new xo(t,e,fo.emptySet(e),c,s,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==s[r].type||!e[r].doc.isEqual(s[r].doc))return!1;return!0}}class $w{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class Kw{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,s){const r=Ht(e),o=r.queries;r.queries=N0(),o.forEach(((c,h)=>{for(const f of h.j_)f.onError(s)}))})(this,new ft(lt.ABORTED,"Firestore shutting down"))}}function N0(){return new No((n=>G1(n)),Fh)}async function Xw(n,t){const e=Ht(n);let s=3;const r=t.query;let o=e.queries.get(r);o?!o.H_()&&t.J_()&&(s=2):(o=new $w,s=t.J_()?0:1);try{switch(s){case 0:o.z_=await e.onListen(r,!0);break;case 1:o.z_=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=yT(c,`Initialization of query '${ro(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.j_.push(t),t.Z_(e.onlineState),o.z_&&t.X_(o.z_)&&Hm(e)}async function Ww(n,t){const e=Ht(n),s=t.query;let r=3;const o=e.queries.get(s);if(o){const c=o.j_.indexOf(t);c>=0&&(o.j_.splice(c,1),o.j_.length===0?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function Zw(n,t){const e=Ht(n);let s=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.j_)h.X_(r)&&(s=!0);c.z_=r}}s&&Hm(e)}function Jw(n,t,e){const s=Ht(n),r=s.queries.get(t);if(r)for(const o of r.j_)o.onError(e);s.queries.delete(t)}function Hm(n){n.Y_.forEach((t=>{t.next()}))}var im,O0;(O0=im||(im={})).ea="default",O0.Cache="cache";class tC{constructor(t,e,s){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const r of t.docChanges)r.type!==3&&s.push(r);t=new xo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;const s=e!=="Offline";return(!this.options._a||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==im.Cache}}class vT{constructor(t){this.key=t}}class bT{constructor(t){this.key=t}}class eC{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=qt(),this.mutatedKeys=qt(),this.Aa=Y1(t),this.Ra=new fo(this.Aa)}get Va(){return this.Ta}ma(t,e){const s=e?e.fa:new M0,r=e?e.Ra:this.Ra;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((_,v)=>{const x=r.get(_),S=qh(this.query,v)?v:null,w=!!x&&this.mutatedKeys.has(x.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;x&&S?x.data.isEqual(S.data)?w!==A&&(s.track({type:3,doc:S}),N=!0):this.ga(x,S)||(s.track({type:2,doc:S}),N=!0,(f&&this.Aa(S,f)>0||g&&this.Aa(S,g)<0)&&(h=!0)):!x&&S?(s.track({type:0,doc:S}),N=!0):x&&!S&&(s.track({type:1,doc:x}),N=!0,(f||g)&&(h=!0)),N&&(S?(c=c.add(S),o=A?o.add(_):o.delete(_)):(c=c.delete(_),o=o.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),o=o.delete(_.key),s.track({type:1,doc:_})}return{Ra:c,fa:s,ns:h,mutatedKeys:o}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,r){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const c=t.fa.G_();c.sort(((_,v)=>(function(S,w){const A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return A(S)-A(w)})(_.type,v.type)||this.Aa(_.doc,v.doc))),this.pa(s),r=r!=null&&r;const h=e&&!r?this.ya():[],f=this.da.size===0&&this.current&&!r?1:0,g=f!==this.Ea;return this.Ea=f,c.length!==0||g?{snapshot:new xo(this.query,t.Ra,o,c,t.mutatedKeys,f===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new M0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=qt(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const e=[];return t.forEach((s=>{this.da.has(s)||e.push(new bT(s))})),this.da.forEach((s=>{t.has(s)||e.push(new vT(s))})),e}ba(t){this.Ta=t.Ts,this.da=qt();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nC{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class iC{constructor(t){this.key=t,this.va=!1}}class sC{constructor(t,e,s,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new No((h=>G1(h)),Fh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ae(vt.comparator),this.Na=new Map,this.La=new Vm,this.Ba={},this.ka=new Map,this.qa=To.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function aC(n,t,e=!0){const s=AT(n);let r;const o=s.Fa.get(t);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=await TT(s,t,e,!0),r}async function rC(n,t){const e=AT(n);await TT(e,t,!0,!1)}async function TT(n,t,e,s){const r=await Nw(n.localStore,Ii(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return s&&(h=await oC(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&mT(n.remoteStore,r),h}async function oC(n,t,e,s,r){n.Ka=(v,x,S)=>(async function(A,N,U,k){let K=N.view.ma(U);K.ns&&(K=await A0(A.localStore,N.query,!1).then((({documents:D})=>N.view.ma(D,K))));const Q=k&&k.targetChanges.get(N.targetId),et=k&&k.targetMismatches.get(N.targetId)!=null,X=N.view.applyChanges(K,A.isPrimaryClient,Q,et);return V0(A,N.targetId,X.wa),X.snapshot})(n,v,x,S);const o=await A0(n.localStore,t,!0),c=new eC(t,o.Ts),h=c.ma(o.documents),f=Sc.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",r),g=c.applyChanges(h,n.isPrimaryClient,f);V0(n,e,g.wa);const _=new nC(t,e,c);return n.Fa.set(t,_),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),g.snapshot}async function lC(n,t,e){const s=Ht(n),r=s.Fa.get(t),o=s.Ma.get(r.targetId);if(o.length>1)return s.Ma.set(r.targetId,o.filter((c=>!Fh(c,t)))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await nm(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),e&&Lm(s.remoteStore,r.targetId),sm(s,r.targetId)})).catch(xm)):(sm(s,r.targetId),await nm(s.localStore,r.targetId,!0))}async function cC(n,t){const e=Ht(n),s=e.Fa.get(t),r=e.Ma.get(s.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Lm(e.remoteStore,s.targetId))}async function xT(n,t){const e=Ht(n);try{const s=await Dw(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Na.get(o);c&&(ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.va=!0:r.modifiedDocuments.size>0?ve(c.va):r.removedDocuments.size>0&&(ve(c.va),c.va=!1))})),await ST(e,s,t)}catch(s){await xm(s)}}function I0(n,t,e){const s=Ht(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const r=[];s.Fa.forEach(((o,c)=>{const h=c.view.Z_(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Ht(c);f.onlineState=h;let g=!1;f.queries.forEach(((_,v)=>{for(const x of v.j_)x.Z_(h)&&(g=!0)})),g&&Hm(f)})(s.eventManager,t),r.length&&s.Ca.d_(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function uC(n,t,e){const s=Ht(n);s.sharedClientState.updateQueryState(t,"rejected",e);const r=s.Na.get(t),o=r&&r.key;if(o){let c=new Ae(vt.comparator);c=c.insert(o,un.newNoDocument(o,Et.min()));const h=qt().add(o),f=new Qh(Et.min(),new Map,new Ae(Xt),c,h);await xT(s,f),s.Oa=s.Oa.remove(o),s.Na.delete(t),Fm(s)}else await nm(s.localStore,t,!1).then((()=>sm(s,t,e))).catch(xm)}function sm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Ma.get(t))n.Fa.delete(s),e&&n.Ca.$a(s,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach((s=>{n.La.containsKey(s)||ET(n,s)}))}function ET(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);e!==null&&(Lm(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),Fm(n))}function V0(n,t,e){for(const s of e)s instanceof vT?(n.La.addReference(s.key,t),hC(n,s)):s instanceof bT?(gt("SyncEngine","Document no longer in limbo: "+s.key),n.La.removeReference(s.key,t),n.La.containsKey(s.key)||ET(n,s.key)):wt()}function hC(n,t){const e=t.key,s=e.path.canonicalString();n.Oa.get(e)||n.xa.has(s)||(gt("SyncEngine","New document in limbo: "+e),n.xa.add(s),Fm(n))}function Fm(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new vt(he.fromString(t)),s=n.qa.next();n.Na.set(s,new iC(e)),n.Oa=n.Oa.insert(e,s),mT(n.remoteStore,new aa(Ii(Dm(e.path)),s,"TargetPurposeLimboResolution",Em.oe))}}async function ST(n,t,e){const s=Ht(n),r=[],o=[],c=[];s.Fa.isEmpty()||(s.Fa.forEach(((h,f)=>{c.push(s.Ka(f,t,e).then((g=>{var _;if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:(_=e?.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){r.push(g);const v=zm.Wi(f.targetId,g);o.push(v)}})))})),await Promise.all(c),s.Ca.d_(r),await(async function(f,g){const _=Ht(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>st.forEach(g,(x=>st.forEach(x.$i,(S=>_.persistence.referenceDelegate.addReference(v,x.targetId,S))).next((()=>st.forEach(x.Ui,(S=>_.persistence.referenceDelegate.removeReference(v,x.targetId,S)))))))))}catch(v){if(!xc(v))throw v;gt("LocalStore","Failed to update sequence numbers: "+v)}for(const v of g){const x=v.targetId;if(!v.fromCache){const S=_.os.get(x),w=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(w);_.os=_.os.insert(x,A)}}})(s.localStore,o))}async function fC(n,t){const e=Ht(n);if(!e.currentUser.isEqual(t)){gt("SyncEngine","User change. New user:",t.toKey());const s=await fT(e.localStore,t);e.currentUser=t,(function(o,c){o.ka.forEach((h=>{h.forEach((f=>{f.reject(new ft(lt.CANCELLED,c))}))})),o.ka.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ST(e,s.hs)}}function dC(n,t){const e=Ht(n),s=e.Na.get(t);if(s&&s.va)return qt().add(s.key);{let r=qt();const o=e.Ma.get(t);if(!o)return r;for(const c of o){const h=e.Fa.get(c);r=r.unionWith(h.view.Va)}return r}}function AT(n){const t=Ht(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uC.bind(null,t),t.Ca.d_=Zw.bind(null,t.eventManager),t.Ca.$a=Jw.bind(null,t.eventManager),t}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$h(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return Rw(this.persistence,new ww,t.initialUser,this.serializer)}Ga(t){return new Ew(km.Zr,this.serializer)}Wa(t){return new Iw}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class am{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>I0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fC.bind(null,this.syncEngine),await Qw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Kw})()}createDatastore(t){const e=$h(t.databaseInfo.databaseId),s=(function(o){return new Lw(o)})(t.databaseInfo);return(function(o,c,h,f){return new Bw(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,r,o,c,h){return new Hw(s,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>I0(this.syncEngine,e,0)),(function(){return C0.D()?new C0:new Vw})())}createSyncEngine(t,e){return(function(r,o,c,h,f,g,_){const v=new sC(r,o,c,h,f,g);return _&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(r){const o=Ht(r);gt("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ac(o),o.k_.shutdown(),o.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}am.provider={build:()=>new am};class gC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}class mC{constructor(t,e,s,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=r,this.user=cn.UNAUTHENTICATED,this.clientId=k1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{gt("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(gt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=yT(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Sg(n,t){n.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async r=>{s.isEqual(r)||(await fT(t.localStore,r),s=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function k0(n,t){n.asyncQueue.verifyOperationInProgress();const e=await pC(n);gt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>D0(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,r)=>D0(t.remoteStore,r))),n._onlineComponents=t}async function pC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===lt.FAILED_PRECONDITION||r.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;_o("Error using user provided cache. Falling back to memory cache: "+e),await Sg(n,new kh)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),await Sg(n,new kh);return n._offlineComponents}async function _C(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),await k0(n,n._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),await k0(n,new am))),n._onlineComponents}async function z0(n){const t=await _C(n),e=t.eventManager;return e.onListen=aC.bind(null,t.syncEngine),e.onUnlisten=lC.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=rC.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=cC.bind(null,t.syncEngine),e}function wT(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const L0=new Map;function CT(n,t,e){if(!e)throw new ft(lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function yC(n,t,e,s){if(t===!0&&s===!0)throw new ft(lt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function j0(n){if(!vt.isDocumentKey(n))throw new ft(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function P0(n){if(vt.isDocumentKey(n))throw new ft(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":wt()}function Eh(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ft(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Xh(n);throw new ft(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function vC(n,t){if(t<=0)throw new ft(lt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class B0{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ft(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ft(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ft(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ft(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wh{constructor(t,e,s,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B0(t),t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ZA;switch(s.type){case"firstParty":return new n2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=L0.get(e);s&&(gt("ComponentProvider","Removing Datastore"),L0.delete(e),s.terminate())})(this),Promise.resolve()}}function bC(n,t,e,s={}){var r;const o=(n=Eh(n,Wh))._getSettings(),c=`${t}:${e}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),s.mockUserToken){let h,f;if(typeof s.mockUserToken=="string")h=s.mockUserToken,f=cn.MOCK_USER;else{h=IS(s.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ft(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new cn(g)}n._authCredentials=new JA(new V1(h,f))}}class ya{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ya(this.firestore,t,this._query)}}class Un{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Un(this.firestore,t,this._key)}}class fa extends ya{constructor(t,e,s){super(t,e,Dm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Un(this.firestore,null,new vt(t))}withConverter(t){return new fa(this.firestore,t,this._path)}}function so(n,t,...e){if(n=po(n),CT("collection","path",t),n instanceof Wh){const s=he.fromString(t,...e);return P0(s),new fa(n,null,s)}{if(!(n instanceof Un||n instanceof fa))throw new ft(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(he.fromString(t,...e));return P0(s),new fa(n.firestore,null,s)}}function TC(n,t,...e){if(n=po(n),arguments.length===1&&(t=k1.newId()),CT("doc","path",t),n instanceof Wh){const s=he.fromString(t,...e);return j0(s),new Un(n,null,new vt(s))}{if(!(n instanceof Un||n instanceof fa))throw new ft(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(he.fromString(t,...e));return j0(s),new Un(n.firestore,n instanceof fa?n.converter:null,new vt(s))}}class U0{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gT(this,"async_queue_retry"),this.Vu=()=>{const s=Eg();s&&gt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const e=Eg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=Eg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const e=new uo;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!xc(t))throw t;gt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const e=this.mu.then((()=>(this.du=!0,t().catch((s=>{this.Eu=s,this.du=!1;const r=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(s);throw ms("INTERNAL UNHANDLED ERROR: ",r),s})).then((s=>(this.du=!1,s))))));return this.mu=e,e}enqueueAfterDelay(t,e,s){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=Um.createAndSchedule(this,t,e,s,(o=>this.yu(o)));return this.Tu.push(r),r}fu(){this.Eu&&wt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function H0(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of s)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class rm extends Wh{constructor(t,e,s,r){super(t,e,s,r),this.type="firestore",this._queue=new U0,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new U0(t),this._firestoreClient=void 0,await t}}}function xC(n,t){const e=typeof n=="object"?n:HA(),s=typeof n=="string"?n:"(default)",r=jA(e,"firestore").getImmediate({identifier:s});if(!r._initialized){const o=NS("firestore");o&&bC(r,...o)}return r}function EC(n){if(n._terminated)throw new ft(lt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SC(n),n._firestoreClient}function SC(n){var t,e,s;const r=n._freezeSettings(),o=(function(h,f,g,_){return new m2(h,f,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,wT(_.experimentalLongPollingOptions),_.useFetchStreams)})(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new mC(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(h){const f=h?._online.build();return{_offline:h?._offline.build(f),_online:f}})(n._componentsProvider))}class Eo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Eo(nn.fromBase64String(t))}catch(e){throw new ft(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Eo(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class RT{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ft(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class DT{constructor(t){this._methodName=t}}class qm{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ft(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ft(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}class Gm{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,r){if(s.length!==r.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==r[o])return!1;return!0})(this._values,t._values)}}const AC=/^__.*__$/;function MT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Ym{constructor(t,e,s,r,o,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=r,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Ym(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Fu({path:s,xu:!1});return r.Ou(t),r}Nu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Fu({path:s,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return om(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(MT(this.Cu)&&AC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class wC{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||$h(t)}Qu(t,e,s,r=!1){return new Ym({Cu:t,methodName:e,qu:s,path:hn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CC(n){const t=n._freezeSettings(),e=$h(n._databaseId);return new wC(n._databaseId,!!t.ignoreUndefinedProperties,e)}function RC(n,t,e,s=!1){return Qm(e,n.Qu(s?4:3,t))}function Qm(n,t){if(NT(n=po(n)))return MC("Unsupported field value:",t,n),DC(n,t);if(n instanceof DT)return(function(s,r){if(!MT(r.Cu))throw r.Bu(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(s,r){const o=[];let c=0;for(const h of s){let f=Qm(h,r.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(s,r){if((s=po(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return L2(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=Fe.fromDate(s);return{timestampValue:tm(r.serializer,o)}}if(s instanceof Fe){const o=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tm(r.serializer,o)}}if(s instanceof qm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Eo)return{bytesValue:sT(r.serializer,s._byteString)};if(s instanceof Un){const o=r.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw r.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:aT(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Gm)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return Mm(h.serializer,f)}))}}}}}})(s,r);throw r.Bu(`Unsupported field value: ${Xh(s)}`)})(n,t)}function DC(n,t){const e={};return z1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ec(n,((s,r)=>{const o=Qm(r,t.Mu(s));o!=null&&(e[s]=o)})),{mapValue:{fields:e}}}function NT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fe||n instanceof qm||n instanceof Eo||n instanceof Un||n instanceof DT||n instanceof Gm)}function MC(n,t,e){if(!NT(e)||!(function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)})(e)){const s=Xh(e);throw s==="an object"?t.Bu(n+" a custom object"):t.Bu(n+" "+s)}}const NC=new RegExp("[~\\*/\\[\\]]");function OC(n,t,e){if(t.search(NC)>=0)throw om(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new RT(...t.split("."))._internalPath}catch{throw om(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function om(n,t,e,s,r){const o=s&&!s.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${s}`),c&&(f+=` in document ${r}`),f+=")"),new ft(lt.INVALID_ARGUMENT,h+n+f)}class OT{constructor(t,e,s,r,o){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($m("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class IC extends OT{data(){return super.data()}}function $m(n,t){return typeof t=="string"?OC(n,t):t instanceof RT?t._internalPath:t._delegate._internalPath}function VC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ft(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Km{}class Xm extends Km{}function F0(n,t,...e){let s=[];t instanceof Km&&s.push(t),s=s.concat(e),(function(o){const c=o.filter((f=>f instanceof Zm)).length,h=o.filter((f=>f instanceof Wm)).length;if(c>1||c>0&&h>0)throw new ft(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)n=r._apply(n);return n}class Wm extends Xm{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Wm(t,e,s)}_apply(t){const e=this._parse(t);return IT(t._query,e),new ya(t.firestore,t.converter,Xg(t._query,e))}_parse(t){const e=CC(t.firestore);return(function(o,c,h,f,g,_,v){let x;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ft(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Q0(v,_);const S=[];for(const w of v)S.push(Y0(f,o,w));x={arrayValue:{values:S}}}else x=Y0(f,o,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Q0(v,_),x=RC(h,c,v,_==="in"||_==="not-in");return Oe.create(g,_,x)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Zm extends Km{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Zm(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:di.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)IT(c,f),c=Xg(c,f)})(t._query,e),new ya(t.firestore,t.converter,Xg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jm extends Xm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Jm(t,e)}_apply(t){const e=(function(r,o,c){if(r.startAt!==null)throw new ft(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ft(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(o,c)})(t._query,this._field,this._direction);return new ya(t.firestore,t.converter,(function(r,o){const c=r.explicitOrderBy.concat([o]);return new Mo(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function q0(n,t="asc"){const e=t,s=$m("orderBy",n);return Jm._create(s,e)}class tp extends Xm{constructor(t,e,s){super(),this.type=t,this._limit=e,this._limitType=s}static _create(t,e,s){return new tp(t,e,s)}_apply(t){return new ya(t.firestore,t.converter,Oh(t._query,this._limit,this._limitType))}}function G0(n){return vC("limit",n),tp._create("limit",n,"F")}function Y0(n,t,e){if(typeof(e=po(e))=="string"){if(e==="")throw new ft(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q1(t)&&e.indexOf("/")!==-1)throw new ft(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(he.fromString(e));if(!vt.isDocumentKey(s))throw new ft(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return l0(n,new vt(s))}if(e instanceof Un)return l0(n,e._key);throw new ft(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(e)}.`)}function Q0(n,t){if(!Array.isArray(n)||n.length===0)throw new ft(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IT(n,t){const e=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ft(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class kC{convertValue(t,e="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Ec(t,((r,o)=>{s[r]=this.convertValue(o,e)})),s}convertVectorValue(t){var e,s,r;const o=(r=(s=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map((c=>Ee(c.doubleValue)));return new Gm(o)}convertGeoPoint(t){return new qm(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Am(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(fc(t));default:return null}}convertTimestamp(t){const e=ma(t);return new Fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=he.fromString(t);ve(hT(s));const r=new dc(s.get(1),s.get(3)),o=new vt(s.popFirst(5));return r.isEqual(e)||ms(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class Xl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class VT extends OT{constructor(t,e,s,r,o,c){super(t,e,s,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field($m("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class Sh extends VT{data(t={}){return super.data(t)}}class zC{constructor(t,e,s,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Xl(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Sh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ft(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new Sh(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Xl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Sh(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Xl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:LC(h.type),doc:f,oldIndex:g,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function LC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}class kT extends kC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Eo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Un(this.firestore,null,e)}}function Xa(n,...t){var e,s,r;n=po(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||H0(t[c])||(o=t[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(H0(t[c])){const v=t[c];t[c]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[c+1]=(s=v.error)===null||s===void 0?void 0:s.bind(v),t[c+2]=(r=v.complete)===null||r===void 0?void 0:r.bind(v)}let f,g,_;if(n instanceof Un)g=Eh(n.firestore,rm),_=Dm(n._key.path),f={next:v=>{t[c]&&t[c](jC(g,n,v))},error:t[c+1],complete:t[c+2]};else{const v=Eh(n,ya);g=Eh(v.firestore,rm),_=v._query;const x=new kT(g);f={next:S=>{t[c]&&t[c](new zC(g,x,v,S))},error:t[c+1],complete:t[c+2]},VC(n._query)}return(function(x,S,w,A){const N=new gC(A),U=new tC(S,N,w);return x.asyncQueue.enqueueAndForget((async()=>Xw(await z0(x),U))),()=>{N.Za(),x.asyncQueue.enqueueAndForget((async()=>Ww(await z0(x),U)))}})(EC(g),_,h,f)}function jC(n,t,e){const s=e.docs.get(t._key),r=new kT(n);return new VT(n,r,t._key,s,new Xl(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Do=r})(UA),Dh(new cc("firestore",((s,{instanceIdentifier:r,options:o})=>{const c=s.getProvider("app").getImmediate(),h=new rm(new t2(s.getProvider("auth-internal")),new s2(s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(g.options.projectId,_)})(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),co(i0,"4.7.3",t),co(i0,"4.7.3","esm2017")})();var PC="firebase",BC="10.14.1";co(PC,BC,"app");const UC={apiKey:"AIzaSyCJQ8A30DWTGpuJWDYFhR8bs2hk6lV7uCI",authDomain:"esg-reports-collection.firebaseapp.com",projectId:"esg-reports-collection",storageBucket:"esg-reports-collection.firebasestorage.app",messagingSenderId:"1814516762",appId:"1:1814516762:web:ba5299acda54ca1cfe2da3",measurementId:"G-210EF632LF"},HC=A1(UC),Ci=xC(HC);function FC(){const[n,t]=mt.useState([]),[e,s]=mt.useState([]),[r,o]=mt.useState(null),[c,h]=mt.useState(!0),[f,g]=mt.useState(null),[_,v]=mt.useState(!0);mt.useEffect(()=>{if(!(Ci&&Ci.app.options.apiKey&&Ci.app.options.apiKey!=="YOUR_API_KEY")){console.log("Firebase not configured, using static JSON data"),v(!1),x();return}console.log("Using Firestore for real-time data sync");const w=[];try{h(!0);const A=F0(so(Ci,"posts"),q0("publishedAt","desc"),G0(500)),N=Xa(A,Q=>{const et=Q.docs.map(X=>{const D=X.data();return{id:X.id,publishedAt:D.publishedAt||"",content:D.content||"",contentPreview:D.contentPreview||"",hashtags:D.hashtags||[],actionType:D.classification?.actionType||"",topic:D.classification?.topic||"",mediaType:D.classification?.mediaType||"text",permalink:D.permalink||"",metrics:{likes:D.metrics?.likes||0,comments:D.metrics?.comments||0,shares:D.metrics?.shares||0,clicks:D.metrics?.clicks||0,reach:D.metrics?.reach||0,videoViews:D.metrics?.videoViews||0,reactions:D.metrics?.reactions||{}},computed:{engagementRate:D.computed?.engagementRate||0,totalEngagement:D.computed?.totalEngagement||0,shareRate:D.computed?.shareRate||0,performanceTier:D.computed?.performanceTier||"average",percentileRank:D.computed?.percentileRank||0}}});t(et),console.log(` Real-time update: ${et.length} posts`)},Q=>{console.error("Error listening to posts:",Q),g(`Posts sync error: ${Q.message}`)});w.push(N);const U=F0(so(Ci,"dailyMetrics"),q0("date","desc"),G0(90)),k=Xa(U,Q=>{const et=Q.docs.map(X=>X.data());s(et),console.log(` Real-time update: ${et.length} daily metrics`)},Q=>{console.error("Error listening to daily metrics:",Q)});w.push(k),(async()=>{const Q={lastUpdated:new Date().toISOString(),totalPosts:n.length,byActionType:[],byTopic:[],byHour:[],byDayOfWeek:[],heatmap:[]},et=Xa(so(Ci,"aggregates/byActionType/data"),V=>{Q.byActionType=V.docs.map(I=>({name:I.data().name,count:I.data().count,avgER:I.data().avgER,avgReach:I.data().avgReach})),o({...Q})});w.push(et);const X=Xa(so(Ci,"aggregates/byTopic/data"),V=>{Q.byTopic=V.docs.map(I=>({name:I.data().name,count:I.data().count,avgER:I.data().avgER,avgReach:I.data().avgReach})),o({...Q})});w.push(X);const D=Xa(so(Ci,"aggregates/hourlyPerformance/data"),V=>{Q.byHour=V.docs.map(I=>({hour:I.data().hour,label:I.data().label,count:I.data().count,avgER:I.data().avgER})),o({...Q})});w.push(D);const R=Xa(so(Ci,"aggregates/heatmap/data"),V=>{Q.heatmap=V.docs.map(I=>({weekday:I.data().weekday,weekdayName:I.data().weekdayName,hour:I.data().hour,count:I.data().count,avgER:I.data().avgER})),o({...Q})});w.push(R);const O=Xa(TC(Ci,"metadata","lastSync"),V=>{if(V.exists()){const I=V.data();Q.lastUpdated=I.timestamp?.toDate?.()?.toISOString()||new Date().toISOString(),Q.totalPosts=I.postsCount||n.length,o({...Q})}});w.push(O)})(),h(!1)}catch(A){console.error("Firestore initialization error:",A),g(A.message),v(!1),x()}return()=>{console.log("Cleaning up Firestore listeners"),w.forEach(A=>A())}},[]);async function x(){try{h(!0);const S="/gcaa-fb-dashboard/",[w,A,N]=await Promise.all([fetch(`${S}data/posts.json`),fetch(`${S}data/daily.json`),fetch(`${S}data/stats.json`)]);if(!w.ok||!A.ok||!N.ok)throw new Error("Failed to fetch static data");const[U,k,K]=await Promise.all([w.json(),A.json(),N.json()]);t(U),s(k),o(K),g(null),console.log(" Loaded static JSON data (fallback mode)")}catch(S){console.error("Error fetching static data:",S),g(S.message)}finally{h(!1)}}return{posts:n,daily:e,stats:r,loading:c,error:f}}function zT(n,t){const[e,s]=mt.useState([]);return mt.useEffect(()=>{if(!n.length){s([]);return}let r=[...n];if(t.dateRange){const{start:o,end:c}=t.dateRange;o&&(r=r.filter(h=>h.publishedAt>=o)),c&&(r=r.filter(h=>h.publishedAt<=c))}if(t.timeRange&&t.timeRange!=="all"&&t.timeRange!=="custom"){const o=parseInt(t.timeRange);if(!isNaN(o)){const c=new Date;c.setDate(c.getDate()-o*7);const h=c.toISOString();r=r.filter(f=>f.publishedAt>=h)}}if(t.actionType&&t.actionType!=="all"&&(r=r.filter(o=>o.actionType===t.actionType)),t.topic&&t.topic!=="all"&&(r=r.filter(o=>o.topic===t.topic)),t.search){const o=t.search.toLowerCase();r=r.filter(c=>c.content.toLowerCase().includes(o)||c.hashtags.some(h=>h.toLowerCase().includes(o)))}t.sortBy&&r.sort((o,c)=>{let h,f;switch(t.sortBy){case"date":h=o.publishedAt,f=c.publishedAt;break;case"engagement":h=o.computed.engagementRate,f=c.computed.engagementRate;break;case"reach":h=o.metrics.reach,f=c.metrics.reach;break;case"shares":h=o.metrics.shares,f=c.metrics.shares;break;default:return 0}return t.sortOrder==="asc"?h>f?1:-1:h<f?1:-1}),s(r)},[n,t]),e}const qC="_header_11wv4_1",GC="_container_11wv4_10",YC="_brand_11wv4_21",QC="_logo_11wv4_27",$C="_logoText_11wv4_44",KC="_divider_11wv4_69",XC="_title_11wv4_75",WC="_nav_11wv4_83",ZC="_navItem_11wv4_89",JC="_active_11wv4_107",tR="_navLabel_11wv4_121",eR="_navIndicator_11wv4_125",nR="_actions_11wv4_142",iR="_fbLink_11wv4_148",sR="_fbIcon_11wv4_168",bn={header:qC,container:GC,brand:YC,logo:QC,logoText:$C,divider:KC,title:XC,nav:WC,navItem:ZC,active:JC,navLabel:tR,navIndicator:eR,actions:nR,fbLink:iR,fbIcon:sR};function aR({activeTab:n,onTabChange:t,onLogoClick:e}){const s=[{id:"dashboard",label:""},{id:"explorer",label:""},{id:"analytics",label:""},{id:"content",label:""},{id:"ads",label:""}];return E.jsx("header",{className:bn.header,children:E.jsxs("div",{className:bn.container,children:[E.jsxs("div",{className:bn.brand,children:[E.jsx("button",{className:bn.logo,onClick:()=>e?.(),title:"",children:E.jsx("span",{className:bn.logoText,children:"GCAA"})}),E.jsx("div",{className:bn.divider}),E.jsx("h1",{className:bn.title,children:""})]}),E.jsx("nav",{className:bn.nav,children:s.map(r=>E.jsxs("button",{className:`${bn.navItem} ${n===r.id?bn.active:""}`,onClick:()=>t(r.id),children:[E.jsx("span",{className:bn.navLabel,children:r.label}),n===r.id&&E.jsx("span",{className:bn.navIndicator})]},r.id))}),E.jsx("div",{className:bn.actions,children:E.jsxs("a",{href:"https://www.facebook.com/gcaa.org.tw",target:"_blank",rel:"noopener noreferrer",className:bn.fbLink,children:[E.jsx("svg",{viewBox:"0 0 24 24",className:bn.fbIcon,children:E.jsx("path",{fill:"currentColor",d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),E.jsx("span",{children:""})]})})]})})}const rR="_container_cvlw1_6",oR="_mainRow_cvlw1_17",lR="_timeRangeGroup_cvlw1_25",cR="_label_cvlw1_31",uR="_pills_cvlw1_40",hR="_pill_cvlw1_40",fR="_active_cvlw1_62",dR="_datePickerGroup_cvlw1_68",gR="_dateField_cvlw1_75",mR="_dateLabel_cvlw1_81",pR="_dateInput_cvlw1_88",_R="_dateSeparator_cvlw1_114",yR="_actions_cvlw1_119",vR="_searchWrapper_cvlw1_125",bR="_searchIcon_cvlw1_131",TR="_searchInput_cvlw1_141",xR="_clearBtn_cvlw1_163",ER="_filterToggle_cvlw1_183",SR="_filterIcon_cvlw1_208",AR="_expandedFilters_cvlw1_212",wR="_filterGroup_cvlw1_222",CR="_filterLabel_cvlw1_229",RR="_select_cvlw1_237",DR="_clearFilters_cvlw1_262",Kt={container:rR,mainRow:oR,timeRangeGroup:lR,label:cR,pills:uR,pill:hR,active:fR,datePickerGroup:dR,dateField:gR,dateLabel:mR,dateInput:pR,dateSeparator:_R,actions:yR,searchWrapper:vR,searchIcon:bR,searchInput:TR,clearBtn:xR,filterToggle:ER,filterIcon:SR,expandedFilters:AR,filterGroup:wR,filterLabel:CR,select:RR,clearFilters:DR},MR=[{value:"1",label:"1 "},{value:"2",label:"2 "},{value:"4",label:"1 "},{value:"12",label:"3 "},{value:"26",label:"6 "},{value:"52",label:"1 "},{value:"all",label:""},{value:"custom",label:""}];function ep({timeRange:n,onTimeRangeChange:t,dateRange:e,onDateRangeChange:s,actionTypes:r=[],topics:o=[],selectedActionType:c,onActionTypeChange:h,selectedTopic:f,onTopicChange:g,search:_,onSearchChange:v,showSearch:x=!1,showFilters:S=!1}){const[w,A]=mt.useState(!1),[N,U]=mt.useState(n==="custom");return E.jsxs("div",{className:Kt.container,children:[E.jsxs("div",{className:Kt.mainRow,children:[E.jsxs("div",{className:Kt.timeRangeGroup,children:[E.jsx("span",{className:Kt.label,children:""}),E.jsx("div",{className:Kt.pills,children:MR.map(k=>E.jsx("button",{className:`${Kt.pill} ${n===k.value||k.value==="custom"&&N?Kt.active:""}`,onClick:()=>{k.value==="custom"?(U(!0),t("custom")):(U(!1),t(k.value))},children:k.label},k.value))})]}),N&&E.jsxs("div",{className:Kt.datePickerGroup,children:[E.jsxs("label",{className:Kt.dateField,children:[E.jsx("span",{className:Kt.dateLabel,children:""}),E.jsx("input",{type:"date",value:e?.start||"",onChange:k=>s?.({start:k.target.value,end:e?.end||""}),className:Kt.dateInput})]}),E.jsx("span",{className:Kt.dateSeparator,children:"~"}),E.jsxs("label",{className:Kt.dateField,children:[E.jsx("span",{className:Kt.dateLabel,children:""}),E.jsx("input",{type:"date",value:e?.end||"",onChange:k=>s?.({start:e?.start||"",end:k.target.value}),className:Kt.dateInput})]})]}),(x||S)&&E.jsxs("div",{className:Kt.actions,children:[x&&E.jsxs("div",{className:Kt.searchWrapper,children:[E.jsx("svg",{className:Kt.searchIcon,viewBox:"0 0 24 24",width:"16",height:"16",children:E.jsx("path",{fill:"currentColor",d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),E.jsx("input",{type:"text",placeholder:"...",value:_||"",onChange:k=>v(k.target.value),className:Kt.searchInput}),_&&E.jsx("button",{className:Kt.clearBtn,onClick:()=>v(""),children:""})]}),S&&E.jsxs("button",{className:`${Kt.filterToggle} ${w?Kt.active:""}`,onClick:()=>A(!w),children:[E.jsx("span",{children:""}),E.jsx("span",{className:Kt.filterIcon,children:w?"":""})]})]})]}),S&&w&&E.jsxs("div",{className:Kt.expandedFilters,children:[E.jsxs("label",{className:Kt.filterGroup,children:[E.jsx("span",{className:Kt.filterLabel,children:""}),E.jsxs("select",{value:c||"all",onChange:k=>h(k.target.value),className:Kt.select,children:[E.jsx("option",{value:"all",children:""}),r.map(k=>E.jsxs("option",{value:k.name,children:[k.name," (",k.count,")"]},k.name))]})]}),E.jsxs("label",{className:Kt.filterGroup,children:[E.jsx("span",{className:Kt.filterLabel,children:""}),E.jsxs("select",{value:f||"all",onChange:k=>g(k.target.value),className:Kt.select,children:[E.jsx("option",{value:"all",children:""}),o.map(k=>E.jsxs("option",{value:k.name,children:[k.name," (",k.count,")"]},k.name))]})]}),(c!=="all"||f!=="all")&&E.jsx("button",{className:Kt.clearFilters,onClick:()=>{h("all"),g("all")},children:""})]})]})}function Pn(n){return n==null?"-":n>=1e6?(n/1e6).toFixed(1)+"M":n>=1e3?(n/1e3).toFixed(1)+"K":n.toLocaleString("zh-TW")}function Io(n,t=2){return n==null?"-":n.toFixed(t)+"%"}function sc(n,t="short"){if(!n)return"-";const e=new Date(n);if(t==="short")return e.toLocaleDateString("zh-TW",{month:"numeric",day:"numeric"});if(t==="shortWithTime"){const s=e.toLocaleDateString("zh-TW",{month:"numeric",day:"numeric"}),r=e.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${s} ${r}`}return t==="medium"?e.toLocaleDateString("zh-TW",{month:"short",day:"numeric"}):t==="long"?e.toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"}):t==="full"?e.toLocaleDateString("zh-TW",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}):n}const lm={:"#ef4444",:"#8b5cf6",:"#ec4899",:"#f59e0b",:"#06b6d4",:"#22c55e",:"#3b82f6",:"#84cc16","/Podcast":"#f97316"," ()":"#64748b",:"#64748b"},cm={:"#ef4444",:"#3b82f6",:"#22c55e",:"#f59e0b",:"#8b5cf6",:"#06b6d4"," ()":"#64748b",:"#64748b"};function NR(n,t,e=null){if(!n||!n.length)return[];let s=[...n];if(t==="custom"&&e)e.start&&(s=s.filter(r=>r.date>=e.start)),e.end&&(s=s.filter(r=>r.date<=e.end));else if(t!=="all"){const r=parseInt(t);if(!isNaN(r)){const o=new Date;o.setDate(o.getDate()-r*7);const c=o.toISOString().slice(0,10);s=s.filter(h=>h.date>=c)}}return s.filter(r=>r.date!=null).sort((r,o)=>(r.date||"").localeCompare(o.date||""))}const OR="_grid_7c9lu_1",IR="_card_7c9lu_24",VR="_kpiFadeIn_7c9lu_1",kR="_primary_7c9lu_44",zR="_secondary_7c9lu_45",LR="_tertiary_7c9lu_46",jR="_warning_7c9lu_47",PR="_cardHeader_7c9lu_49",BR="_icon_7c9lu_56",UR="_label_7c9lu_65",HR="_value_7c9lu_72",FR="_glow_7c9lu_85",qR="_selected_7c9lu_118",GR="_selectedBadge_7c9lu_146",cs={grid:OR,card:IR,kpiFadeIn:VR,primary:kR,secondary:zR,tertiary:LR,warning:jR,cardHeader:PR,icon:BR,label:UR,value:HR,glow:FR,selected:qR,selectedBadge:GR};function YR({value:n,format:t="number",duration:e=1e3}){const[s,r]=mt.useState(0),o=mt.useRef(null),c=mt.useRef(null);return mt.useEffect(()=>{if(n==null)return;const h=typeof n=="number"?n:parseFloat(n)||0,f=g=>{o.current||(o.current=g);const _=Math.min((g-o.current)/e,1),v=_===1?1:1-Math.pow(2,-10*_);r(h*v),_<1&&(c.current=requestAnimationFrame(f))};return o.current=null,c.current=requestAnimationFrame(f),()=>{c.current&&cancelAnimationFrame(c.current)}},[n,e]),t==="percent"?E.jsx("span",{children:Io(s,2)}):E.jsx("span",{children:Pn(Math.round(s))})}const $0={:"postCount",:"avgEngagementRate",:"totalReach",:"totalShares"},QR=2;function $R({stats:n,daily:t,timeRange:e,dateRange:s,selectedMetrics:r=[],onMetricChange:o}){const c=t?.filter(w=>{if(e==="custom"&&s)return!(s.start&&w.date<s.start||s.end&&w.date>s.end);if(e==="all")return!0;const A=parseInt(e);if(isNaN(A))return!0;const N=new Date;return N.setDate(N.getDate()-A*7),new Date(w.date)>=N})||[],h=c.reduce((w,A)=>w+A.postCount,0),f=c.reduce((w,A)=>w+A.totalReach,0),g=c.reduce((w,A)=>w+A.totalShares,0),_=c.length>0?c.reduce((w,A)=>w+A.avgEngagementRate,0)/c.length:0,v=[{label:"",value:h,format:"number",color:"primary"},{label:"",value:_,format:"percent",color:"secondary"},{label:"",value:f,format:"number",color:"tertiary"},{label:"",value:g,format:"number",color:"warning"}],x=w=>{const A=$0[w];if(!A||!o)return;const N=Array.isArray(r)?r:[],U=N.includes(A);let k;if(U)if(N.length>1)k=N.filter(K=>K!==A);else return;else N.length>=QR?k=[N[0],A]:k=[...N,A];o(k)},S=w=>{const A=r.indexOf(w);return A>=0?A+1:0};return E.jsx("div",{className:cs.grid,children:v.map((w,A)=>{const N=$0[w.label],U=S(N),k=U>0;return E.jsxs("button",{className:`${cs.card} ${cs[w.color]} ${k?cs.selected:""}`,style:{animationDelay:`${A*.1}s`},onClick:()=>x(w.label),title:k?" (2)":" (2)",children:[E.jsxs("div",{className:cs.cardHeader,children:[E.jsx("span",{className:cs.label,children:w.label}),k&&E.jsx("span",{className:cs.selectedBadge,children:r.length>1?`#${U}`:""})]}),E.jsx("div",{className:cs.value,children:E.jsx(YR,{value:w.value,format:w.format})}),E.jsx("div",{className:cs.glow})]},w.label)})})}function Cc(n){return n+.5|0}const ra=(n,t,e)=>Math.max(Math.min(n,e),t);function Wl(n){return ra(Cc(n*2.55),0,255)}function da(n){return ra(Cc(n*255),0,255)}function ds(n){return ra(Cc(n/2.55)/100,0,1)}function K0(n){return ra(Cc(n*100),0,100)}const ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},um=[..."0123456789ABCDEF"],KR=n=>um[n&15],XR=n=>um[(n&240)>>4]+um[n&15],rh=n=>(n&240)>>4===(n&15),WR=n=>rh(n.r)&&rh(n.g)&&rh(n.b)&&rh(n.a);function ZR(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ti[n[1]]*17,g:255&ti[n[2]]*17,b:255&ti[n[3]]*17,a:t===5?ti[n[4]]*17:255}:(t===7||t===9)&&(e={r:ti[n[1]]<<4|ti[n[2]],g:ti[n[3]]<<4|ti[n[4]],b:ti[n[5]]<<4|ti[n[6]],a:t===9?ti[n[7]]<<4|ti[n[8]]:255})),e}const JR=(n,t)=>n<255?t(n):"";function tD(n){var t=WR(n)?KR:XR;return n?"#"+t(n.r)+t(n.g)+t(n.b)+JR(n.a,t):void 0}const eD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function LT(n,t,e){const s=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-s*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function nD(n,t,e){const s=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function iD(n,t,e){const s=LT(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)s[r]*=1-t-e,s[r]+=t;return s}function sD(n,t,e,s,r){return n===r?(t-e)/s+(t<e?6:0):t===r?(e-n)/s+2:(n-t)/s+4}function np(n){const e=n.r/255,s=n.g/255,r=n.b/255,o=Math.max(e,s,r),c=Math.min(e,s,r),h=(o+c)/2;let f,g,_;return o!==c&&(_=o-c,g=h>.5?_/(2-o-c):_/(o+c),f=sD(e,s,r,_,o),f=f*60+.5),[f|0,g||0,h]}function ip(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(da)}function sp(n,t,e){return ip(LT,n,t,e)}function aD(n,t,e){return ip(iD,n,t,e)}function rD(n,t,e){return ip(nD,n,t,e)}function jT(n){return(n%360+360)%360}function oD(n){const t=eD.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Wl(+t[5]):da(+t[5]));const r=jT(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?s=aD(r,o,c):t[1]==="hsv"?s=rD(r,o,c):s=sp(r,o,c),{r:s[0],g:s[1],b:s[2],a:e}}function lD(n,t){var e=np(n);e[0]=jT(e[0]+t),e=sp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function cD(n){if(!n)return;const t=np(n),e=t[0],s=K0(t[1]),r=K0(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${r}%, ${ds(n.a)})`:`hsl(${e}, ${s}%, ${r}%)`}const X0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},W0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uD(){const n={},t=Object.keys(W0),e=Object.keys(X0);let s,r,o,c,h;for(s=0;s<t.length;s++){for(c=h=t[s],r=0;r<e.length;r++)o=e[r],h=h.replace(o,X0[o]);o=parseInt(W0[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let oh;function hD(n){oh||(oh=uD(),oh.transparent=[0,0,0,0]);const t=oh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const fD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dD(n){const t=fD.exec(n);let e=255,s,r,o;if(t){if(t[7]!==s){const c=+t[7];e=t[8]?Wl(c):ra(c*255,0,255)}return s=+t[1],r=+t[3],o=+t[5],s=255&(t[2]?Wl(s):ra(s,0,255)),r=255&(t[4]?Wl(r):ra(r,0,255)),o=255&(t[6]?Wl(o):ra(o,0,255)),{r:s,g:r,b:o,a:e}}}function gD(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ds(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ag=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ao=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function mD(n,t,e){const s=ao(ds(n.r)),r=ao(ds(n.g)),o=ao(ds(n.b));return{r:da(Ag(s+e*(ao(ds(t.r))-s))),g:da(Ag(r+e*(ao(ds(t.g))-r))),b:da(Ag(o+e*(ao(ds(t.b))-o))),a:n.a+e*(t.a-n.a)}}function lh(n,t,e){if(n){let s=np(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=sp(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function PT(n,t){return n&&Object.assign(t||{},n)}function Z0(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=da(n[3]))):(t=PT(n,{r:0,g:0,b:0,a:1}),t.a=da(t.a)),t}function pD(n){return n.charAt(0)==="r"?dD(n):oD(n)}class pc{constructor(t){if(t instanceof pc)return t;const e=typeof t;let s;e==="object"?s=Z0(t):e==="string"&&(s=ZR(t)||hD(t)||pD(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=PT(this._rgb);return t&&(t.a=ds(t.a)),t}set rgb(t){this._rgb=Z0(t)}rgbString(){return this._valid?gD(this._rgb):void 0}hexString(){return this._valid?tD(this._rgb):void 0}hslString(){return this._valid?cD(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=s.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,s.r=255&g*s.r+o*r.r+.5,s.g=255&g*s.g+o*r.g+.5,s.b=255&g*s.b+o*r.b+.5,s.a=c*s.a+(1-c)*r.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=mD(this._rgb,t._rgb,e)),this}clone(){return new pc(this.rgb)}alpha(t){return this._rgb.a=da(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Cc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return lh(this._rgb,2,t),this}darken(t){return lh(this._rgb,2,-t),this}saturate(t){return lh(this._rgb,1,t),this}desaturate(t){return lh(this._rgb,1,-t),this}rotate(t){return lD(this._rgb,t),this}}function us(){}const _D=(()=>{let n=0;return()=>n++})();function Wt(n){return n==null}function Ie(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function dn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ri(n,t){return dn(n)?n:t}function Mt(n,t){return typeof n>"u"?t:n}const yD=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ue(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ne(n,t,e,s){let r,o,c;if(Ie(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Bt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function zh(n,t){let e,s,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Lh(n){if(Ie(n))return n.map(Lh);if(Bt(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let r=0;for(;r<s;++r)t[e[r]]=Lh(n[e[r]]);return t}return n}function BT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function vD(n,t,e,s){if(!BT(n))return;const r=t[n],o=e[n];Bt(r)&&Bt(o)?_c(r,o,s):t[n]=Lh(o)}function _c(n,t,e){const s=Ie(t)?t:[t],r=s.length;if(!Bt(n))return n;e=e||{};const o=e.merger||vD;let c;for(let h=0;h<r;++h){if(c=s[h],!Bt(c))continue;const f=Object.keys(c);for(let g=0,_=f.length;g<_;++g)o(f[g],n,c,e)}return n}function ac(n,t){return _c(n,t,{merger:bD})}function bD(n,t,e){if(!BT(n))return;const s=t[n],r=e[n];Bt(s)&&Bt(r)?ac(s,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Lh(r))}const J0={"":n=>n,x:n=>n.x,y:n=>n.y};function TD(n){const t=n.split("."),e=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function xD(n){const t=TD(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function So(n,t){return(J0[t]||(J0[t]=xD(t)))(n)}function ap(n){return n.charAt(0).toUpperCase()+n.slice(1)}const yc=n=>typeof n<"u",_a=n=>typeof n=="function",tb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function ED(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const qe=Math.PI,fi=2*qe,SD=fi+qe,jh=Number.POSITIVE_INFINITY,AD=qe/180,hi=qe/2,Wa=qe/4,eb=qe*2/3,UT=Math.log10,Vi=Math.sign;function rc(n,t,e){return Math.abs(n-t)<e}function nb(n){const t=Math.round(n);n=rc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(UT(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function wD(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function CD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Ao(n){return!CD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function RD(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function DD(n,t,e){let s,r,o;for(s=0,r=n.length;s<r;s++)o=n[s][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ar(n){return n*(qe/180)}function MD(n){return n*(180/qe)}function ib(n){if(!dn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function ND(n,t){const e=t.x-n.x,s=t.y-n.y,r=Math.sqrt(e*e+s*s);let o=Math.atan2(s,e);return o<-.5*qe&&(o+=fi),{angle:o,distance:r}}function hm(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function OD(n,t){return(n-t+SD)%fi-qe}function Ni(n){return(n%fi+fi)%fi}function HT(n,t,e,s){const r=Ni(n),o=Ni(t),c=Ni(e),h=Ni(o-r),f=Ni(c-r),g=Ni(r-o),_=Ni(r-c);return r===o||r===c||s&&o===c||h>f&&g<_}function Bn(n,t,e){return Math.max(t,Math.min(e,n))}function ID(n){return Bn(n,-32768,32767)}function oa(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function rp(n,t,e){e=e||(c=>n[c]<t);let s=n.length-1,r=0,o;for(;s-r>1;)o=r+s>>1,e(o)?r=o:s=o;return{lo:r,hi:s}}const rr=(n,t,e,s)=>rp(n,e,s?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),VD=(n,t,e)=>rp(n,e,s=>n[s][t]>=e);function kD(n,t,e){let s=0,r=n.length;for(;s<r&&n[s]<t;)s++;for(;r>s&&n[r-1]>e;)r--;return s>0||r<n.length?n.slice(s,r):n}const FT=["push","pop","shift","splice","unshift"];function zD(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),FT.forEach(e=>{const s="_onData"+ap(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...o)}),c}})})}function sb(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(FT.forEach(o=>{delete n[o]}),delete n._chartjs)}function qT(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const GT=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function YT(n,t){let e=[],s=!1;return function(...r){e=r,s||(s=!0,GT.call(window,()=>{s=!1,n.apply(t,e)}))}}function LD(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const op=n=>n==="start"?"left":n==="end"?"right":"center",ln=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,jD=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function QT(n,t,e){const s=t.length;let r=0,o=s;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,_=c.axis,{min:v,max:x,minDefined:S,maxDefined:w}=c.getUserBounds();if(S){if(r=Math.min(rr(f,_,v).lo,e?s:rr(t,_,c.getPixelForValue(v)).lo),g){const A=f.slice(0,r+1).reverse().findIndex(N=>!Wt(N[h.axis]));r-=Math.max(0,A)}r=Bn(r,0,s-1)}if(w){let A=Math.max(rr(f,c.axis,x,!0).hi+1,e?0:rr(t,_,c.getPixelForValue(x),!0).hi+1);if(g){const N=f.slice(A-1).findIndex(U=>!Wt(U[h.axis]));A+=Math.max(0,N)}o=Bn(A,r,s)-r}else o=s-r}return{start:r,count:o}}function $T(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=r,!0;const o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,r),o}const ch=n=>n===0||n===1,ab=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*fi/e)),rb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*fi/e)+1,oc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*hi)+1,easeOutSine:n=>Math.sin(n*hi),easeInOutSine:n=>-.5*(Math.cos(qe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ch(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ch(n)?n:ab(n,.075,.3),easeOutElastic:n=>ch(n)?n:rb(n,.075,.3),easeInOutElastic(n){return ch(n)?n:n<.5?.5*ab(n*2,.1125,.45):.5+.5*rb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-oc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?oc.easeInBounce(n*2)*.5:oc.easeOutBounce(n*2-1)*.5+.5};function lp(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ob(n){return lp(n)?n:new pc(n)}function wg(n){return lp(n)?n:new pc(n).saturate(.5).darken(.1).hexString()}const PD=["x","y","borderWidth","radius","tension"],BD=["color","borderColor","backgroundColor"];function UD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:BD},numbers:{type:"number",properties:PD}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function HD(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const lb=new Map;function FD(n,t){t=t||{};const e=n+JSON.stringify(t);let s=lb.get(e);return s||(s=new Intl.NumberFormat(n,t),lb.set(e,s)),s}function KT(n,t,e){return FD(t,e).format(n)}const qD={values(n){return Ie(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=GD(n,e)}const c=UT(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),KT(n,s,f)}};function GD(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var XT={formatters:qD};function YD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:XT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const dr=Object.create(null),fm=Object.create(null);function lc(n,t){if(!t)return n;const e=t.split(".");for(let s=0,r=e.length;s<r;++s){const o=e[s];n=n[o]||(n[o]=Object.create(null))}return n}function Cg(n,t,e){return typeof t=="string"?_c(lc(n,t),e):_c(lc(n,""),t)}class QD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>wg(r.backgroundColor),this.hoverBorderColor=(s,r)=>wg(r.borderColor),this.hoverColor=(s,r)=>wg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Cg(this,t,e)}get(t){return lc(this,t)}describe(t,e){return Cg(fm,t,e)}override(t,e){return Cg(dr,t,e)}route(t,e,s,r){const o=lc(this,t),c=lc(this,s),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[r];return Bt(f)?Object.assign({},g,f):Mt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Se=new QD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[UD,HD,YD]);function $D(n){return!n||Wt(n.size)||Wt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function cb(n,t,e,s,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>s&&(s=o),s}function Za(n,t,e){const s=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*s)/s+r}function ub(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function dm(n,t,e,s){WT(n,t,e,s,null)}function WT(n,t,e,s,r){let o,c,h,f,g,_,v,x;const S=t.pointStyle,w=t.rotation,A=t.radius;let N=(w||0)*AD;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(N),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),S){default:r?n.ellipse(e,s,r/2,A,0,0,fi):n.arc(e,s,A,0,fi),n.closePath();break;case"triangle":_=r?r/2:A,n.moveTo(e+Math.sin(N)*_,s-Math.cos(N)*A),N+=eb,n.lineTo(e+Math.sin(N)*_,s-Math.cos(N)*A),N+=eb,n.lineTo(e+Math.sin(N)*_,s-Math.cos(N)*A),n.closePath();break;case"rectRounded":g=A*.516,f=A-g,c=Math.cos(N+Wa)*f,v=Math.cos(N+Wa)*(r?r/2-g:f),h=Math.sin(N+Wa)*f,x=Math.sin(N+Wa)*(r?r/2-g:f),n.arc(e-v,s-h,g,N-qe,N-hi),n.arc(e+x,s-c,g,N-hi,N),n.arc(e+v,s+h,g,N,N+hi),n.arc(e-x,s+c,g,N+hi,N+qe),n.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*A,_=r?r/2:f,n.rect(e-_,s-f,2*_,2*f);break}N+=Wa;case"rectRot":v=Math.cos(N)*(r?r/2:A),c=Math.cos(N)*A,h=Math.sin(N)*A,x=Math.sin(N)*(r?r/2:A),n.moveTo(e-v,s-h),n.lineTo(e+x,s-c),n.lineTo(e+v,s+h),n.lineTo(e-x,s+c),n.closePath();break;case"crossRot":N+=Wa;case"cross":v=Math.cos(N)*(r?r/2:A),c=Math.cos(N)*A,h=Math.sin(N)*A,x=Math.sin(N)*(r?r/2:A),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+x,s-c),n.lineTo(e-x,s+c);break;case"star":v=Math.cos(N)*(r?r/2:A),c=Math.cos(N)*A,h=Math.sin(N)*A,x=Math.sin(N)*(r?r/2:A),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+x,s-c),n.lineTo(e-x,s+c),N+=Wa,v=Math.cos(N)*(r?r/2:A),c=Math.cos(N)*A,h=Math.sin(N)*A,x=Math.sin(N)*(r?r/2:A),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+x,s-c),n.lineTo(e-x,s+c);break;case"line":c=r?r/2:Math.cos(N)*A,h=Math.sin(N)*A,n.moveTo(e-c,s-h),n.lineTo(e+c,s+h);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(N)*(r?r/2:A),s+Math.sin(N)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function vc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Zh(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Jh(n){n.restore()}function KD(n,t,e,s,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function XD(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function WD(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Wt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function ZD(n,t,e,s,r){if(r.strikethrough||r.underline){const o=n.measureText(s),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function JD(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function bc(n,t,e,s,r,o={}){const c=Ie(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,WD(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&JD(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Wt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,s,o.maxWidth)),n.fillText(g,e,s,o.maxWidth),ZD(n,e,s,g,o),s+=Number(r.lineHeight);n.restore()}function Ph(n,t){const{x:e,y:s,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,s+c.topLeft,c.topLeft,1.5*qe,qe,!0),n.lineTo(e,s+o-c.bottomLeft),n.arc(e+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,qe,hi,!0),n.lineTo(e+r-c.bottomRight,s+o),n.arc(e+r-c.bottomRight,s+o-c.bottomRight,c.bottomRight,hi,0,!0),n.lineTo(e+r,s+c.topRight),n.arc(e+r-c.topRight,s+c.topRight,c.topRight,0,-hi,!0),n.lineTo(e+c.topLeft,s)}const tM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nM(n,t){const e=(""+n).match(tM);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const iM=n=>+n||0;function ZT(n,t){const e={},s=Bt(t),r=s?Object.keys(t):t,o=Bt(n)?s?c=>Mt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=iM(o(c));return e}function JT(n){return ZT(n,{top:"y",right:"x",bottom:"y",left:"x"})}function go(n){return ZT(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ni(n){const t=JT(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fn(n,t){n=n||{},t=t||Se.font;let e=Mt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Mt(n.style,t.style);s&&!(""+s).match(eM)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Mt(n.family,t.family),lineHeight:nM(Mt(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:Mt(n.weight,t.weight),string:""};return r.string=$D(r),r}function uh(n,t,e,s){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function sM(n,t,e){const{min:s,max:r}=n,o=yD(t,(r-s)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(s,-Math.abs(o)),max:c(r,o)}}function gr(n,t){return Object.assign(Object.create(n),t)}function cp(n,t=[""],e,s,r=()=>n[0]){const o=e||n;typeof s>"u"&&(s=ix("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:s,_getTarget:r,override:h=>cp([h,...n],t,o,s)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return ex(h,f,()=>fM(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return fb(h).includes(f)},ownKeys(h){return fb(h)},set(h,f,g){const _=h._storage||(h._storage=r());return h[f]=_[f]=g,delete h._keys,!0}})}function wo(n,t,e,s){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:tx(n,s),setContext:o=>wo(n,o,e,s),override:o=>wo(n.override(o),t,e,s)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return ex(o,c,()=>rM(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function tx(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:s,isScriptable:_a(e)?e:()=>e,isIndexable:_a(s)?s:()=>s}}const aM=(n,t)=>n?n+ap(t):t,up=(n,t)=>Bt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ex(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function rM(n,t,e){const{_proxy:s,_context:r,_subProxy:o,_descriptors:c}=n;let h=s[t];return _a(h)&&c.isScriptable(t)&&(h=oM(t,h,n,e)),Ie(h)&&h.length&&(h=lM(t,h,n,c.isIndexable)),up(t,h)&&(h=wo(h,r,o&&o[t],c)),h}function oM(n,t,e,s){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||s);return h.delete(n),up(n,f)&&(f=hp(r._scopes,r,n,f)),f}function lM(n,t,e,s){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&s(n))return t[o.index%t.length];if(Bt(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const v=hp(g,r,n,_);t.push(wo(v,o,c&&c[n],h))}}return t}function nx(n,t,e){return _a(n)?n(t,e):n}const cM=(n,t)=>n===!0?t:typeof n=="string"?So(t,n):void 0;function uM(n,t,e,s,r){for(const o of t){const c=cM(e,o);if(c){n.add(c);const h=nx(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(c===!1&&typeof s<"u"&&e!==s)return null}return!1}function hp(n,t,e,s){const r=t._rootScopes,o=nx(t._fallback,e,s),c=[...n,...r],h=new Set;h.add(s);let f=hb(h,c,e,o||e,s);return f===null||typeof o<"u"&&o!==e&&(f=hb(h,c,o,f,s),f===null)?!1:cp(Array.from(h),[""],r,o,()=>hM(t,e,s))}function hb(n,t,e,s,r){for(;e;)e=uM(n,t,e,s,r);return e}function hM(n,t,e){const s=n._getTarget();t in s||(s[t]={});const r=s[t];return Ie(r)&&Bt(e)?e:r||{}}function fM(n,t,e,s){let r;for(const o of t)if(r=ix(aM(o,n),e),typeof r<"u")return up(n,r)?hp(e,s,n,r):r}function ix(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function fb(n){let t=n._keys;return t||(t=n._keys=dM(n._scopes)),t}function dM(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}const gM=Number.EPSILON||1e-14,Co=(n,t)=>t<n.length&&!n[t].skip&&n[t],sx=n=>n==="x"?"y":"x";function mM(n,t,e,s){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=hm(o,r),f=hm(c,o);let g=h/(h+f),_=f/(h+f);g=isNaN(g)?0:g,_=isNaN(_)?0:_;const v=s*g,x=s*_;return{previous:{x:o.x-v*(c.x-r.x),y:o.y-v*(c.y-r.y)},next:{x:o.x+x*(c.x-r.x),y:o.y+x*(c.y-r.y)}}}function pM(n,t,e){const s=n.length;let r,o,c,h,f,g=Co(n,0);for(let _=0;_<s-1;++_)if(f=g,g=Co(n,_+1),!(!f||!g)){if(rc(t[_],0,gM)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=r*c*t[_],e[_+1]=o*c*t[_])}}function _M(n,t,e="x"){const s=sx(e),r=n.length;let o,c,h,f=Co(n,0);for(let g=0;g<r;++g){if(c=h,h=f,f=Co(n,g+1),!h)continue;const _=h[e],v=h[s];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${s}`]=v-o*t[g]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${s}`]=v+o*t[g])}}function yM(n,t="x"){const e=sx(t),s=n.length,r=Array(s).fill(0),o=Array(s);let c,h,f,g=Co(n,0);for(c=0;c<s;++c)if(h=f,f=g,g=Co(n,c+1),!!f){if(g){const _=g[t]-f[t];r[c]=_!==0?(g[e]-f[e])/_:0}o[c]=h?g?Vi(r[c-1])!==Vi(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}pM(n,r,o),_M(n,o,t)}function hh(n,t,e){return Math.max(Math.min(n,e),t)}function vM(n,t){let e,s,r,o,c,h=vc(n[0],t);for(e=0,s=n.length;e<s;++e)c=o,o=h,h=e<s-1&&vc(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=hh(r.cp1x,t.left,t.right),r.cp1y=hh(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=hh(r.cp2x,t.left,t.right),r.cp2y=hh(r.cp2y,t.top,t.bottom)))}function bM(n,t,e,s,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")yM(n,r);else{let g=s?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=mM(g,h,n[Math.min(o+1,c-(s?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&vM(n,e)}function fp(){return typeof window<"u"&&typeof document<"u"}function dp(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bh(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const tf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function TM(n,t){return tf(n).getPropertyValue(t)}const xM=["top","right","bottom","left"];function cr(n,t,e){const s={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=xM[r];s[o]=parseFloat(n[t+"-"+o+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const EM=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function SM(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=s;let c=!1,h,f;if(EM(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=s.clientX-g.left,f=s.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function nr(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,r=tf(e),o=r.boxSizing==="border-box",c=cr(r,"padding"),h=cr(r,"border","width"),{x:f,y:g,box:_}=SM(n,e),v=c.left+(_&&h.left),x=c.top+(_&&h.top);let{width:S,height:w}=t;return o&&(S-=c.width+h.width,w-=c.height+h.height),{x:Math.round((f-v)/S*e.width/s),y:Math.round((g-x)/w*e.height/s)}}function AM(n,t,e){let s,r;if(t===void 0||e===void 0){const o=n&&dp(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=tf(o),f=cr(h,"border","width"),g=cr(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,s=Bh(h.maxWidth,o,"clientWidth"),r=Bh(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:s||jh,maxHeight:r||jh}}const la=n=>Math.round(n*10)/10;function wM(n,t,e,s){const r=tf(n),o=cr(r,"margin"),c=Bh(r.maxWidth,n,"clientWidth")||jh,h=Bh(r.maxHeight,n,"clientHeight")||jh,f=AM(n,t,e);let{width:g,height:_}=f;if(r.boxSizing==="content-box"){const x=cr(r,"border","width"),S=cr(r,"padding");g-=S.width+x.width,_-=S.height+x.height}return g=Math.max(0,g-o.width),_=Math.max(0,s?g/s:_-o.height),g=la(Math.min(g,c,f.maxWidth)),_=la(Math.min(_,h,f.maxHeight)),g&&!_&&(_=la(g/2)),(t!==void 0||e!==void 0)&&s&&f.height&&_>f.height&&(_=f.height,g=la(Math.floor(_*s))),{width:g,height:_}}function db(n,t,e){const s=t||1,r=la(n.height*s),o=la(n.width*s);n.height=la(n.height),n.width=la(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=s,c.height=r,c.width=o,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const CM=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};fp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function gb(n,t){const e=TM(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ir(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function RM(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function DM(n,t,e,s){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=ir(n,r,e),h=ir(r,o,e),f=ir(o,t,e),g=ir(c,h,e),_=ir(h,f,e);return ir(g,_,e)}const MM=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},NM=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function mo(n,t,e){return n?MM(t,e):NM()}function ax(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function rx(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function ox(n){return n==="angle"?{between:HT,compare:OD,normalize:Ni}:{between:oa,compare:(t,e)=>t-e,normalize:t=>t}}function mb({start:n,end:t,count:e,loop:s,style:r}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:r}}function OM(n,t,e){const{property:s,start:r,end:o}=e,{between:c,normalize:h}=ox(s),f=t.length;let{start:g,end:_,loop:v}=n,x,S;if(v){for(g+=f,_+=f,x=0,S=f;x<S&&c(h(t[g%f][s]),r,o);++x)g--,_--;g%=f,_%=f}return _<g&&(_+=f),{start:g,end:_,loop:v,style:n.style}}function lx(n,t,e){if(!e)return[n];const{property:s,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:g}=ox(s),{start:_,end:v,loop:x,style:S}=OM(n,t,e),w=[];let A=!1,N=null,U,k,K;const Q=()=>f(r,K,U)&&h(r,K)!==0,et=()=>h(o,U)===0||f(o,K,U),X=()=>A||Q(),D=()=>!A||et();for(let R=_,O=_;R<=v;++R)k=t[R%c],!k.skip&&(U=g(k[s]),U!==K&&(A=f(U,r,o),N===null&&X()&&(N=h(U,r)===0?R:O),N!==null&&D()&&(w.push(mb({start:N,end:R,loop:x,count:c,style:S})),N=null),O=R,K=U));return N!==null&&w.push(mb({start:N,end:v,loop:x,count:c,style:S})),w}function cx(n,t){const e=[],s=n.segments;for(let r=0;r<s.length;r++){const o=lx(s[r],n.points,t);o.length&&e.push(...o)}return e}function IM(n,t,e,s){let r=0,o=t-1;if(e&&!s)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function VM(n,t,e,s){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%r];g.skip||g.stop?h.skip||(s=!1,o.push({start:t%r,end:(f-1)%r,loop:s}),t=c=g.stop?f:null):(c=f,h.skip&&(t=f)),h=g}return c!==null&&o.push({start:t%r,end:c%r,loop:s}),o}function kM(n,t){const e=n.points,s=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=IM(e,r,o,s);if(s===!0)return pb(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,g=!!n._fullLoop&&c===0&&h===r-1;return pb(n,VM(e,c,f,g),e,t)}function pb(n,t,e,s){return!s||!s.setContext||!e?t:zM(n,t,e,s)}function zM(n,t,e,s){const r=n._chart.getContext(),o=_b(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,g=[];let _=o,v=t[0].start,x=v;function S(w,A,N,U){const k=h?-1:1;if(w!==A){for(w+=f;e[w%f].skip;)w-=k;for(;e[A%f].skip;)A+=k;w%f!==A%f&&(g.push({start:w%f,end:A%f,loop:N,style:U}),_=U,v=A%f)}}for(const w of t){v=h?v:w.start;let A=e[v%f],N;for(x=v+1;x<=w.end;x++){const U=e[x%f];N=_b(s.setContext(gr(r,{type:"segment",p0:A,p1:U,p0DataIndex:(x-1)%f,p1DataIndex:x%f,datasetIndex:c}))),LM(N,_)&&S(v,x-1,w.loop,_),A=U,_=N}v<x-1&&S(v,x-1,w.loop,_)}return g}function _b(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function LM(n,t){if(!t)return!1;const e=[],s=function(r,o){return lp(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,s)!==JSON.stringify(t,s)}function fh(n,t,e){return n.options.clip?n[e]:t[e]}function jM(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:fh(e,t,"left"),right:fh(e,t,"right"),top:fh(s,t,"top"),bottom:fh(s,t,"bottom")}:t}function ux(n,t){const e=t._clip;if(e.disabled)return!1;const s=jM(t,n.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:s.bottom+(e.bottom===!0?0:e.bottom)}}class PM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(s-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=GT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,s,t,"progress")),o.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var hs=new PM;const yb="transparent",BM={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=ob(n||yb),r=s.valid&&ob(t||yb);return r&&r.valid?r.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class UM{constructor(t,e,s,r){const o=e[s];r=uh([t.to,r,o,t.from]);const c=uh([t.from,o,r]);this._active=!0,this._fn=t.fn||BM[t.type||typeof c],this._easing=oc[t.easing]||oc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const r=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=uh([t.to,e,r,t.from]),this._from=uh([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<s),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][e]()}}class hx{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Bt(t))return;const e=Object.keys(Se.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Bt(o))return;const c={};for(const h of e)c[h]=o[h];(Ie(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!s.has(h))&&s.set(h,c)})})}_animateOptions(t,e){const s=e.options,r=FM(t,s);if(!r)return[];const o=this._createAnimations(r,s);return s.$shared&&HM(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,e){const s=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[g];let v=o[g];const x=s.get(g);if(v)if(x&&v.active()){v.update(x,_,h);continue}else v.cancel();if(!x||!x.duration){t[g]=_;continue}o[g]=v=new UM(x,t,g,_),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return hs.add(this._chart,s),!0}}function HM(n,t){const e=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const o=n[s[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function FM(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function vb(n,t){const e=n&&n.options||{},s=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:s?o:r,end:s?r:o}}function qM(n,t,e){if(e===!1)return!1;const s=vb(n,e),r=vb(t,e);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function GM(n){let t,e,s,r;return Bt(n)?(t=n.top,e=n.right,s=n.bottom,r=n.left):t=e=s=r=n,{top:t,right:e,bottom:s,left:r,disabled:n===!1}}function fx(n,t){const e=[],s=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=s.length;r<o;++r)e.push(s[r].index);return e}function bb(n,t,e,s={}){const r=n.keys,o=s.mode==="single";let c,h,f,g;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,s.all)continue;break}g=n.values[f],dn(g)&&(o||t===0||Vi(t)===Vi(g))&&(t+=g)}return!_&&!s.all?0:t}function YM(n,t){const{iScale:e,vScale:s}=t,r=e.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,_;for(f=0,g=c.length;f<g;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function Rg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function QM(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function $M(n){const{min:t,max:e,minDefined:s,maxDefined:r}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function KM(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function Tb(n,t,e,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function xb(n,t){const{chart:e,_cachedMeta:s}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=s,f=o.axis,g=c.axis,_=QM(o,c,s),v=t.length;let x;for(let S=0;S<v;++S){const w=t[S],{[f]:A,[g]:N}=w,U=w._stacks||(w._stacks={});x=U[g]=KM(r,_,A),x[h]=N,x._top=Tb(x,c,!0,s.type),x._bottom=Tb(x,c,!1,s.type);const k=x._visualValues||(x._visualValues={});k[h]=N}}function Dg(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function XM(n,t){return gr(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function WM(n,t,e){return gr(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Bl(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[s]===void 0||o[s][e]===void 0)return;delete o[s][e],o[s]._visualValues!==void 0&&o[s]._visualValues[e]!==void 0&&delete o[s]._visualValues[e]}}}const Mg=n=>n==="reset"||n==="none",Eb=(n,t)=>t?n:Object.assign({},n),ZM=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:fx(e,!0),values:null};class ef{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Rg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Bl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),r=(v,x,S,w)=>v==="x"?x:v==="r"?w:S,o=e.xAxisID=Mt(s.xAxisID,Dg(t,"x")),c=e.yAxisID=Mt(s.yAxisID,Dg(t,"y")),h=e.rAxisID=Mt(s.rAxisID,Dg(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&sb(this._data,this),t._stacked&&Bl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Bt(e)){const r=this._cachedMeta;this._data=YM(e,r)}else if(s!==e){if(s){sb(s,this);const r=this._cachedMeta;Bl(r),r._parsed=[]}e&&Object.isExtensible(e)&&zD(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Rg(e.vScale,e),e.stack!==s.stack&&(r=!0,Bl(e),e.stack=s.stack),this._resyncElements(t),(r||o!==e._stacked)&&(xb(this,e._parsed),e._stacked=Rg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:c}=s,h=o.axis;let f=t===0&&e===r.length?!0:s._sorted,g=t>0&&s._parsed[t-1],_,v,x;if(this._parsing===!1)s._parsed=r,s._sorted=!0,x=r;else{Ie(r[t])?x=this.parseArrayData(s,r,t,e):Bt(r[t])?x=this.parseObjectData(s,r,t,e):x=this.parsePrimitiveData(s,r,t,e);const S=()=>v[h]===null||g&&v[h]<g[h];for(_=0;_<e;++_)s._parsed[_+t]=v=x[_],f&&(S()&&(f=!1),g=v);s._sorted=f}c&&xb(this,x)}parsePrimitiveData(t,e,s,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),_=o===c,v=new Array(r);let x,S,w;for(x=0,S=r;x<S;++x)w=x+s,v[x]={[h]:_||o.parse(g[w],w),[f]:c.parse(e[w],w)};return v}parseArrayData(t,e,s,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,g,_,v;for(f=0,g=r;f<g;++f)_=f+s,v=e[_],h[f]={x:o.parse(v[0],_),y:c.parse(v[1],_)};return h}parseObjectData(t,e,s,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let _,v,x,S;for(_=0,v=r;_<v;++_)x=_+s,S=e[x],g[_]={x:o.parse(So(S,h),x),y:c.parse(So(S,f),x)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:fx(r,!0),values:e._stacks[t.axis]._visualValues};return bb(h,c,o.index,{mode:s})}updateRangeFromParsed(t,e,s,r){const o=s[e.axis];let c=o===null?NaN:o;const h=r&&s._stacks[e.axis];r&&h&&(r.values=h,c=bb(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&t===s.iScale,c=r.length,h=this._getOtherScale(t),f=ZM(e,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:v}=$M(h);let x,S;function w(){S=r[x];const A=S[h.axis];return!dn(S[t.axis])||_>A||v<A}for(x=0;x<c&&!(!w()&&(this.updateRangeFromParsed(g,t,S,f),o));++x);if(o){for(x=c-1;x>=0;--x)if(!w()){this.updateRangeFromParsed(g,t,S,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],dn(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=GM(Mt(this.options.clip,qM(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,r=s.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let _;for(s.dataset&&s.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const v=r[_];v.hidden||(v.active&&g?c.push(v):v.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=WM(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=XM(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&yc(s);if(h)return Eb(h,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],x=g.getOptionScopes(this.getDataset(),_),S=Object.keys(Se.elements[t]),w=()=>this.getContext(s,r,e),A=g.resolveNamedOptions(x,S,w,v);return A.$shared&&(A.$shared=f,o[c]=Object.freeze(Eb(A,f))),A}_resolveAnimations(t,e,s){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,v=_.datasetAnimationScopeKeys(this._type,e),x=_.getOptionScopes(this.getDataset(),v);f=_.createResolver(x,this.getContext(t,s,e))}const g=new hx(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Mg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,s),{sharedOptions:o,includeOptions:c}}updateElement(t,e,s,r){Mg(r)?Object.assign(t,s):this._resolveAnimations(e,r).update(t,s)}updateSharedOptions(t,e,s){t&&!Mg(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,s,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=s.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,s=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),s&&this.updateElements(o,t,e,"reset")}updateElements(t,e,s,r){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,e);s._stacked&&Bl(s,r)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,r]=t;this[e](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function JM(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let r=0,o=e.length;r<o;r++)s=s.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=qT(s.sort((r,o)=>r-o))}return n._cache.$bar}function tN(n){const t=n.iScale,e=JM(t,n.type);let s=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(yc(h)&&(s=Math.min(s,Math.abs(c-h)||s)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return s}function eN(n,t,e,s){const r=e.barThickness;let o,c;return Wt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*s,c=1),{chunk:o/s,ratio:c,start:t.pixels[n]-o/2}}function nN(n,t,e,s){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/s,ratio:e.barPercentage,start:g}}function iN(n,t,e,s){const r=e.parse(n[0],s),o=e.parse(n[1],s),c=Math.min(r,o),h=Math.max(r,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:o,min:c,max:h}}function dx(n,t,e,s){return Ie(n)?iN(n,t,e,s):t[e.axis]=e.parse(n,s),t}function Sb(n,t,e,s){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let g,_,v,x;for(g=e,_=e+s;g<_;++g)x=t[g],v={},v[r.axis]=h||r.parse(c[g],g),f.push(dx(x,v,o,g));return f}function Ng(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function sN(n,t,e){return n!==0?Vi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function aN(n){let t,e,s,r,o;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:s,reverse:t,top:r,bottom:o}}function rN(n,t,e,s){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:_}=aN(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?r=g:(e._bottom||0)===s?r=_:(o[Ab(_,c,h,f)]=!0,r=g)),o[Ab(r,c,h,f)]=!0,n.borderSkipped=o}function Ab(n,t,e,s){return s?(n=oN(n,t,e),n=wb(n,e,t)):n=wb(n,t,e),n}function oN(n,t,e){return n===t?e:n===e?t:n}function wb(n,t,e){return n==="start"?t:n==="end"?e:n}function lN(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class cN extends ef{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,s,r){return Sb(t,e,s,r)}parseArrayData(t,e,s,r){return Sb(t,e,s,r)}parseObjectData(t,e,s,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,_=c.axis==="x"?h:f,v=[];let x,S,w,A;for(x=s,S=s+r;x<S;++x)A=e[x],w={},w[o.axis]=o.parse(So(A,g),x),v.push(dx(So(A,_),w,c,x));return v}updateRangeFromParsed(t,e,s,r){super.updateRangeFromParsed(t,e,s,r);const o=s._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=Ng(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),_=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(e,r);for(let S=e;S<e+s;S++){const w=this.getParsed(S),A=o||Wt(w[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),N=this._calculateBarIndexPixels(S,_),U=(w._stacks||{})[h.axis],k={horizontal:g,base:A.base,enableBorderRadius:!U||Ng(w._custom)||c===U._top||c===U._bottom,x:g?A.head:N.center,y:g?N.center:A.head,height:g?N.size:Math.abs(A.size),width:g?Math.abs(A.size):N.size};x&&(k.options=v||this.resolveDataElementOptions(S,t[S].active?"active":r));const K=k.options||t[S].options;rN(k,K,U,c),lN(k,K,_.ratio),this.updateElement(t[S],S,k,r)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=s.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[s.axis],g=_=>{const v=_._parsed.find(S=>S[s.axis]===f),x=v&&v[_.vScale.axis];if(Wt(x)||isNaN(x))return!0};for(const _ of r)if(!(e!==void 0&&g(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Mt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,s){const r=this._getStacks(t,s),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const h=t.barThickness;return{min:h||tN(e),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,_=Ng(g);let v=f[e.axis],x=0,S=s?this.applyStack(e,f,s):v,w,A;S!==v&&(x=S-v,S=v),_&&(v=g.barStart,S=g.barEnd-g.barStart,v!==0&&Vi(v)!==Vi(g.barEnd)&&(x=0),x+=v);const N=!Wt(o)&&!_?o:x;let U=e.getPixelForValue(N);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(x+S):w=U,A=w-U,Math.abs(A)<c){A=sN(A,e,h)*c,v===h&&(U-=A/2);const k=e.getPixelForDecimal(0),K=e.getPixelForDecimal(1),Q=Math.min(k,K),et=Math.max(k,K);U=Math.max(Math.min(U,et),Q),w=U+A,s&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(w)-e.getValueForPixel(U))}if(U===e.getPixelForValue(h)){const k=Vi(A)*e.getLineWidthForValue(h)/2;U+=k,A-=k}return{size:A,base:U,head:w,center:w+A/2}}_calculateBarIndexPixels(t,e){const s=e.scale,r=this.options,o=r.skipNull,c=Mt(r.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?nN(t,e,r,_*g):eN(t,e,r,_*g),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Mt(x,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+S;h=v.start+v.chunk*w+v.chunk/2,f=Math.min(c,v.chunk*v.ratio)}else h=s.getPixelForValue(this.getParsed(t)[s.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,r=s.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}class uN extends ef{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=QT(e,r,c);this._drawStart=h,this._drawCount=f,$T(e)&&(h=0,f=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:g},t),this.updateElements(r,h,f,t)}updateElements(t,e,s,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,r),x=c.axis,S=h.axis,{spanGaps:w,segment:A}=this.options,N=Ao(w)?w:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||o||r==="none",k=e+s,K=t.length;let Q=e>0&&this.getParsed(e-1);for(let et=0;et<K;++et){const X=t[et],D=U?X:{};if(et<e||et>=k){D.skip=!0;continue}const R=this.getParsed(et),O=Wt(R[S]),V=D[x]=c.getPixelForValue(R[x],et),I=D[S]=o||O?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,R,f):R[S],et);D.skip=isNaN(V)||isNaN(I)||O,D.stop=et>0&&Math.abs(R[x]-Q[x])>N,A&&(D.parsed=R,D.raw=g.data[et]),v&&(D.options=_||this.resolveDataElementOptions(et,X.active?"active":r)),U||this.updateElement(X,et,D,r),Q=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class hN extends ef{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,s=this.chart.data.labels||[],{xScale:r,yScale:o}=e,c=this.getParsed(t),h=r.getLabelForValue(c.x),f=o.getLabelForValue(c.y);return{label:s[t]||"",value:"("+h+", "+f+")"}}update(t){const e=this._cachedMeta,{data:s=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:c}=QT(e,s,r);if(this._drawStart=o,this._drawCount=c,$T(e)&&(o=0,c=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:f}=e;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!f._decimated,h.points=s;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(h,void 0,{animated:!r,options:g},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(s,o,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,s,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,_=this.resolveDataElementOptions(e,r),v=this.getSharedOptions(_),x=this.includeOptions(r,v),S=c.axis,w=h.axis,{spanGaps:A,segment:N}=this.options,U=Ao(A)?A:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||r==="none";let K=e>0&&this.getParsed(e-1);for(let Q=e;Q<e+s;++Q){const et=t[Q],X=this.getParsed(Q),D=k?et:{},R=Wt(X[w]),O=D[S]=c.getPixelForValue(X[S],Q),V=D[w]=o||R?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,X,f):X[w],Q);D.skip=isNaN(O)||isNaN(V)||R,D.stop=Q>0&&Math.abs(X[S]-K[S])>U,N&&(D.parsed=X,D.raw=g.data[Q]),x&&(D.options=v||this.resolveDataElementOptions(Q,et.active?"active":r)),k||this.updateElement(et,Q,D,r),K=X}this.updateSharedOptions(v,r,_)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let h=0;for(let f=e.length-1;f>=0;--f)h=Math.max(h,e[f].size(this.resolveDataElementOptions(f))/2);return h>0&&h}const s=t.dataset,r=s.options&&s.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),c=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,c)/2}}function Ja(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gp{static override(t){Object.assign(gp.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ja()}parse(){return Ja()}format(){return Ja()}add(){return Ja()}diff(){return Ja()}startOf(){return Ja()}endOf(){return Ja()}}var fN={_date:gp};function dN(n,t,e,s){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?VD:rr;if(s){if(r._sharedOptions){const _=o[0],v=typeof _.getRange=="function"&&_.getRange(t);if(v){const x=g(o,t,e-v),S=g(o,t,e+v);return{lo:x.lo,hi:S.hi}}}}else{const _=g(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:x}=n,S=x.slice(0,_.lo+1).reverse().findIndex(A=>!Wt(A[v.axis]));_.lo-=Math.max(0,S);const w=x.slice(_.hi).findIndex(A=>!Wt(A[v.axis]));_.hi+=Math.max(0,w)}return _}}return{lo:0,hi:o.length-1}}function nf(n,t,e,s,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:_}=o[h],{lo:v,hi:x}=dN(o[h],t,c,r);for(let S=v;S<=x;++S){const w=_[S];w.skip||s(w,g,S)}}}function gN(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,r){const o=t?Math.abs(s.x-r.x):0,c=e?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Og(n,t,e,s,r){const o=[];return!r&&!n.isPointInArea(t)||nf(n,e,t,function(h,f,g){!r&&!vc(h,n.chartArea,0)||h.inRange(t.x,t.y,s)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function mN(n,t,e,s){let r=[];function o(c,h,f){const{startAngle:g,endAngle:_}=c.getProps(["startAngle","endAngle"],s),{angle:v}=ND(c,{x:t.x,y:t.y});HT(v,g,_)&&r.push({element:c,datasetIndex:h,index:f})}return nf(n,e,t,o),r}function pN(n,t,e,s,r,o){let c=[];const h=gN(e);let f=Number.POSITIVE_INFINITY;function g(_,v,x){const S=_.inRange(t.x,t.y,r);if(s&&!S)return;const w=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(w))&&!S)return;const N=h(t,w);N<f?(c=[{element:_,datasetIndex:v,index:x}],f=N):N===f&&c.push({element:_,datasetIndex:v,index:x})}return nf(n,e,t,g),c}function Ig(n,t,e,s,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!s?mN(n,t,e,r):pN(n,t,e,s,r,o)}function Cb(n,t,e,s,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return nf(n,e,t,(f,g,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:g,index:_}),h=h||f.inRange(t.x,t.y,r))}),s&&!h?[]:o}var _N={modes:{index(n,t,e,s){const r=nr(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Og(n,r,o,s,c):Ig(n,r,o,!1,s,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,v=g.data[_];v&&!v.skip&&f.push({element:v,datasetIndex:g.index,index:_})}),f):[]},dataset(n,t,e,s){const r=nr(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Og(n,r,o,s,c):Ig(n,r,o,!1,s,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:f,index:_})}return h},point(n,t,e,s){const r=nr(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Og(n,r,o,s,c)},nearest(n,t,e,s){const r=nr(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Ig(n,r,o,e.intersect,s,c)},x(n,t,e,s){const r=nr(t,n);return Cb(n,r,"x",e.intersect,s)},y(n,t,e,s){const r=nr(t,n);return Cb(n,r,"y",e.intersect,s)}}};const gx=["left","top","right","bottom"];function Ul(n,t){return n.filter(e=>e.pos===t)}function Rb(n,t){return n.filter(e=>gx.indexOf(e.pos)===-1&&e.box.axis===t)}function Hl(n,t){return n.sort((e,s)=>{const r=t?s:e,o=t?e:s;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function yN(n){const t=[];let e,s,r,o,c,h;for(e=0,s=(n||[]).length;e<s;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function vN(n){const t={};for(const e of n){const{stack:s,pos:r,stackWeight:o}=e;if(!s||!gx.includes(r))continue;const c=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function bN(n,t){const e=vN(n),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*s:f&&t.availableWidth,h.height=r):(h.width=s,h.height=_?_*r:f&&t.availableHeight)}return e}function TN(n){const t=yN(n),e=Hl(t.filter(g=>g.box.fullSize),!0),s=Hl(Ul(t,"left"),!0),r=Hl(Ul(t,"right")),o=Hl(Ul(t,"top"),!0),c=Hl(Ul(t,"bottom")),h=Rb(t,"x"),f=Rb(t,"y");return{fullSize:e,leftAndTop:s.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Ul(t,"chartArea"),vertical:s.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function Db(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function mx(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function xN(n,t,e,s){const{pos:r,box:o}=e,c=n.maxPadding;if(!Bt(r)){e.size&&(n[r]-=e.size);const v=s[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&mx(c,o.getPadding());const h=Math.max(0,t.outerWidth-Db(c,n,"left","right")),f=Math.max(0,t.outerHeight-Db(c,n,"top","bottom")),g=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function EN(n){const t=n.maxPadding;function e(s){const r=Math.max(t[s]-n[s],0);return n[s]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function SN(n,t){const e=t.maxPadding;function s(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return s(n?["left","right"]:["top","bottom"])}function Zl(n,t,e,s){const r=[];let o,c,h,f,g,_;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,SN(h.horizontal,t));const{same:v,other:x}=xN(t,e,h,s);g|=v&&r.length,_=_||x,f.fullSize||r.push(h)}return g&&Zl(r,t,e,s)||_}function dh(n,t,e,s,r){n.top=e,n.left=t,n.right=t+s,n.bottom=e+r,n.width=s,n.height=r}function Mb(n,t,e,s){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=s[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*_,x=g.size||f.height;yc(g.start)&&(c=g.start),f.fullSize?dh(f,r.left,c,e.outerWidth-r.right-r.left,x):dh(f,t.left+g.placed,c,v,x),g.start=c,g.placed+=v,c=f.bottom}else{const v=t.h*_,x=g.size||f.width;yc(g.start)&&(o=g.start),f.fullSize?dh(f,o,r.top,x,e.outerHeight-r.bottom-r.top):dh(f,o,t.top+g.placed,x,v),g.start=o,g.placed+=v,o=f.right}}t.x=o,t.y=c}var ei={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const r=ni(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=TN(n.boxes),f=h.vertical,g=h.horizontal;ne(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const _=f.reduce((A,N)=>N.box.options&&N.box.options.display===!1?A:A+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),x=Object.assign({},r);mx(x,ni(s));const S=Object.assign({maxPadding:x,w:o,h:c,x:r.left,y:r.top},r),w=bN(f.concat(g),v);Zl(h.fullSize,S,v,w),Zl(f,S,v,w),Zl(g,S,v,w)&&Zl(f,S,v,w),EN(S),Mb(h.leftAndTop,S,v,w),S.x+=S.w,S.y+=S.h,Mb(h.rightAndBottom,S,v,w),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},ne(h.chartArea,A=>{const N=A.box;Object.assign(N,n.chartArea),N.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class px{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,r){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):s)}}isAttached(t){return!0}updateConfig(t){}}class AN extends px{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ah="$chartjs",wN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nb=n=>n===null||n==="";function CN(n,t){const e=n.style,s=n.getAttribute("height"),r=n.getAttribute("width");if(n[Ah]={initial:{height:s,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Nb(r)){const o=gb(n,"width");o!==void 0&&(n.width=o)}if(Nb(s))if(n.style.height==="")n.height=n.width/(t||2);else{const o=gb(n,"height");o!==void 0&&(n.height=o)}return n}const _x=CM?{passive:!0}:!1;function RN(n,t,e){n&&n.addEventListener(t,e,_x)}function DN(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,_x)}function MN(n,t){const e=wN[n.type]||n.type,{x:s,y:r}=nr(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Uh(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function NN(n,t,e){const s=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Uh(h.addedNodes,s),c=c&&!Uh(h.removedNodes,s);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function ON(n,t,e){const s=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Uh(h.removedNodes,s),c=c&&!Uh(h.addedNodes,s);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Tc=new Map;let Ob=0;function yx(){const n=window.devicePixelRatio;n!==Ob&&(Ob=n,Tc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function IN(n,t){Tc.size||window.addEventListener("resize",yx),Tc.set(n,t)}function VN(n){Tc.delete(n),Tc.size||window.removeEventListener("resize",yx)}function kN(n,t,e){const s=n.canvas,r=s&&dp(s);if(!r)return;const o=YT((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,_=f.contentRect.height;g===0&&_===0||o(g,_)});return c.observe(r),IN(n,o),c}function Vg(n,t,e){e&&e.disconnect(),t==="resize"&&VN(n)}function zN(n,t,e){const s=n.canvas,r=YT(o=>{n.ctx!==null&&e(MN(o,n))},n);return RN(s,t,r),r}class LN extends px{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(CN(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Ah])return!1;const s=e[Ah].initial;["height","width"].forEach(o=>{const c=s[o];Wt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=s.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Ah],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:NN,detach:ON,resize:kN}[e]||zN;r[e]=c(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),r=s[e];if(!r)return;({attach:Vg,detach:Vg,resize:Vg}[e]||DN)(t,e,r),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,r){return wM(t,e,s,r)}isAttached(t){const e=t&&dp(t);return!!(e&&e.isConnected)}}function jN(n){return!fp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?AN:LN}class va{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Ao(this.x)&&Ao(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const r={};return t.forEach(o=>{r[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),r}}function PN(n,t){const e=n.options.ticks,s=BN(n),r=Math.min(e.maxTicksLimit||s,s),o=e.major.enabled?HN(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>r)return FN(t,g,o,c/r),g;const _=UN(o,t,r);if(c>0){let v,x;const S=c>1?Math.round((f-h)/(c-1)):null;for(gh(t,g,_,Wt(S)?0:h-S,h),v=0,x=c-1;v<x;v++)gh(t,g,_,o[v],o[v+1]);return gh(t,g,_,f,Wt(S)?t.length:f+S),g}return gh(t,g,_),g}function BN(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(s,r))}function UN(n,t,e){const s=qN(n),r=t.length/e;if(!s)return Math.max(r,1);const o=wD(s);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function HN(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function FN(n,t,e,s){let r=0,o=e[0],c;for(s=Math.ceil(s),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*s])}function gh(n,t,e,s,r){const o=Mt(s,0),c=Math.min(Mt(r,n.length),n.length);let h=0,f,g,_;for(e=Math.ceil(e),r&&(f=r-s,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===_&&(t.push(n[g]),h++,_=Math.round(o+h*e))}function qN(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const GN=n=>n==="left"?"right":n==="right"?"left":n,Ib=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Vb=(n,t)=>Math.min(t||n,n);function kb(n,t){const e=[],s=n.length/t,r=n.length;let o=0;for(;o<r;o+=s)e.push(n[Math.floor(o)]);return e}function YN(n,t,e){const s=n.ticks.length,r=Math.min(t,s-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(s===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>c+h)))return f}function QN(n,t){ne(n,e=>{const s=e.gc,r=s.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[s[o]];s.splice(0,r)}})}function Fl(n){return n.drawTicks?n.tickLength:0}function zb(n,t){if(!n.display)return 0;const e=fn(n.font,t),s=ni(n.padding);return(Ie(n.text)?n.text.length:1)*e.lineHeight+s.height}function $N(n,t){return gr(n,{scale:t,type:"scale"})}function KN(n,t,e){return gr(n,{tick:e,index:t,type:"tick"})}function XN(n,t,e){let s=op(n);return(e&&t!=="right"||!e&&t==="right")&&(s=GN(s)),s}function WN(n,t,e,s){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:_}=f;let v=0,x,S,w;const A=c-r,N=h-o;if(n.isHorizontal()){if(S=ln(s,o,h),Bt(e)){const U=Object.keys(e)[0],k=e[U];w=_[U].getPixelForValue(k)+A-t}else e==="center"?w=(g.bottom+g.top)/2+A-t:w=Ib(n,e,t);x=h-o}else{if(Bt(e)){const U=Object.keys(e)[0],k=e[U];S=_[U].getPixelForValue(k)-N+t}else e==="center"?S=(g.left+g.right)/2-N+t:S=Ib(n,e,t);w=ln(s,c,r),v=e==="left"?-hi:hi}return{titleX:S,titleY:w,maxWidth:x,rotation:v}}class Vo extends va{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:r}=this;return t=Ri(t,Number.POSITIVE_INFINITY),e=Ri(e,Number.NEGATIVE_INFINITY),s=Ri(s,Number.POSITIVE_INFINITY),r=Ri(r,Number.NEGATIVE_INFINITY),{min:Ri(t,s),max:Ri(e,r),minDefined:dn(t),maxDefined:dn(e)}}getMinMax(t){let{min:e,max:s,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(s=Math.max(s,c.max));return e=o&&e>s?s:e,s=r&&e>s?e:s,{min:Ri(e,Ri(s,e)),max:Ri(s,Ri(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sM(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?kb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=PN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ue(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,r,o;for(s=0,r=t.length;s<r;s++)o=t[s],o.label=ue(e.callback,[o.value,s,t],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Vb(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),v=_.widest.width,x=_.highest.height,S=Bn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/s:S/(s-1),v+6>h&&(h=S/(s-(t.offset?.5:1)),f=this.maxHeight-Fl(t.grid)-e.padding-zb(t.title,this.chart.options.font),g=Math.sqrt(v*v+x*x),c=MD(Math.min(Math.asin(Bn((_.highest.height+6)/h,-1,1)),Math.asin(Bn(f/g,-1,1))-Math.asin(Bn(x/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=zb(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Fl(o)+f):(t.height=this.maxHeight,t.width=Fl(o)+f),s.display&&this.ticks.length){const{first:g,last:_,widest:v,highest:x}=this._getLabelSizes(),S=s.padding*2,w=ar(this.labelRotation),A=Math.cos(w),N=Math.sin(w);if(h){const U=s.mirror?0:N*v.width+A*x.height;t.height=Math.min(this.maxHeight,t.height+U+S)}else{const U=s.mirror?0:A*v.width+N*x.height;t.width=Math.min(this.maxWidth,t.width+U+S)}this._calculatePadding(g,_,N,A)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,S=0;f?g?(x=r*t.width,S=s*e.height):(x=s*t.height,S=r*e.width):o==="start"?S=e.width:o==="end"?x=t.width:o!=="inner"&&(x=t.width/2,S=e.width/2),this.paddingLeft=Math.max((x-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((S-v+c)*this.width/(this.width-v),0)}else{let _=e.height/2,v=t.height/2;o==="start"?(_=0,v=t.height):o==="end"&&(_=e.height,v=0),this.paddingTop=_+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Wt(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=kb(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/Vb(e,s));let g=0,_=0,v,x,S,w,A,N,U,k,K,Q,et;for(v=0;v<e;v+=f){if(w=t[v].label,A=this._resolveTickFontOptions(v),r.font=N=A.string,U=o[N]=o[N]||{data:{},gc:[]},k=A.lineHeight,K=Q=0,!Wt(w)&&!Ie(w))K=cb(r,U.data,U.gc,K,w),Q=k;else if(Ie(w))for(x=0,S=w.length;x<S;++x)et=w[x],!Wt(et)&&!Ie(et)&&(K=cb(r,U.data,U.gc,K,et),Q+=k);c.push(K),h.push(Q),g=Math.max(K,g),_=Math.max(Q,_)}QN(o,e);const X=c.indexOf(g),D=h.indexOf(_),R=O=>({width:c[O]||0,height:h[O]||0});return{first:R(0),last:R(e-1),widest:R(X),highest:R(D),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return ID(this._alignToPixels?Za(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=KN(this.getContext(),t,s))}return this.$context||(this.$context=$N(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ar(this.labelRotation),s=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*s>h*r?h/s:f/r:f*r<h*s?f/s:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,g=this.isHorizontal(),v=this.ticks.length+(f?1:0),x=Fl(o),S=[],w=h.setContext(this.getContext()),A=w.display?w.width:0,N=A/2,U=function($){return Za(s,$,A)};let k,K,Q,et,X,D,R,O,V,I,j,z;if(c==="top")k=U(this.bottom),D=this.bottom-x,O=k-N,I=U(t.top)+N,z=t.bottom;else if(c==="bottom")k=U(this.top),I=t.top,z=U(t.bottom)-N,D=k+N,O=this.top+x;else if(c==="left")k=U(this.right),X=this.right-x,R=k-N,V=U(t.left)+N,j=t.right;else if(c==="right")k=U(this.left),V=t.left,j=U(t.right)-N,X=k+N,R=this.left+x;else if(e==="x"){if(c==="center")k=U((t.top+t.bottom)/2+.5);else if(Bt(c)){const $=Object.keys(c)[0],rt=c[$];k=U(this.chart.scales[$].getPixelForValue(rt))}I=t.top,z=t.bottom,D=k+N,O=D+x}else if(e==="y"){if(c==="center")k=U((t.left+t.right)/2);else if(Bt(c)){const $=Object.keys(c)[0],rt=c[$];k=U(this.chart.scales[$].getPixelForValue(rt))}X=k-N,R=X-x,V=t.left,j=t.right}const Zt=Mt(r.ticks.maxTicksLimit,v),Rt=Math.max(1,Math.ceil(v/Zt));for(K=0;K<v;K+=Rt){const $=this.getContext(K),rt=o.setContext($),pt=h.setContext($),Nt=rt.lineWidth,Ot=rt.color,B=pt.dash||[],J=pt.dashOffset,at=rt.tickWidth,ut=rt.tickColor,yt=rt.tickBorderDash||[],Tt=rt.tickBorderDashOffset;Q=YN(this,K,f),Q!==void 0&&(et=Za(s,Q,Nt),g?X=R=V=j=et:D=O=I=z=et,S.push({tx1:X,ty1:D,tx2:R,ty2:O,x1:V,y1:I,x2:j,y2:z,width:Nt,color:Ot,borderDash:B,borderDashOffset:J,tickWidth:at,tickColor:ut,tickBorderDash:yt,tickBorderDashOffset:Tt}))}return this._ticksLength=v,this._borderValue=k,S}_computeLabelItems(t){const e=this.axis,s=this.options,{position:r,ticks:o}=s,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:_,mirror:v}=o,x=Fl(s.grid),S=x+_,w=v?-_:S,A=-ar(this.labelRotation),N=[];let U,k,K,Q,et,X,D,R,O,V,I,j,z="middle";if(r==="top")X=this.bottom-w,D=this._getXAxisLabelAlignment();else if(r==="bottom")X=this.top+w,D=this._getXAxisLabelAlignment();else if(r==="left"){const Rt=this._getYAxisLabelAlignment(x);D=Rt.textAlign,et=Rt.x}else if(r==="right"){const Rt=this._getYAxisLabelAlignment(x);D=Rt.textAlign,et=Rt.x}else if(e==="x"){if(r==="center")X=(t.top+t.bottom)/2+S;else if(Bt(r)){const Rt=Object.keys(r)[0],$=r[Rt];X=this.chart.scales[Rt].getPixelForValue($)+S}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")et=(t.left+t.right)/2-S;else if(Bt(r)){const Rt=Object.keys(r)[0],$=r[Rt];et=this.chart.scales[Rt].getPixelForValue($)}D=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(f==="start"?z="top":f==="end"&&(z="bottom"));const Zt=this._getLabelSizes();for(U=0,k=h.length;U<k;++U){K=h[U],Q=K.label;const Rt=o.setContext(this.getContext(U));R=this.getPixelForTick(U)+o.labelOffset,O=this._resolveTickFontOptions(U),V=O.lineHeight,I=Ie(Q)?Q.length:1;const $=I/2,rt=Rt.color,pt=Rt.textStrokeColor,Nt=Rt.textStrokeWidth;let Ot=D;c?(et=R,D==="inner"&&(U===k-1?Ot=this.options.reverse?"left":"right":U===0?Ot=this.options.reverse?"right":"left":Ot="center"),r==="top"?g==="near"||A!==0?j=-I*V+V/2:g==="center"?j=-Zt.highest.height/2-$*V+V:j=-Zt.highest.height+V/2:g==="near"||A!==0?j=V/2:g==="center"?j=Zt.highest.height/2-$*V:j=Zt.highest.height-I*V,v&&(j*=-1),A!==0&&!Rt.showLabelBackdrop&&(et+=V/2*Math.sin(A))):(X=R,j=(1-I)*V/2);let B;if(Rt.showLabelBackdrop){const J=ni(Rt.backdropPadding),at=Zt.heights[U],ut=Zt.widths[U];let yt=j-J.top,Tt=0-J.left;switch(z){case"middle":yt-=at/2;break;case"bottom":yt-=at;break}switch(D){case"center":Tt-=ut/2;break;case"right":Tt-=ut;break;case"inner":U===k-1?Tt-=ut:U>0&&(Tt-=ut/2);break}B={left:Tt,top:yt,width:ut+J.width,height:at+J.height,color:Rt.backdropColor}}N.push({label:Q,font:O,textOffset:j,options:{rotation:A,color:rt,strokeColor:pt,strokeWidth:Nt,textAlign:Ot,textBaseline:z,translation:[et,X],backdrop:B}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ar(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,_;return e==="left"?r?(_=this.right+o,s==="near"?g="left":s==="center"?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-h,s==="near"?g="right":s==="center"?(g="center",_-=f/2):(g="left",_=this.left)):e==="right"?r?(_=this.left+o,s==="near"?g="right":s==="center"?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+h,s==="near"?g="left":s==="center"?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,_)=>{!_.width||!_.color||(s.save(),s.lineWidth=_.width,s.strokeStyle=_.color,s.setLineDash(_.borderDash||[]),s.lineDashOffset=_.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:r}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,v,x;this.isHorizontal()?(g=Za(t,this.left,c)-c/2,_=Za(t,this.right,h)+h/2,v=x=f):(v=Za(t,this.top,c)-c/2,x=Za(t,this.bottom,h)+h/2,g=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,v),e.lineTo(_,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Zh(s,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,_=c.textOffset;bc(s,g,0,_,f,h)}r&&Jh(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:r}}=this;if(!s.display)return;const o=fn(s.font),c=ni(s.padding),h=s.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Bt(e)?(f+=c.bottom,Ie(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:g,titleY:_,maxWidth:v,rotation:x}=WN(this,f,e,h);bc(t,s.text,0,0,o,{color:s.color,maxWidth:v,rotation:x,textAlign:XN(h,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Mt(t.grid&&t.grid.z,-1),r=Mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Vo.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[s]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return fn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class mh{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;tO(e)&&(s=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,ZN(t,c,s),this.override&&Se.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,r=this.scope;s in e&&delete e[s],r&&s in Se[r]&&(delete Se[r][s],this.override&&delete dr[s])}}function ZN(n,t,e){const s=_c(Object.create(null),[e?Se.get(e):{},Se.get(t),n.defaults]);Se.set(t,s),n.defaultRoutes&&JN(t,n.defaultRoutes),n.descriptors&&Se.describe(t,n.descriptors)}function JN(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),r=s.pop(),o=[n].concat(s).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Se.route(o,r,f,h)})}function tO(n){return"id"in n&&"defaults"in n}class eO{constructor(){this.controllers=new mh(ef,"datasets",!0),this.elements=new mh(va,"elements"),this.plugins=new mh(Object,"plugins"),this.scales=new mh(Vo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(r=>{const o=s||this._getRegistryForType(r);s||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ne(r,c=>{const h=s||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,s){const r=ap(t);ue(s["before"+r],[],s),e[t](s),ue(s["after"+r],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Mi=new eO;class nO{constructor(){this._init=void 0}notify(t,e,s,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,s);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,s,r){r=r||{};for(const o of t){const c=o.plugin,h=c[s],f=[e,r,o.options];if(ue(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Wt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,r=Mt(s.options&&s.options.plugins,{}),o=iO(s);return r===!1&&!e?[]:aO(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,s),t,"stop"),this._notify(r(s,e),t,"start")}}function iO(n){const t={},e=[],s=Object.keys(Mi.plugins.items);for(let o=0;o<s.length;o++)e.push(Mi.getPlugin(s[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function sO(n,t){return!t&&n===!1?null:n===!0?{}:n}function aO(n,{plugins:t,localIds:e},s,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=sO(s[f],r);g!==null&&o.push({plugin:h,options:rO(n.config,{plugin:h,local:e[f]},g,c)})}return o}function rO(n,{plugin:t,local:e},s,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(s,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gm(n,t){const e=Se.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function oO(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function lO(n,t){return n===t?"_index_":"_value_"}function Lb(n){if(n==="x"||n==="y"||n==="r")return n}function cO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function mm(n,...t){if(Lb(n))return n;for(const e of t){const s=e.axis||cO(e.position)||n.length>1&&Lb(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function jb(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function uO(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return jb(n,"x",e[0])||jb(n,"y",e[0])}return{}}function hO(n,t){const e=dr[n.type]||{scales:{}},s=t.scales||{},r=gm(n.type,t),o=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!Bt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=mm(c,h,uO(c,n),Se.scales[h.type]),g=lO(f,r),_=e.scales||{};o[c]=ac(Object.create(null),[{axis:f},h,_[f],_[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||gm(h,t),_=(dr[h]||{}).scales||{};Object.keys(_).forEach(v=>{const x=oO(v,f),S=c[x+"AxisID"]||x;o[S]=o[S]||Object.create(null),ac(o[S],[{axis:x},s[S],_[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];ac(h,[Se.scales[h.type],Se.scale])}),o}function vx(n){const t=n.options||(n.options={});t.plugins=Mt(t.plugins,{}),t.scales=hO(n,t)}function bx(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function fO(n){return n=n||{},n.data=bx(n.data),vx(n),n}const Pb=new Map,Tx=new Set;function ph(n,t){let e=Pb.get(n);return e||(e=t(),Pb.set(n,e),Tx.add(e)),e}const ql=(n,t,e)=>{const s=So(t,e);s!==void 0&&n.add(s)};class dO{constructor(t){this._config=fO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ph(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ph(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ph(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return ph(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let r=s.get(t);return(!r||e)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,e,s){const{options:r,type:o}=this,c=this._cachedScopes(t,s),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(v=>ql(f,t,v))),_.forEach(v=>ql(f,r,v)),_.forEach(v=>ql(f,dr[o]||{},v)),_.forEach(v=>ql(f,Se,v)),_.forEach(v=>ql(f,fm,v))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),Tx.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,dr[e]||{},Se.datasets[e]||{},{type:e},Se,fm]}resolveNamedOptions(t,e,s,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Bb(this._resolverCache,t,r);let f=c;if(mO(c,e)){o.$shared=!1,s=_a(s)?s():s;const g=this.createResolver(t,s,h);f=wo(c,s,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,s=[""],r){const{resolver:o}=Bb(this._resolverCache,t,s);return Bt(e)?wo(o,e,void 0,r):o}}function Bb(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const r=e.join();let o=s.get(r);return o||(o={resolver:cp(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(r,o)),o}const gO=n=>Bt(n)&&Object.getOwnPropertyNames(n).some(t=>_a(n[t]));function mO(n,t){const{isScriptable:e,isIndexable:s}=tx(n);for(const r of t){const o=e(r),c=s(r),h=(c||o)&&n[r];if(o&&(_a(h)||gO(h))||c&&Ie(h))return!0}return!1}var pO="4.5.1";const _O=["top","bottom","left","right","chartArea"];function Ub(n,t){return n==="top"||n==="bottom"||_O.indexOf(n)===-1&&t==="x"}function Hb(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function Fb(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ue(e&&e.onComplete,[n],t)}function yO(n){const t=n.chart,e=t.options.animation;ue(e&&e.onProgress,[n],t)}function xx(n){return fp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const wh={},qb=n=>{const t=xx(n);return Object.values(wh).filter(e=>e.canvas===t).pop()};function vO(n,t,e){const s=Object.keys(n);for(const r of s){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function bO(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}let ko=class{static defaults=Se;static instances=wh;static overrides=dr;static registry=Mi;static version=pO;static getChart=qb;static register(...t){Mi.add(...t),Gb()}static unregister(...t){Mi.remove(...t),Gb()}constructor(t,e){const s=this.config=new dO(e),r=xx(t),o=qb(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||jN(r)),this.platform.updateConfig(s);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,_=f&&f.width;if(this.id=_D(),this.ctx=h,this.canvas=f,this.width=_,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=LD(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],wh[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}hs.listen(this,"complete",Fb),hs.listen(this,"progress",yO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:r,_aspectRatio:o}=this;return Wt(t)?e&&o?o:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Mi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():db(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ub(this.canvas,this.ctx),this}stop(){return hs.stop(this),this}resize(t,e){hs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,db(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ue(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ne(e,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,r=Object.keys(s).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=mm(c,h),g=f==="r",_=f==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),ne(o,c=>{const h=c.options,f=h.id,g=mm(f,h),_=Mt(h.type,c.dtype);(h.position===void 0||Ub(h.position,g)!==Ub(c.dposition))&&(h.position=c.dposition),r[f]=!0;let v=null;if(f in s&&s[f].type===_)v=s[f];else{const x=Mi.getScale(_);v=new x({id:f,type:_,ctx:this.ctx,chart:this}),s[v.id]=v}v.init(h,t)}),ne(r,(c,h)=>{c||delete s[h]}),ne(s,c=>{ei.configure(this,c,c.options),ei.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((r,o)=>r.index-o.index),s>e){for(let r=e;r<s;++r)this._destroyDatasetMeta(r);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Hb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,r)=>{e.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=e.length;s<r;s++){const o=e[s];let c=this.getDatasetMeta(s);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=h,c.indexAxis=o.indexAxis||gm(h,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=Mi.getController(h),{datasetElementType:g,dataElementType:_}=Se.datasets[h];Object.assign(f,{dataElementType:Mi.getElement(_),datasetElementType:g&&Mi.getElement(g)}),c.controller=new f(this,s),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ne(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:v}=this.getDatasetMeta(g),x=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(x),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),r||ne(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Hb("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ne(this.scales,t=>{ei.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!tb(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:o}of e){const c=s==="_removeElements"?-o:o;vO(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=s(0);for(let o=1;o<e;o++)if(!tb(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ei.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],ne(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,_a(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(hs.has(this)?this.attached&&!hs.running(this)&&hs.start(this):(this.draw(),Fb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=ux(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Zh(e,r),t.controller.draw(),r&&Jh(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return vc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,r){const o=_N.modes[e];return typeof o=="function"?o(this,t,s,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let r=s.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=gr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const r=s?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);yc(e)?(o.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),c.update(o,{visible:s}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),hs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ub(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};ne(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){ne(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ne(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const r=s?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!zh(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const r=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(v=>_.datasetIndex===v.datasetIndex&&_.index===v.index)),c=o(e,t),h=s?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const o=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,s,c),f=ED(t),g=bO(t,this._lastEvent,s,f);s&&(this._lastEvent=null,ue(o.onHover,[t,h,this],this),f&&ue(o.onClick,[t,h,this],this));const _=!zh(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,s,r){if(t.type==="mouseout")return[];if(!s)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Gb(){return ne(ko.instances,n=>n._plugins.invalidate())}function Ex(n,t,e=t){n.lineCap=Mt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Mt(e.borderDash,t.borderDash)),n.lineDashOffset=Mt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Mt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Mt(e.borderWidth,t.borderWidth),n.strokeStyle=Mt(e.borderColor,t.borderColor)}function TO(n,t,e){n.lineTo(e.x,e.y)}function xO(n){return n.stepped?KD:n.tension||n.cubicInterpolationMode==="monotone"?XD:TO}function Sx(n,t,e={}){const s=n.length,{start:r=0,end:o=s-1}=e,{start:c,end:h}=t,f=Math.max(r,c),g=Math.min(o,h),_=r<c&&o<c||r>h&&o>h;return{count:s,start:f,loop:t.loop,ilen:g<f&&!_?s+g-f:g-f}}function EO(n,t,e,s){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:g}=Sx(r,e,s),_=xO(o);let{move:v=!0,reverse:x}=s||{},S,w,A;for(S=0;S<=g;++S)w=r[(h+(x?g-S:S))%c],!w.skip&&(v?(n.moveTo(w.x,w.y),v=!1):_(n,A,w,x,o.stepped),A=w);return f&&(w=r[(h+(x?g:0))%c],_(n,A,w,x,o.stepped)),!!f}function SO(n,t,e,s){const r=t.points,{count:o,start:c,ilen:h}=Sx(r,e,s),{move:f=!0,reverse:g}=s||{};let _=0,v=0,x,S,w,A,N,U;const k=Q=>(c+(g?h-Q:Q))%o,K=()=>{A!==N&&(n.lineTo(_,N),n.lineTo(_,A),n.lineTo(_,U))};for(f&&(S=r[k(0)],n.moveTo(S.x,S.y)),x=0;x<=h;++x){if(S=r[k(x)],S.skip)continue;const Q=S.x,et=S.y,X=Q|0;X===w?(et<A?A=et:et>N&&(N=et),_=(v*_+Q)/++v):(K(),n.lineTo(Q,et),w=X,v=0,A=N=et),U=et}K()}function pm(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?SO:EO}function AO(n){return n.stepped?RM:n.tension||n.cubicInterpolationMode==="monotone"?DM:ir}function wO(n,t,e,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,s)&&r.closePath()),Ex(n,t.options),n.stroke(r)}function CO(n,t,e,s){const{segments:r,options:o}=t,c=pm(t);for(const h of r)Ex(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const RO=typeof Path2D=="function";function DO(n,t,e,s){RO&&!t.options.segment?wO(n,t,e,s):CO(n,t,e,s)}class sf extends va{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;bM(this._points,s,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kM(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,r=t[e],o=this.points,c=cx(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=AO(s);let g,_;for(g=0,_=c.length;g<_;++g){const{start:v,end:x}=c[g],S=o[v],w=o[x];if(S===w){h.push(S);continue}const A=Math.abs((r-S[e])/(w[e]-S[e])),N=f(S,w,A,s.stepped);N[e]=t[e],h.push(N)}return h.length===1?h[0]:h}pathSegment(t,e,s){return pm(this)(t,this,e,s)}path(t,e,s){const r=this.segments,o=pm(this);let c=this._loop;e=e||0,s=s||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+s-1});return!!c}draw(t,e,s,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),DO(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Yb(n,t,e,s){const r=n.options,{[e]:o}=n.getProps([e],s);return Math.abs(t-o)<r.radius+r.hitRadius}class Ax extends va{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Yb(this,t,"x",e)}inYRange(t,e){return Yb(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;this.skip||s.radius<.1||!vc(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,dm(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function wx(n,t){const{x:e,y:s,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,_,v;return n.horizontal?(v=c/2,h=Math.min(e,r),f=Math.max(e,r),g=s-v,_=s+v):(v=o/2,h=e-v,f=e+v,g=Math.min(s,r),_=Math.max(s,r)),{left:h,top:g,right:f,bottom:_}}function ca(n,t,e,s){return n?0:Bn(t,e,s)}function MO(n,t,e){const s=n.options.borderWidth,r=n.borderSkipped,o=JT(s);return{t:ca(r.top,o.top,0,e),r:ca(r.right,o.right,0,t),b:ca(r.bottom,o.bottom,0,e),l:ca(r.left,o.left,0,t)}}function NO(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=go(r),c=Math.min(t,e),h=n.borderSkipped,f=s||Bt(r);return{topLeft:ca(!f||h.top||h.left,o.topLeft,0,c),topRight:ca(!f||h.top||h.right,o.topRight,0,c),bottomLeft:ca(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:ca(!f||h.bottom||h.right,o.bottomRight,0,c)}}function OO(n){const t=wx(n),e=t.right-t.left,s=t.bottom-t.top,r=MO(n,e/2,s/2),o=NO(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function kg(n,t,e,s){const r=t===null,o=e===null,h=n&&!(r&&o)&&wx(n,s);return h&&(r||oa(t,h.left,h.right))&&(o||oa(e,h.top,h.bottom))}function IO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function VO(n,t){n.rect(t.x,t.y,t.w,t.h)}function zg(n,t,e={}){const s=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-s,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+s,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class kO extends va{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:r}}=this,{inner:o,outer:c}=OO(this),h=IO(c.radius)?Ph:VO;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,zg(c,e,o)),t.clip(),h(t,zg(o,-e,c)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),h(t,zg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,s){return kg(this,t,e,s)}inXRange(t,e){return kg(this,t,null,e)}inYRange(t,e){return kg(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function zO(n,t,e){const s=n.segments,r=n.points,o=t.points,c=[];for(const h of s){let{start:f,end:g}=h;g=af(f,g,r);const _=_m(e,r[f],r[g],h.loop);if(!t.segments){c.push({source:h,target:_,start:r[f],end:r[g]});continue}const v=cx(t,_);for(const x of v){const S=_m(e,o[x.start],o[x.end],x.loop),w=lx(h,r,S);for(const A of w)c.push({source:A,target:x,start:{[e]:Qb(_,S,"start",Math.max)},end:{[e]:Qb(_,S,"end",Math.min)}})}}return c}function _m(n,t,e,s){if(s)return;let r=t[n],o=e[n];return n==="angle"&&(r=Ni(r),o=Ni(o)),{property:n,start:r,end:o}}function LO(n,t){const{x:e=null,y:s=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=af(c,h,r);const f=r[c],g=r[h];s!==null?(o.push({x:f.x,y:s}),o.push({x:g.x,y:s})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:g.y}))}),o}function af(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function Qb(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function Cx(n,t){let e=[],s=!1;return Ie(n)?(s=!0,e=n):e=LO(n,t),e.length?new sf({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function $b(n){return n&&n.fill!==!1}function jO(n,t,e){let r=n[t].fill;const o=[t];let c;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!dn(r))return r;if(c=n[r],!c)return!1;if(c.visible)return r;o.push(r),r=c.fill}return!1}function PO(n,t,e){const s=FO(n);if(Bt(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return dn(r)&&Math.floor(r)===r?BO(s[0],t,r,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function BO(n,t,e,s){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function UO(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Bt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function HO(n,t,e){let s;return n==="start"?s=e:n==="end"?s=t.options.reverse?t.min:t.max:Bt(n)?s=n.value:s=t.getBaseValue(),s}function FO(n){const t=n.options,e=t.fill;let s=Mt(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function qO(n){const{scale:t,index:e,line:s}=n,r=[],o=s.segments,c=s.points,h=GO(t,e);h.push(Cx({x:null,y:t.bottom},s));for(let f=0;f<o.length;f++){const g=o[f];for(let _=g.start;_<=g.end;_++)YO(r,c[_],h)}return new sf({points:r,options:{}})}function GO(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const o=s[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function YO(n,t,e){const s=[];for(let r=0;r<e.length;r++){const o=e[r],{first:c,last:h,point:f}=QO(o,t,"x");if(!(!f||c&&h)){if(c)s.unshift(f);else if(n.push(f),!h)break}}n.push(...s)}function QO(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const r=s[e],o=n.segments,c=n.points;let h=!1,f=!1;for(let g=0;g<o.length;g++){const _=o[g],v=c[_.start][e],x=c[_.end][e];if(oa(r,v,x)){h=r===v,f=r===x;break}}return{first:h,last:f,point:s}}class Rx{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:r,y:o,radius:c}=this;return e=e||{start:0,end:fi},t.arc(r,o,c,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:s+Math.sin(o)*r,angle:o}}}function $O(n){const{chart:t,fill:e,line:s}=n;if(dn(e))return KO(t,e);if(e==="stack")return qO(n);if(e==="shape")return!0;const r=XO(n);return r instanceof Rx?r:Cx(r,s)}function KO(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function XO(n){return(n.scale||{}).getPointPositionForValue?ZO(n):WO(n)}function WO(n){const{scale:t={},fill:e}=n,s=UO(e,t);if(dn(s)){const r=t.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function ZO(n){const{scale:t,fill:e}=n,s=t.options,r=t.getLabels().length,o=s.reverse?t.max:t.min,c=HO(e,t,o),h=[];if(s.grid.circular){const f=t.getPointPositionForValue(0,o);return new Rx({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<r;++f)h.push(t.getPointPositionForValue(f,c));return h}function Lg(n,t,e){const s=$O(t),{chart:r,index:o,line:c,scale:h,axis:f}=t,g=c.options,_=g.fill,v=g.backgroundColor,{above:x=v,below:S=v}=_||{},w=r.getDatasetMeta(o),A=ux(r,w);s&&c.points.length&&(Zh(n,e),JO(n,{line:c,target:s,above:x,below:S,area:e,scale:h,axis:f,clip:A}),Jh(n))}function JO(n,t){const{line:e,target:s,above:r,below:o,area:c,scale:h,clip:f}=t,g=e._loop?"angle":t.axis;n.save();let _=o;o!==r&&(g==="x"?(Kb(n,s,c.top),jg(n,{line:e,target:s,color:r,scale:h,property:g,clip:f}),n.restore(),n.save(),Kb(n,s,c.bottom)):g==="y"&&(Xb(n,s,c.left),jg(n,{line:e,target:s,color:o,scale:h,property:g,clip:f}),n.restore(),n.save(),Xb(n,s,c.right),_=r)),jg(n,{line:e,target:s,color:_,scale:h,property:g,clip:f}),n.restore()}function Kb(n,t,e){const{segments:s,points:r}=t;let o=!0,c=!1;n.beginPath();for(const h of s){const{start:f,end:g}=h,_=r[f],v=r[af(f,g,r)];o?(n.moveTo(_.x,_.y),o=!1):(n.lineTo(_.x,e),n.lineTo(_.x,_.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(v.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Xb(n,t,e){const{segments:s,points:r}=t;let o=!0,c=!1;n.beginPath();for(const h of s){const{start:f,end:g}=h,_=r[f],v=r[af(f,g,r)];o?(n.moveTo(_.x,_.y),o=!1):(n.lineTo(e,_.y),n.lineTo(_.x,_.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(e,v.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function jg(n,t){const{line:e,target:s,property:r,color:o,scale:c,clip:h}=t,f=zO(e,s,r);for(const{source:g,target:_,start:v,end:x}of f){const{style:{backgroundColor:S=o}={}}=g,w=s!==!0;n.save(),n.fillStyle=S,t4(n,c,h,w&&_m(r,v,x)),n.beginPath();const A=!!e.pathSegment(n,g);let N;if(w){A?n.closePath():Wb(n,s,x,r);const U=!!s.pathSegment(n,_,{move:A,reverse:!0});N=A&&U,N||Wb(n,s,v,r)}n.closePath(),n.fill(N?"evenodd":"nonzero"),n.restore()}}function t4(n,t,e,s){const r=t.chart.chartArea,{property:o,start:c,end:h}=s||{};if(o==="x"||o==="y"){let f,g,_,v;o==="x"?(f=c,g=r.top,_=h,v=r.bottom):(f=r.left,g=c,_=r.right,v=h),n.beginPath(),e&&(f=Math.max(f,e.left),_=Math.min(_,e.right),g=Math.max(g,e.top),v=Math.min(v,e.bottom)),n.rect(f,g,_-f,v-g),n.clip()}}function Wb(n,t,e,s){const r=t.interpolate(e,s);r&&n.lineTo(r.x,r.y)}var e4={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,r=[];let o,c,h,f;for(c=0;c<s;++c)o=n.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof sf&&(f={visible:n.isDatasetVisible(c),index:c,fill:PO(h,c,s),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,r.push(f);for(c=0;c<s;++c)f=r[c],!(!f||f.fill===!1)&&(f.fill=jO(r,c,e.propagate))},beforeDraw(n,t,e){const s=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=r.length-1;c>=0;--c){const h=r[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),s&&h.fill&&Lg(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const o=s[r].$filler;$b(o)&&Lg(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!$b(s)||e.drawTime!=="beforeDatasetDraw"||Lg(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Zb=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},n4=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Jb extends va{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ue(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=fn(s.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Zb(s,o);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,g=this._fitCols(c,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let x=-1,S=-_;return this.legendItems.forEach((w,A)=>{const N=s+e/2+o.measureText(w.text).width;(A===0||g[g.length-1]+N+2*h>c)&&(v+=_,g[g.length-(A>0?0:1)]=0,S+=_,x++),f[A]={left:0,top:S,row:x,width:N,height:r},g[g.length-1]+=N+h}),v}_fitCols(t,e,s,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=c-t;let v=h,x=0,S=0,w=0,A=0;return this.legendItems.forEach((N,U)=>{const{itemWidth:k,itemHeight:K}=i4(s,e,o,N,r);U>0&&S+K+2*h>_&&(v+=x+h,g.push({width:x,height:S}),w+=x+h,A++,x=S=0),f[U]={left:w,top:S,col:A,width:k,height:K},x=Math.max(x,k),S+=K+h}),v+=x,g.push({width:x,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:r},rtl:o}}=this,c=mo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=ln(s,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=ln(s,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+r}else{let h=0,f=ln(s,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=ln(s,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Zh(t,this),this._draw(),Jh(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:r}=this,{align:o,labels:c}=t,h=Se.color,f=mo(t.rtl,this.left,this.width),g=fn(c.font),{padding:_}=c,v=g.size,x=v/2;let S;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:w,boxHeight:A,itemHeight:N}=Zb(c,v),U=function(X,D,R){if(isNaN(w)||w<=0||isNaN(A)||A<0)return;r.save();const O=Mt(R.lineWidth,1);if(r.fillStyle=Mt(R.fillStyle,h),r.lineCap=Mt(R.lineCap,"butt"),r.lineDashOffset=Mt(R.lineDashOffset,0),r.lineJoin=Mt(R.lineJoin,"miter"),r.lineWidth=O,r.strokeStyle=Mt(R.strokeStyle,h),r.setLineDash(Mt(R.lineDash,[])),c.usePointStyle){const V={radius:A*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:O},I=f.xPlus(X,w/2),j=D+x;WT(r,V,I,j,c.pointStyleWidth&&w)}else{const V=D+Math.max((v-A)/2,0),I=f.leftForLtr(X,w),j=go(R.borderRadius);r.beginPath(),Object.values(j).some(z=>z!==0)?Ph(r,{x:I,y:V,w,h:A,radius:j}):r.rect(I,V,w,A),r.fill(),O!==0&&r.stroke()}r.restore()},k=function(X,D,R){bc(r,R.text,X,D+N/2,g,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},K=this.isHorizontal(),Q=this._computeTitleHeight();K?S={x:ln(o,this.left+_,this.right-s[0]),y:this.top+_+Q,line:0}:S={x:this.left+_,y:ln(o,this.top+Q+_,this.bottom-e[0].height),line:0},ax(this.ctx,t.textDirection);const et=N+_;this.legendItems.forEach((X,D)=>{r.strokeStyle=X.fontColor,r.fillStyle=X.fontColor;const R=r.measureText(X.text).width,O=f.textAlign(X.textAlign||(X.textAlign=c.textAlign)),V=w+x+R;let I=S.x,j=S.y;f.setWidth(this.width),K?D>0&&I+V+_>this.right&&(j=S.y+=et,S.line++,I=S.x=ln(o,this.left+_,this.right-s[S.line])):D>0&&j+et>this.bottom&&(I=S.x=I+e[S.line].width+_,S.line++,j=S.y=ln(o,this.top+Q+_,this.bottom-e[S.line].height));const z=f.x(I);if(U(z,j,X),I=jD(O,I+w+x,K?I+V:this.right,t.rtl),k(f.x(I),j,X),K)S.x+=V+_;else if(typeof X.text!="string"){const Zt=g.lineHeight;S.y+=Dx(X,Zt)+_}else S.y+=et}),rx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=fn(e.font),r=ni(e.padding);if(!e.display)return;const o=mo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=s.size/2,g=r.top+f;let _,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),_=this.top+g,v=ln(t.align,v,this.right-x);else{const w=this.columnSizes.reduce((A,N)=>Math.max(A,N.height),0);_=g+ln(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const S=ln(h,v,v+x);c.textAlign=o.textAlign(op(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=s.string,bc(c,e.text,S,_,s)}_computeTitleHeight(){const t=this.options.title,e=fn(t.font),s=ni(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,r,o;if(oa(t,this.left,this.right)&&oa(e,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(r=o[s],oa(t,r.left,r.left+r.width)&&oa(e,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!r4(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=n4(r,s);r&&!o&&ue(e.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!o&&ue(e.onHover,[t,s,this],this)}else s&&ue(e.onClick,[t,s,this],this)}}function i4(n,t,e,s,r){const o=s4(s,n,t,e),c=a4(r,s,t.lineHeight);return{itemWidth:o,itemHeight:c}}function s4(n,t,e,s){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+s.measureText(r).width}function a4(n,t,e){let s=n;return typeof t.text!="string"&&(s=Dx(t,e)),s}function Dx(n,t){const e=n.text?n.text.length:0;return t*e}function r4(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Mx={id:"legend",_element:Jb,start(n,t,e){const s=n.legend=new Jb({ctx:n.ctx,options:e,chart:n});ei.configure(n,s,e),ei.addBox(n,s)},stop(n){ei.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;ei.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,r=e.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=ni(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Nx extends va{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ie(s.text)?s.text.length:1;this._padding=ni(s.padding);const o=r*fn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:r,right:o,options:c}=this,h=c.align;let f=0,g,_,v;return this.isHorizontal()?(_=ln(h,s,o),v=e+t,g=o-s):(c.position==="left"?(_=s+t,v=ln(h,r,e),f=qe*-.5):(_=o-t,v=ln(h,e,r),f=qe*.5),g=r-e),{titleX:_,titleY:v,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=fn(e.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);bc(t,e.text,0,0,s,{color:e.color,maxWidth:f,rotation:g,textAlign:op(e.align),textBaseline:"middle",translation:[c,h]})}}function o4(n,t){const e=new Nx({ctx:n.ctx,options:t,chart:n});ei.configure(n,e,t),ei.addBox(n,e),n.titleBlock=e}var Ox={id:"title",_element:Nx,start(n,t,e){o4(n,e)},stop(n){const t=n.titleBlock;ei.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;ei.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jl={average(n){if(!n.length)return!1;let t,e,s=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();s.add(f.x),r+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((h,f)=>h+f)/s.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),_=hm(t,g);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,s=f.y}return{x:e,y:s}}};function Di(n,t){return t&&(Ie(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function fs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function l4(n,t){const{element:e,datasetIndex:s,index:r}=t,o=n.getDatasetMeta(s).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[s].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:s,element:e}}function t1(n,t){const e=n.chart.ctx,{body:s,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=fn(t.bodyFont),g=fn(t.titleFont),_=fn(t.footerFont),v=o.length,x=r.length,S=s.length,w=ni(t.padding);let A=w.height,N=0,U=s.reduce((Q,et)=>Q+et.before.length+et.lines.length+et.after.length,0);if(U+=n.beforeBody.length+n.afterBody.length,v&&(A+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),U){const Q=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;A+=S*Q+(U-S)*f.lineHeight+(U-1)*t.bodySpacing}x&&(A+=t.footerMarginTop+x*_.lineHeight+(x-1)*t.footerSpacing);let k=0;const K=function(Q){N=Math.max(N,e.measureText(Q).width+k)};return e.save(),e.font=g.string,ne(n.title,K),e.font=f.string,ne(n.beforeBody.concat(n.afterBody),K),k=t.displayColors?c+2+t.boxPadding:0,ne(s,Q=>{ne(Q.before,K),ne(Q.lines,K),ne(Q.after,K)}),k=0,e.font=_.string,ne(n.footer,K),e.restore(),N+=w.width,{width:N,height:A}}function c4(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function u4(n,t,e,s){const{x:r,width:o}=s,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function h4(n,t,e,s){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return s==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),u4(g,n,t,e)&&(g="center"),g}function e1(n,t,e){const s=e.yAlign||t.yAlign||c4(n,e);return{xAlign:e.xAlign||t.xAlign||h4(n,t,e,s),yAlign:s}}function f4(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function d4(n,t,e){let{y:s,height:r}=n;return t==="top"?s+=e:t==="bottom"?s-=r+e:s-=r/2,s}function n1(n,t,e,s){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:_,topRight:v,bottomLeft:x,bottomRight:S}=go(c);let w=f4(t,h);const A=d4(t,f,g);return f==="center"?h==="left"?w+=g:h==="right"&&(w-=g):h==="left"?w-=Math.max(_,x)+r:h==="right"&&(w+=Math.max(v,S)+r),{x:Bn(w,0,s.width-t.width),y:Bn(A,0,s.height-t.height)}}function _h(n,t,e){const s=ni(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function i1(n){return Di([],fs(n))}function g4(n,t,e){return gr(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function s1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Ix={beforeTitle:us,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:us,beforeBody:us,beforeLabel:us,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Wt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:us,afterBody:us,beforeFooter:us,footer:us,afterFooter:us};function Rn(n,t,e,s){const r=n[t].call(e,s);return typeof r>"u"?Ix[t].call(e,s):r}class a1 extends va{static positioners=Jl;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&e.options.animation&&s.animations,o=new hx(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=g4(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,r=Rn(s,"beforeTitle",this,t),o=Rn(s,"title",this,t),c=Rn(s,"afterTitle",this,t);let h=[];return h=Di(h,fs(r)),h=Di(h,fs(o)),h=Di(h,fs(c)),h}getBeforeBody(t,e){return i1(Rn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,r=[];return ne(t,o=>{const c={before:[],lines:[],after:[]},h=s1(s,o);Di(c.before,fs(Rn(h,"beforeLabel",this,o))),Di(c.lines,Rn(h,"label",this,o)),Di(c.after,fs(Rn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return i1(Rn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,r=Rn(s,"beforeFooter",this,t),o=Rn(s,"footer",this,t),c=Rn(s,"afterFooter",this,t);let h=[];return h=Di(h,fs(r)),h=Di(h,fs(o)),h=Di(h,fs(c)),h}_createItems(t){const e=this._active,s=this.chart.data,r=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(l4(this.chart,e[f]));return t.filter&&(h=h.filter((_,v,x)=>t.filter(_,v,x,s))),t.itemSort&&(h=h.sort((_,v)=>t.itemSort(_,v,s))),ne(h,_=>{const v=s1(t.callbacks,_);r.push(Rn(v,"labelColor",this,_)),o.push(Rn(v,"labelPointStyle",this,_)),c.push(Rn(v,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Jl[s.position].call(this,r,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=t1(this,s),g=Object.assign({},h,f),_=e1(this.chart,s,g),v=n1(s,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,r){const o=this.getCaretPosition(t,s,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,s){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=s,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:v}=go(h),{x,y:S}=t,{width:w,height:A}=e;let N,U,k,K,Q,et;return o==="center"?(Q=S+A/2,r==="left"?(N=x,U=N-c,K=Q+c,et=Q-c):(N=x+w,U=N+c,K=Q-c,et=Q+c),k=N):(r==="left"?U=x+Math.max(f,_)+c:r==="right"?U=x+w-Math.max(g,v)-c:U=this.caretX,o==="top"?(K=S,Q=K-c,N=U-c,k=U+c):(K=S+A,Q=K+c,N=U+c,k=U-c),et=K),{x1:N,x2:U,x3:k,y1:K,y2:Q,y3:et}}drawTitle(t,e,s){const r=this.title,o=r.length;let c,h,f;if(o){const g=mo(s.rtl,this.x,this.width);for(t.x=_h(this,s.titleAlign,s),e.textAlign=g.textAlign(s.titleAlign),e.textBaseline="middle",c=fn(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,r,o){const c=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:f,boxWidth:g}=o,_=fn(o.bodyFont),v=_h(this,"left",o),x=r.x(v),S=f<_.lineHeight?(_.lineHeight-f)/2:0,w=e.y+S;if(o.usePointStyle){const A={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=r.leftForLtr(x,g)+g/2,U=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,dm(t,A,N,U),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,dm(t,A,N,U)}else{t.lineWidth=Bt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const A=r.leftForLtr(x,g),N=r.leftForLtr(r.xPlus(x,1),g-2),U=go(c.borderRadius);Object.values(U).some(k=>k!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ph(t,{x:A,y:w,w:g,h:f,radius:U}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Ph(t,{x:N,y:w+1,w:g-2,h:f-2,radius:U}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,w,g,f),t.strokeRect(A,w,g,f),t.fillStyle=c.backgroundColor,t.fillRect(N,w+1,g-2,f-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:_}=s,v=fn(s.bodyFont);let x=v.lineHeight,S=0;const w=mo(s.rtl,this.x,this.width),A=function(R){e.fillText(R,w.x(t.x+S),t.y+x/2),t.y+=x+o},N=w.textAlign(c);let U,k,K,Q,et,X,D;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=_h(this,N,s),e.fillStyle=s.bodyColor,ne(this.beforeBody,A),S=h&&N!=="right"?c==="center"?g/2+_:g+2+_:0,Q=0,X=r.length;Q<X;++Q){for(U=r[Q],k=this.labelTextColors[Q],e.fillStyle=k,ne(U.before,A),K=U.lines,h&&K.length&&(this._drawColorBox(e,t,Q,w,s),x=Math.max(v.lineHeight,f)),et=0,D=K.length;et<D;++et)A(K[et]),x=v.lineHeight;ne(U.after,A)}S=0,x=v.lineHeight,ne(this.afterBody,A),t.y-=o}drawFooter(t,e,s){const r=this.footer,o=r.length;let c,h;if(o){const f=mo(s.rtl,this.x,this.width);for(t.x=_h(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=f.textAlign(s.footerAlign),e.textBaseline="middle",c=fn(s.footerFont),e.fillStyle=s.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+s.footerSpacing}}drawBackground(t,e,s,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:_}=s,{topLeft:v,topRight:x,bottomLeft:S,bottomRight:w}=go(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,f),c==="top"&&this.drawCaret(t,e,s,r),e.lineTo(h+g-x,f),e.quadraticCurveTo(h+g,f,h+g,f+x),c==="center"&&o==="right"&&this.drawCaret(t,e,s,r),e.lineTo(h+g,f+_-w),e.quadraticCurveTo(h+g,f+_,h+g-w,f+_),c==="bottom"&&this.drawCaret(t,e,s,r),e.lineTo(h+S,f+_),e.quadraticCurveTo(h,f+_,h,f+_-S),c==="center"&&o==="left"&&this.drawCaret(t,e,s,r),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const c=Jl[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=t1(this,t),f=Object.assign({},c,this._size),g=e1(e,t,f),_=n1(t,f,g,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=ni(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,r,e),ax(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),rx(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!zh(s,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,s),h=this._positionChanged(c,t),f=e||!zh(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,s,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:s,caretY:r,options:o}=this,c=Jl[o.position].call(this,t,e);return c!==!1&&(s!==c.x||r!==c.y)}}var mp={id:"tooltip",_element:a1,positioners:Jl,afterInit(n,t,e){e&&(n.tooltip=new a1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ix},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const m4=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function p4(n,t,e,s){const r=n.indexOf(t);if(r===-1)return m4(n,t,e,s);const o=n.lastIndexOf(t);return r!==o?e:r}const _4=(n,t)=>n===null?null:Bn(Math.round(n),0,t);function r1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Vx extends Vo{static id="category";static defaults={ticks:{callback:r1}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:r,label:o}of e)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Wt(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:p4(s,t,Mt(e,t),this._addedLabels),_4(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return r1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function y4(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:g,maxTicks:_,maxDigits:v,includeBounds:x}=n,S=o||1,w=_-1,{min:A,max:N}=t,U=!Wt(c),k=!Wt(h),K=!Wt(g),Q=(N-A)/(v+1);let et=nb((N-A)/w/S)*S,X,D,R,O;if(et<1e-14&&!U&&!k)return[{value:A},{value:N}];O=Math.ceil(N/et)-Math.floor(A/et),O>w&&(et=nb(O*et/w/S)*S),Wt(f)||(X=Math.pow(10,f),et=Math.ceil(et*X)/X),r==="ticks"?(D=Math.floor(A/et)*et,R=Math.ceil(N/et)*et):(D=A,R=N),U&&k&&o&&RD((h-c)/o,et/1e3)?(O=Math.round(Math.min((h-c)/et,_)),et=(h-c)/O,D=c,R=h):K?(D=U?c:D,R=k?h:R,O=g-1,et=(R-D)/O):(O=(R-D)/et,rc(O,Math.round(O),et/1e3)?O=Math.round(O):O=Math.ceil(O));const V=Math.max(ib(et),ib(D));X=Math.pow(10,Wt(f)?V:f),D=Math.round(D*X)/X,R=Math.round(R*X)/X;let I=0;for(U&&(x&&D!==c?(e.push({value:c}),D<c&&I++,rc(Math.round((D+I*et)*X)/X,c,o1(c,Q,n))&&I++):D<c&&I++);I<O;++I){const j=Math.round((D+I*et)*X)/X;if(k&&j>h)break;e.push({value:j})}return k&&x&&R!==h?e.length&&rc(e[e.length-1].value,h,o1(h,Q,n))?e[e.length-1].value=h:e.push({value:h}):(!k||R===h)&&e.push({value:R}),e}function o1(n,t,{horizontal:e,minRotation:s}){const r=ar(s),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class v4 extends Vo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Wt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=s?o:f;if(t){const f=Vi(r),g=Vi(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=y4(r,o);return t.bounds==="ticks"&&DD(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-e)/Math.max(t.length-1,1)/2;e-=r,s+=r}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return KT(t,this.chart.options.locale,this.options.ticks.format)}}class pp extends v4{static id="linear";static defaults={ticks:{callback:XT.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=dn(t)?t:0,this.max=dn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=ar(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const rf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dn=Object.keys(rf);function l1(n,t){return n-t}function c1(n,t){if(Wt(t))return null;const e=n._adapter,{parser:s,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof s=="function"&&(c=s(c)),dn(c)||(c=typeof s=="string"?e.parse(c,s):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Ao(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function u1(n,t,e,s){const r=Dn.length;for(let o=Dn.indexOf(n);o<r-1;++o){const c=rf[Dn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=s)return Dn[o]}return Dn[r-1]}function b4(n,t,e,s,r){for(let o=Dn.length-1;o>=Dn.indexOf(e);o--){const c=Dn[o];if(rf[c].common&&n._adapter.diff(r,s,c)>=t-1)return c}return Dn[e?Dn.indexOf(e):0]}function T4(n){for(let t=Dn.indexOf(n)+1,e=Dn.length;t<e;++t)if(rf[Dn[t]].common)return Dn[t]}function h1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:r}=rp(e,t),o=e[s]>=t?e[s]:e[r];n[o]=!0}}function x4(n,t,e,s){const r=n._adapter,o=+r.startOf(t[0].value,s),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,s))f=e[h],f>=0&&(t[f].major=!0);return t}function f1(n,t,e){const s=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,s.push({value:h,major:!1});return o===0||!e?s:x4(n,s,r,e)}class d1 extends Vo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),r=this._adapter=new fN._date(t.adapters.date);r.init(e),ac(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:c1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=dn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),s),o=dn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=kD(r,o,c);return this._unit=e.unit||(s.autoSkip?u1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):b4(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:T4(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),f1(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Bn(e,0,c),s=Bn(s,0,c),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,r=this.options,o=r.time,c=o.unit||u1(o.minUnit,e,s,this._getLabelCapacity(e)),h=Mt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=Ao(f)||f===!0,_={};let v=e,x,S;if(g&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,g?"day":c),t.diff(s,e,c)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+c);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(x=v,S=0;x<s;x=+t.add(x,h,c),S++)h1(_,x,w);return(x===s||r.bounds==="ticks"||S===1)&&h1(_,x,w),Object.keys(_).sort(l1).map(A=>+A)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,s,r){const o=this.options,c=o.ticks.callback;if(c)return ue(c,[t,e,s],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&h[f],v=g&&h[g],x=s[e],S=g&&v&&x&&x.major;return this._adapter.format(t,r||(S?v:_))}generateTickLabels(t){let e,s,r;for(e=0,s=t.length;e<s;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,r=ar(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:s*o+h*c,h:s*c+h*o}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,r=s[e.unit]||s.millisecond,o=this._tickFormatFunction(t,0,f1(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,s=r.length;e<s;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const r=this.getLabels();for(e=0,s=r.length;e<s;++e)t.push(c1(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return qT(t.sort(l1))}}function yh(n,t,e){let s=0,r=n.length-1,o,c,h,f;e?(t>=n[s].pos&&t<=n[r].pos&&({lo:s,hi:r}=rr(n,"pos",t)),{pos:o,time:h}=n[s],{pos:c,time:f}=n[r]):(t>=n[s].time&&t<=n[r].time&&({lo:s,hi:r}=rr(n,"time",t)),{time:o,pos:h}=n[s],{time:c,pos:f}=n[r]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class Bk extends d1{static id="timeseries";static defaults=d1.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=yh(e,this.min),this._tableRange=yh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,r=[],o=[];let c,h,f,g,_;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=s&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],g=r[c],Math.round((_+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(yh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return yh(this._table,s*this._tableRange+this._minPos,!0)}}const kx="label";function g1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function E4(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function zx(n,t){n.labels=t}function Lx(n,t,e=kx){const s=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||s.includes(o)?{...r}:(s.push(o),Object.assign(o,r),o)})}function S4(n,t=kx){const e={labels:[],datasets:[]};return zx(e,n.labels),Lx(e,n.datasets,t),e}function A4(n,t){const{height:e=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:_,updateMode:v,...x}=n,S=mt.useRef(null),w=mt.useRef(null),A=()=>{S.current&&(w.current=new ko(S.current,{type:c,data:S4(h,o),options:f&&{...f},plugins:g}),g1(t,w.current))},N=()=>{g1(t,null),w.current&&(w.current.destroy(),w.current=null)};return mt.useEffect(()=>{!r&&w.current&&f&&E4(w.current,f)},[r,f]),mt.useEffect(()=>{!r&&w.current&&zx(w.current.config.data,h.labels)},[r,h.labels]),mt.useEffect(()=>{!r&&w.current&&h.datasets&&Lx(w.current.config.data,h.datasets,o)},[r,h.datasets]),mt.useEffect(()=>{w.current&&(r?(N(),setTimeout(A)):w.current.update(v))},[r,f,h.labels,h.datasets,v]),mt.useEffect(()=>{w.current&&(N(),setTimeout(A))},[c]),mt.useEffect(()=>(A(),()=>N()),[]),E.jsx("canvas",{ref:S,role:"img",height:e,width:s,...x,children:_})}const w4=mt.forwardRef(A4);function _p(n,t){return ko.register(t),mt.forwardRef((e,s)=>E.jsx(w4,{...e,ref:s,type:n}))}const C4=_p("line",uN),R4=_p("bar",cN),D4=_p("scatter",hN),M4="_container_1pp8x_6",N4="_header_1pp8x_15",O4="_title_1pp8x_24",I4="_controls_1pp8x_30",V4="_checkbox_1pp8x_74",k4="_checkmark_1pp8x_90",z4="_chartWrapper_1pp8x_120",tr={container:M4,header:N4,title:O4,controls:I4,checkbox:V4,checkmark:k4,chartWrapper:z4};ko.register(Vx,pp,Ax,sf,Ox,mp,Mx,e4);const Gl={postCount:{label:"",format:"number",color:"#22c55e",colorLight:"rgba(34, 197, 94, 0.1)"},avgEngagementRate:{label:"",format:"percent",color:"#06b6d4",colorLight:"rgba(6, 182, 212, 0.1)"},totalReach:{label:"",format:"number",color:"#8b5cf6",colorLight:"rgba(139, 92, 246, 0.1)"},totalShares:{label:"",format:"number",color:"#f59e0b",colorLight:"rgba(245, 158, 11, 0.1)"}},L4=["","","","","","",""];function j4({daily:n,timeRange:t,dateRange:e,selectedMetrics:s,onMetricChange:r,onDateClick:o}){const c=mt.useRef(null),[h,f]=mt.useState(s||["avgEngagementRate"]),[g,_]=mt.useState(!0);mt.useEffect(()=>{s&&s.length>0&&f(s)},[s]);const v=NR(n,t,e),x=(X,D)=>{const R=D-7;return R>=0&&v[R]?{value:v[R][X],date:v[R].date}:{value:null,date:null}},S=v.map(X=>sc(X.date,"short")),w=(X,D)=>X==null?"-":Gl[D]?.format==="percent"?Io(X):Pn(X),A=X=>{if(!X)return"";const D=new Date(X);return L4[D.getDay()]},U={labels:S,datasets:(()=>{const X=[];return h.forEach((D,R)=>{const O=Gl[D];if(!O)return;const V=v.map(I=>I[D]);if(X.push({label:O.label,data:V,borderColor:O.color,backgroundColor:R===0?O.colorLight:"transparent",borderWidth:2.5,fill:R===0,tension:.35,pointRadius:0,pointHoverRadius:6,pointBackgroundColor:O.color,pointBorderColor:"#0a1018",pointBorderWidth:2,yAxisID:R===0?"y":"y1",metricKey:D}),g){const I=v.map((j,z)=>x(D,z).value);X.push({label:`${O.label} (7)`,data:I,borderColor:O.color,borderWidth:1.5,borderDash:[5,5],fill:!1,tension:.35,pointRadius:0,pointHoverRadius:4,pointBackgroundColor:O.color,yAxisID:R===0?"y":"y1",metricKey:D,isComparison:!0,opacity:.5})}}),X})()},k=h.length===2,K=h[0],Q=h[1],et={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},onClick:(X,D)=>{if(D.length>0&&o){const R=D[0],O=R.datasetIndex,V=R.index,I=U.datasets[O];if(I.isComparison){const j=x(I.metricKey,V);j.date&&o(j.date)}else v[V]&&o(v[V].date)}},plugins:{legend:{display:!0,position:"top",align:"end",labels:{boxWidth:12,boxHeight:2,padding:20,color:"#94a3b8",font:{family:"DM Sans",size:12},usePointStyle:!0,pointStyle:"line",filter:X=>!X.text.includes("(7)")}},tooltip:{backgroundColor:"rgba(22, 32, 48, 0.95)",titleColor:"#f8fafc",bodyColor:"#e2e8f0",borderColor:"rgba(34, 197, 94, 0.3)",borderWidth:1,padding:12,cornerRadius:8,titleFont:{family:"Syne",weight:"600",size:13},bodyFont:{family:"DM Sans",size:12},callbacks:{title:X=>{const D=X[0]?.dataIndex;if(D!==void 0&&v[D]){const R=v[D].date,O=A(R);return`${sc(R,"long")} (${O})`}return""},label:X=>{const D=X.raw;if(D===null)return null;const R=X.dataset,O=R.metricKey,V=Gl[O];if(R.isComparison){const I=x(O,X.dataIndex);if(I.date){const j=A(I.date);return`${V.label}: ${w(D,O)} [${sc(I.date,"short")} ${j}]`}return null}return`${V.label}: ${w(D,O)}`},footer:()=>o?"":""},footerColor:"#94a3b8",footerFont:{size:11,style:"italic"}}},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},maxRotation:0,autoSkip:!0,maxTicksLimit:12}},y:{type:"linear",display:!0,position:"left",grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:Gl[K]?.color||"#64748b",font:{family:"DM Sans",size:11},callback:X=>w(X,K)},beginAtZero:!0},...k?{y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:Gl[Q]?.color||"#64748b",font:{family:"DM Sans",size:11},callback:X=>w(X,Q)},beginAtZero:!0}}:{}}};return E.jsxs("div",{className:tr.container,children:[E.jsxs("div",{className:tr.header,children:[E.jsx("h3",{className:tr.title,children:""}),E.jsx("div",{className:tr.controls,children:E.jsxs("label",{className:tr.checkbox,children:[E.jsx("input",{type:"checkbox",checked:g,onChange:X=>_(X.target.checked)}),E.jsx("span",{className:tr.checkmark}),E.jsx("span",{children:" 7 "})]})})]}),E.jsx("div",{className:tr.chartWrapper,children:E.jsx(C4,{ref:c,data:U,options:et})})]})}const P4="_chartCard_51htu_6",B4="_chartHeader_51htu_22",U4="_chartTitle_51htu_29",H4="_metricSelect_51htu_36",F4="_chartContainer_51htu_58",q4="_legendRow_51htu_63",G4="_legendLabel_51htu_73",Y4="_legendGradient_51htu_79",Q4="_legendValue_51htu_85",$4="_hint_51htu_93",ui={chartCard:P4,chartHeader:B4,chartTitle:U4,metricSelect:H4,chartContainer:F4,legendRow:q4,legendLabel:G4,legendGradient:Y4,legendValue:Q4,hint:$4};ko.register(Vx,pp,kO,Ox,mp);const m1=[{value:"avgER",label:"",format:"percent"},{value:"avgReach",label:"",format:"number"},{value:"count",label:"",format:"number"}];function K4(n,t,e){const s=n.replace("#",""),r=parseInt(s.substring(0,2),16),o=parseInt(s.substring(2,4),16),c=parseInt(s.substring(4,6),16),h=t.map(g=>g[e]||0),f=Math.max(...h,1);return t.map(g=>{const x=.4+(g[e]||0)/f*.6;return`rgba(${r}, ${o}, ${c}, ${x})`})}function jx({data:n,baseColor:t,title:e,onClick:s}){const r=mt.useRef(null),[o,c]=mt.useState("avgER");if(!n||!n.length)return null;const h=m1.find(k=>k.value===o),f=n.map(k=>k.name),g=n.map(k=>k[o]||0),_=K4(t,n,o);Math.max(...g,1);const v=k=>h?.format==="percent"?Io(k):Pn(k),x={labels:f,datasets:[{data:g,backgroundColor:_,borderColor:_.map(k=>k.replace(/[\d.]+\)$/,"1)")),borderWidth:1,borderRadius:4,barThickness:24}]},S={indexAxis:"y",responsive:!0,maintainAspectRatio:!1,onClick:(k,K)=>{if(K.length>0&&s){const Q=K[0].index;s(n[Q].name)}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(22, 32, 48, 0.95)",titleColor:"#f8fafc",bodyColor:"#e2e8f0",borderColor:"rgba(148, 163, 184, 0.2)",borderWidth:1,padding:12,cornerRadius:8,titleFont:{family:"Syne",weight:"600",size:13},bodyFont:{family:"DM Sans",size:12},callbacks:{title:k=>k[0]?.label||"",label:k=>{const K=k.dataIndex,Q=n[K];return[`${h?.label||o}: ${v(g[K])}`,`: ${Pn(Q.avgReach||0)}`,`: ${Q.count} `]}}}},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},callback:k=>h?.format==="percent"?k+"%":Pn(k)},beginAtZero:!0},y:{grid:{display:!1},ticks:{color:"#e2e8f0",font:{family:"DM Sans",size:12,weight:"500"},padding:8}}}},w=t.replace("#",""),A=parseInt(w.substring(0,2),16),N=parseInt(w.substring(2,4),16),U=parseInt(w.substring(4,6),16);return E.jsxs("div",{className:ui.chartCard,children:[E.jsxs("div",{className:ui.chartHeader,children:[E.jsx("h3",{className:ui.chartTitle,children:e}),E.jsx("select",{className:ui.metricSelect,value:o,onChange:k=>c(k.target.value),children:m1.map(k=>E.jsx("option",{value:k.value,children:k.label},k.value))})]}),E.jsx("div",{className:ui.chartContainer,style:{height:Math.max(n.length*44,200)},children:E.jsx(R4,{ref:r,data:x,options:S})}),E.jsxs("div",{className:ui.legendRow,children:[E.jsx("span",{className:ui.legendLabel,children:""}),E.jsx("div",{className:ui.legendGradient,style:{background:`linear-gradient(to right, rgba(${A},${N},${U},0.4), rgba(${A},${N},${U},1))`}}),E.jsx("span",{className:ui.legendLabel,children:""}),E.jsx("span",{className:ui.legendValue,children:h?.label})]}),E.jsx("p",{className:ui.hint,children:""})]})}function X4({data:n,onClick:t}){return E.jsx(jx,{data:n,baseColor:"#22c55e",title:"",onClick:t})}function W4({data:n,onClick:t}){return E.jsx(jx,{data:n,baseColor:"#06b6d4",title:"",onClick:t})}const Z4="_container_enfrg_6",J4="_header_enfrg_15",tI="_title_enfrg_24",eI="_controls_enfrg_30",nI="_checkbox_enfrg_36",iI="_checkmark_enfrg_50",sI="_legend_enfrg_72",aI="_legendLabel_enfrg_78",rI="_legendGradient_enfrg_83",oI="_heatmapWrapper_enfrg_93",lI="_hourLabels_enfrg_97",cI="_cornerSpacer_enfrg_104",uI="_hourLabel_enfrg_97",hI="_gridContainer_enfrg_116",fI="_row_enfrg_122",dI="_weekdayLabel_enfrg_128",gI="_cells_enfrg_136",mI="_cell_enfrg_136",pI="_active_enfrg_155",_I="_dimmed_enfrg_165",yI="_cellCount_enfrg_170",vI="_hint_enfrg_177",ge={container:Z4,header:J4,title:tI,controls:eI,checkbox:nI,checkmark:iI,legend:sI,legendLabel:aI,legendGradient:rI,heatmapWrapper:oI,hourLabels:lI,cornerSpacer:cI,hourLabel:uI,gridContainer:hI,row:fI,weekdayLabel:dI,cells:gI,cell:mI,active:pI,dimmed:_I,cellCount:yI,hint:vI},p1=["","","","","","",""],_1=Array.from({length:24},(n,t)=>t),Yl=2;function bI({heatmapData:n,onClick:t}){const[e,s]=mt.useState(!0),{cells:r,maxER:o,totalPosts:c}=mt.useMemo(()=>{if(!n||!n.length)return{cells:[],maxER:0,totalPosts:0};const _=new Map;n.forEach(w=>{_.set(`${w.weekday}-${w.hour}`,w)});let v=0,x=0;n.forEach(w=>{x+=w.count||0,(!e||w.count>=Yl)&&w.avgER>v&&(v=w.avgER)});const S=[];for(let w=0;w<7;w++)for(let A=0;A<24;A++){const N=_.get(`${w}-${A}`)||{weekday:w,hour:A,count:0,avgER:0};S.push(N)}return{cells:S,maxER:v,totalPosts:x}},[n,e]),h=(_,v)=>v===0?"rgba(148, 163, 184, 0.1)":e&&v<Yl?"rgba(148, 163, 184, 0.15)":_===0?"rgba(34, 197, 94, 0.35)":`rgba(34, 197, 94, ${.35+Math.min(_/o,1)*.55})`,f=_=>{t&&_.count>0&&t({weekday:_.weekday,weekdayName:p1[_.weekday],hour:_.hour})},g=_=>e?_.count>=Yl:_.count>0;return E.jsxs("div",{className:ge.container,children:[E.jsxs("div",{className:ge.header,children:[E.jsx("h3",{className:ge.title,children:""}),E.jsxs("div",{className:ge.controls,children:[E.jsxs("label",{className:ge.checkbox,children:[E.jsx("input",{type:"checkbox",checked:e,onChange:_=>s(_.target.checked)}),E.jsx("span",{className:ge.checkmark}),E.jsxs("span",{children:[" (<",Yl,")"]})]}),E.jsxs("div",{className:ge.legend,children:[E.jsx("span",{className:ge.legendLabel,children:""}),E.jsx("div",{className:ge.legendGradient}),E.jsx("span",{className:ge.legendLabel,children:""})]})]})]}),E.jsxs("div",{className:ge.heatmapWrapper,children:[E.jsxs("div",{className:ge.hourLabels,children:[E.jsx("div",{className:ge.cornerSpacer}),_1.filter((_,v)=>v%3===0).map(_=>E.jsx("span",{className:ge.hourLabel,children:_.toString().padStart(2,"0")},_))]}),E.jsx("div",{className:ge.gridContainer,children:p1.map((_,v)=>E.jsxs("div",{className:ge.row,children:[E.jsx("span",{className:ge.weekdayLabel,children:_}),E.jsx("div",{className:ge.cells,children:_1.map(x=>{const S=r.find(N=>N.weekday===v&&N.hour===x),w=g(S),A=e&&S?.count>0&&S.count<Yl;return E.jsx("div",{className:`${ge.cell} ${w?ge.active:""} ${A?ge.dimmed:""}`,style:{backgroundColor:h(S?.avgER||0,S?.count||0)},onClick:()=>w&&f(S),title:S?`${_} ${x}:00
: ${Io(S.avgER)}
: ${S.count}`:"",children:S?.count>0&&!A&&E.jsx("span",{className:ge.cellCount,children:S.count})},`${v}-${x}`)})})]},_))})]}),E.jsx("p",{className:ge.hint,children:"    "})]})}const TI="_container_r2ez3_1",xI="_tableWrapper_r2ez3_5",EI="_table_r2ez3_5",SI="_th_r2ez3_18",AI="_sortable_r2ez3_32",wI="_sorted_r2ez3_42",CI="_sortIcon_r2ez3_46",RI="_tr_r2ez3_56",DI="_td_r2ez3_66",MI="_contentLink_r2ez3_73",NI="_date_r2ez3_87",OI="_tag_r2ez3_92",II="_metric_r2ez3_101",VI="_engagement_r2ez3_107",kI="_tooltip_r2ez3_112",zI="_tooltipContent_r2ez3_125",LI="_tooltipText_r2ez3_131",jI="_tooltipMeta_r2ez3_137",PI="_tooltipRow_r2ez3_143",BI="_tooltipReactions_r2ez3_158",UI="_tooltipTags_r2ez3_168",HI="_tooltipTag_r2ez3_168",kt={container:TI,tableWrapper:xI,table:EI,th:SI,sortable:AI,sorted:wI,sortIcon:CI,tr:RI,td:DI,contentLink:MI,date:NI,tag:OI,metric:II,engagement:VI,tooltip:kI,tooltipContent:zI,tooltipText:LI,tooltipMeta:jI,tooltipRow:PI,tooltipReactions:BI,tooltipTags:UI,tooltipTag:HI};function FI({posts:n,onSort:t,sortBy:e,sortOrder:s}){const[r,o]=mt.useState(null),[c,h]=mt.useState({x:0,y:0}),f=[{key:"content",label:"",sortable:!1,width:"35%"},{key:"date",label:"",sortable:!0,width:"12%"},{key:"actionType",label:"",sortable:!1,width:"12%"},{key:"topic",label:"",sortable:!1,width:"12%"},{key:"engagement",label:"",sortable:!0,width:"10%"},{key:"reach",label:"",sortable:!0,width:"10%"},{key:"shares",label:"",sortable:!0,width:"9%"}],g=A=>{f.find(N=>N.key===A)?.sortable&&t&&t(A)},_=(A,N,U)=>{o({post:A,column:N}),x(U)},v=A=>{x(A)},x=A=>{const N=Math.min(A.clientX+16,window.innerWidth-360),U=Math.min(A.clientY+16,window.innerHeight-300);h({x:N,y:U})},S=()=>{o(null)},w=()=>{if(!r)return null;const{post:A,column:N}=r;switch(N){case"content":return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:kt.tooltipContent,children:E.jsxs("p",{className:kt.tooltipText,children:[A.content.slice(0,300),A.content.length>300?"...":""]})}),A.hashtags&&A.hashtags.length>0&&E.jsx("div",{className:kt.tooltipTags,children:A.hashtags.slice(0,5).map((U,k)=>E.jsx("span",{className:kt.tooltipTag,children:U},k))})]});case"engagement":case"reach":case"shares":return E.jsxs("div",{className:kt.tooltipMeta,children:[E.jsxs("div",{className:kt.tooltipRow,children:[E.jsx("span",{children:""}),E.jsx("span",{children:Pn(A.metrics.likes)})]}),E.jsxs("div",{className:kt.tooltipRow,children:[E.jsx("span",{children:""}),E.jsx("span",{children:Pn(A.metrics.comments)})]}),E.jsxs("div",{className:kt.tooltipRow,children:[E.jsx("span",{children:""}),E.jsx("span",{children:Pn(A.metrics.shares)})]}),E.jsxs("div",{className:kt.tooltipRow,children:[E.jsx("span",{children:""}),E.jsx("span",{children:Pn(A.metrics.reach)})]}),E.jsxs("div",{className:kt.tooltipRow,children:[E.jsx("span",{children:""}),E.jsx("span",{children:Pn(A.metrics.clicks)})]}),A.metrics.reactions&&E.jsxs("div",{className:kt.tooltipReactions,children:[E.jsxs("span",{children:[" ",A.metrics.reactions.love]}),E.jsxs("span",{children:[" ",A.metrics.reactions.wow]}),E.jsxs("span",{children:[" ",A.metrics.reactions.haha]}),E.jsxs("span",{children:[" ",A.metrics.reactions.sad]}),E.jsxs("span",{children:[" ",A.metrics.reactions.angry]})]})]});case"date":return E.jsx("div",{className:kt.tooltipMeta,children:E.jsxs("div",{className:kt.tooltipRow,children:[E.jsx("span",{children:""}),E.jsx("span",{children:sc(A.publishedAt,"full")})]})});default:return null}};return E.jsxs("div",{className:kt.container,children:[E.jsx("div",{className:kt.tableWrapper,children:E.jsxs("table",{className:kt.table,children:[E.jsx("thead",{children:E.jsx("tr",{children:f.map(A=>E.jsxs("th",{className:`${kt.th} ${A.sortable?kt.sortable:""} ${e===A.key?kt.sorted:""}`,style:{width:A.width},onClick:()=>g(A.key),children:[E.jsx("span",{children:A.label}),A.sortable&&E.jsx("span",{className:kt.sortIcon,children:e===A.key?s==="desc"?"":"":""})]},A.key))})}),E.jsx("tbody",{children:n.map((A,N)=>E.jsxs("tr",{className:kt.tr,style:{animationDelay:`${Math.min(N*.02,.5)}s`},children:[E.jsx("td",{className:kt.td,onMouseEnter:U=>_(A,"content",U),onMouseMove:v,onMouseLeave:S,children:E.jsx("a",{href:A.permalink,target:"_blank",rel:"noopener noreferrer",className:kt.contentLink,children:A.contentPreview})}),E.jsx("td",{className:kt.td,onMouseEnter:U=>_(A,"date",U),onMouseMove:v,onMouseLeave:S,children:E.jsx("span",{className:kt.date,children:sc(A.publishedAt,"shortWithTime")})}),E.jsx("td",{className:kt.td,children:E.jsx("span",{className:kt.tag,style:{backgroundColor:(lm[A.actionType]||"#64748b")+"22",color:lm[A.actionType]||"#64748b"},children:A.actionType})}),E.jsx("td",{className:kt.td,children:E.jsx("span",{className:kt.tag,style:{backgroundColor:(cm[A.topic]||"#64748b")+"22",color:cm[A.topic]||"#64748b"},children:A.topic})}),E.jsx("td",{className:kt.td,onMouseEnter:U=>_(A,"engagement",U),onMouseMove:v,onMouseLeave:S,children:E.jsx("span",{className:`${kt.metric} ${kt.engagement}`,children:Io(A.computed.engagementRate)})}),E.jsx("td",{className:kt.td,onMouseEnter:U=>_(A,"reach",U),onMouseMove:v,onMouseLeave:S,children:E.jsx("span",{className:kt.metric,children:Pn(A.metrics.reach)})}),E.jsx("td",{className:kt.td,onMouseEnter:U=>_(A,"shares",U),onMouseMove:v,onMouseLeave:S,children:E.jsx("span",{className:kt.metric,children:Pn(A.metrics.shares)})})]},A.id))})]})}),r&&E.jsx("div",{className:kt.tooltip,style:{left:c.x,top:c.y},children:w()})]})}const qI="_container_5xofn_6",GI="_header_5xofn_15",YI="_title_5xofn_19",QI="_controls_5xofn_25",$I="_controlGroup_5xofn_34",KI="_controlLabel_5xofn_41",XI="_select_5xofn_49",WI="_chartWrapper_5xofn_74",Je={container:qI,header:GI,title:YI,controls:QI,controlGroup:$I,controlLabel:KI,select:XI,chartWrapper:WI};ko.register(pp,Ax,mp,Mx);const vh=[{value:"reach",label:"",format:"number"},{value:"engagementRate",label:" (%)",format:"percent"},{value:"shares",label:"",format:"number"},{value:"clicks",label:"",format:"number"},{value:"likes",label:"",format:"number"},{value:"comments",label:"",format:"number"},{value:"totalEngagement",label:"",format:"number"}],ZI=[{value:"actionType",label:""},{value:"topic",label:""}],JI=[{value:"totalEngagement",label:""},{value:"reach",label:""},{value:"shares",label:""},{value:"fixed",label:""}];function tV({posts:n,onPointClick:t}){const e=mt.useRef(null),[s,r]=mt.useState("reach"),[o,c]=mt.useState("engagementRate"),[h,f]=mt.useState("actionType"),[g,_]=mt.useState("totalEngagement"),v=(k,K)=>{switch(K){case"reach":return k.metrics.reach;case"shares":return k.metrics.shares;case"clicks":return k.metrics.clicks;case"likes":return k.metrics.likes;case"comments":return k.metrics.comments;case"engagementRate":return k.computed.engagementRate;case"totalEngagement":return k.computed.totalEngagement;default:return 0}},x=k=>{if(g==="fixed")return 6;const K=v(k,g);return Math.min(Math.max(Math.sqrt(K)*.5,4),30)},S=mt.useMemo(()=>{if(!n||!n.length)return{datasets:[]};const k={};n.forEach(Q=>{const et=h==="actionType"?Q.actionType:Q.topic;k[et]||(k[et]=[]),k[et].push({x:v(Q,s),y:v(Q,o),r:x(Q),post:Q})});const K=h==="actionType"?lm:cm;return{datasets:Object.entries(k).map(([Q,et])=>({label:Q,data:et,backgroundColor:(K[Q]||"#64748b")+"aa",borderColor:K[Q]||"#64748b",borderWidth:1.5,pointRadius:et.map(X=>X.r),pointHoverRadius:et.map(X=>X.r+3)}))}},[n,s,o,h,g]),w=vh.find(k=>k.value===s),A=vh.find(k=>k.value===o),N=(k,K)=>K?.format==="percent"?Io(k):Pn(k),U={responsive:!0,maintainAspectRatio:!1,onClick:(k,K)=>{if(K.length>0&&t){const{datasetIndex:Q,index:et}=K[0],X=S.datasets[Q].data[et];X?.post&&t(X.post)}},plugins:{legend:{display:!0,position:"bottom",labels:{boxWidth:12,padding:16,color:"#94a3b8",font:{family:"DM Sans",size:11},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(22, 32, 48, 0.95)",titleColor:"#f8fafc",bodyColor:"#e2e8f0",borderColor:"rgba(148, 163, 184, 0.2)",borderWidth:1,padding:12,cornerRadius:8,titleFont:{family:"Syne",weight:"600",size:13},bodyFont:{family:"DM Sans",size:12},callbacks:{title:k=>{const K=k[0]?.raw;return K?.post?K.post.contentPreview?.slice(0,40)+"...":""},label:k=>{const K=k.raw;return K?.post?[`${w?.label}: ${N(K.x,w)}`,`${A?.label}: ${N(K.y,A)}`]:[]}}}},scales:{x:{title:{display:!0,text:w?.label||s,color:"#64748b",font:{family:"DM Sans",size:12,weight:"500"}},grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},callback:k=>N(k,w)}},y:{title:{display:!0,text:A?.label||o,color:"#64748b",font:{family:"DM Sans",size:12,weight:"500"}},grid:{color:"rgba(148, 163, 184, 0.06)",drawBorder:!1},ticks:{color:"#64748b",font:{family:"DM Sans",size:11},callback:k=>N(k,A)},beginAtZero:!0}}};return E.jsxs("div",{className:Je.container,children:[E.jsx("div",{className:Je.header,children:E.jsx("h3",{className:Je.title,children:""})}),E.jsxs("div",{className:Je.controls,children:[E.jsxs("label",{className:Je.controlGroup,children:[E.jsx("span",{className:Je.controlLabel,children:"X "}),E.jsx("select",{value:s,onChange:k=>r(k.target.value),className:Je.select,children:vh.map(k=>E.jsx("option",{value:k.value,children:k.label},k.value))})]}),E.jsxs("label",{className:Je.controlGroup,children:[E.jsx("span",{className:Je.controlLabel,children:"Y "}),E.jsx("select",{value:o,onChange:k=>c(k.target.value),className:Je.select,children:vh.map(k=>E.jsx("option",{value:k.value,children:k.label},k.value))})]}),E.jsxs("label",{className:Je.controlGroup,children:[E.jsx("span",{className:Je.controlLabel,children:""}),E.jsx("select",{value:h,onChange:k=>f(k.target.value),className:Je.select,children:ZI.map(k=>E.jsx("option",{value:k.value,children:k.label},k.value))})]}),E.jsxs("label",{className:Je.controlGroup,children:[E.jsx("span",{className:Je.controlLabel,children:""}),E.jsx("select",{value:g,onChange:k=>_(k.target.value),className:Je.select,children:JI.map(k=>E.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),E.jsx("div",{className:Je.chartWrapper,children:E.jsx(D4,{ref:e,data:S,options:U})})]})}const eV="_page_4ps8t_1",nV="_loading_4ps8t_7",iV="_error_4ps8t_8",sV="_spinner_4ps8t_17",aV="_header_4ps8t_33",rV="_title_4ps8t_37",oV="_subtitle_4ps8t_44",lV="_tabs_4ps8t_49",cV="_tab_4ps8t_49",uV="_active_4ps8t_74",hV="_section_4ps8t_79",fV="_sectionTitle_4ps8t_86",dV="_sectionDescription_4ps8t_93",gV="_tableWrapper_4ps8t_99",mV="_table_4ps8t_99",pV="_actionType_4ps8t_133",_V="_topic_4ps8t_138",yV="_highlight_4ps8t_143",vV="_viral_4ps8t_148",bV="_high_4ps8t_143",TV="_highPerformer_4ps8t_158",At={page:eV,loading:nV,error:iV,spinner:sV,header:aV,title:rV,subtitle:oV,tabs:lV,tab:cV,active:uV,section:hV,sectionTitle:fV,sectionDescription:dV,tableWrapper:gV,table:mV,actionType:pV,topic:_V,highlight:yV,viral:vV,high:bV,highPerformer:TV};function xV(){const[n,t]=mt.useState(null),[e,s]=mt.useState(!0),[r,o]=mt.useState(null),[c,h]=mt.useState("actionType");if(mt.useEffect(()=>{async function _(){try{s(!0);const x=await fetch("/gcaa-fb-dashboard/data/content-analysis.json");if(!x.ok)throw new Error("Failed to fetch content analysis");const S=await x.json();t(S)}catch(v){console.error("Error fetching content analysis:",v),o(v.message)}finally{s(!1)}}_()},[]),e)return E.jsx("div",{className:At.page,children:E.jsxs("div",{className:At.loading,children:[E.jsx("div",{className:At.spinner}),E.jsx("p",{children:"..."})]})});if(r)return E.jsx("div",{className:At.page,children:E.jsx("div",{className:At.error,children:E.jsxs("p",{children:[": ",r]})})});const f=_=>typeof _=="number"?_.toFixed(2)+"%":"-",g=_=>typeof _=="number"?_.toLocaleString():"-";return E.jsxs("div",{className:At.page,children:[E.jsxs("div",{className:At.header,children:[E.jsx("h2",{className:At.title,children:""}),E.jsx("p",{className:At.subtitle,children:""})]}),E.jsxs("div",{className:At.tabs,children:[E.jsx("button",{className:`${At.tab} ${c==="actionType"?At.active:""}`,onClick:()=>h("actionType"),children:""}),E.jsx("button",{className:`${At.tab} ${c==="topic"?At.active:""}`,onClick:()=>h("topic"),children:""}),E.jsx("button",{className:`${At.tab} ${c==="cross"?At.active:""}`,onClick:()=>h("cross"),children:""})]}),c==="actionType"&&n?.byActionType&&E.jsxs("div",{className:At.section,children:[E.jsx("h3",{className:At.sectionTitle,children:""}),E.jsx("div",{className:At.tableWrapper,children:E.jsxs("table",{className:At.table,children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""})]})}),E.jsx("tbody",{children:n.byActionType.map((_,v)=>E.jsxs("tr",{children:[E.jsx("td",{className:At.actionType,children:_.actionType}),E.jsx("td",{children:g(_.postCount)}),E.jsx("td",{className:At.highlight,children:f(_.avgER)}),E.jsx("td",{children:f(_.avgShareRate)}),E.jsx("td",{children:f(_.avgCommentRate)}),E.jsx("td",{className:At.viral,children:_.viralCount}),E.jsx("td",{className:At.high,children:_.highCount})]},v))})]})})]}),c==="topic"&&n?.byTopic&&E.jsxs("div",{className:At.section,children:[E.jsx("h3",{className:At.sectionTitle,children:""}),E.jsx("div",{className:At.tableWrapper,children:E.jsxs("table",{className:At.table,children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""})]})}),E.jsx("tbody",{children:n.byTopic.map((_,v)=>E.jsxs("tr",{children:[E.jsx("td",{className:At.topic,children:_.topic}),E.jsx("td",{children:g(_.postCount)}),E.jsx("td",{className:At.highlight,children:f(_.avgER)}),E.jsx("td",{children:f(_.avgShareRate)}),E.jsx("td",{children:f(_.avgCommentRate)}),E.jsx("td",{className:At.viral,children:_.viralCount}),E.jsx("td",{className:At.high,children:_.highCount})]},v))})]})})]}),c==="cross"&&n?.crossAnalysis&&E.jsxs("div",{className:At.section,children:[E.jsx("h3",{className:At.sectionTitle,children:"  "}),E.jsx("p",{className:At.sectionDescription,children:""}),E.jsx("div",{className:At.tableWrapper,children:E.jsxs("table",{className:At.table,children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""})]})}),E.jsx("tbody",{children:n.crossAnalysis.filter(_=>_.postCount>0).sort((_,v)=>v.avgER-_.avgER).slice(0,30).map((_,v)=>E.jsxs("tr",{className:_.avgER>5?At.highPerformer:"",children:[E.jsx("td",{className:At.actionType,children:_.actionType}),E.jsx("td",{className:At.topic,children:_.topic}),E.jsx("td",{children:g(_.postCount)}),E.jsx("td",{className:At.highlight,children:f(_.avgER)}),E.jsx("td",{children:f(_.avgShareRate)}),E.jsx("td",{className:At.high,children:_.highPerformerCount})]},v))})]})})]})]})}const EV="_page_4nzn2_1",SV="_loading_4nzn2_7",AV="_error_4nzn2_8",wV="_spinner_4nzn2_17",CV="_spin_4nzn2_17",RV="_header_4nzn2_33",DV="_title_4nzn2_37",MV="_subtitle_4nzn2_44",NV="_tabs_4nzn2_49",OV="_tab_4nzn2_49",IV="_active_4nzn2_74",VV="_section_4nzn2_79",kV="_sectionTitle_4nzn2_86",zV="_sectionDescription_4nzn2_93",LV="_cardGrid_4nzn2_100",jV="_trendingCard_4nzn2_106",PV="_cardHeader_4nzn2_119",BV="_badge_4nzn2_126",UV="_timeAgo_4nzn2_135",HV="_cardContent_4nzn2_140",FV="_cardStats_4nzn2_151",qV="_stat_4nzn2_157",GV="_statLabel_4nzn2_162",YV="_statValue_4nzn2_169",QV="_tableWrapper_4nzn2_176",$V="_table_4nzn2_176",KV="_actionType_4nzn2_210",XV="_topic_4nzn2_215",WV="_highlight_4nzn2_220",ZV="_high_4nzn2_220",JV="_highPerformer_4nzn2_230",tk="_score_4nzn2_234",ek="_link_4nzn2_240",nk="_recommendBadge_4nzn2_251",ik="_tierBadge_4nzn2_277",sk="_viral_4nzn2_285",ak="_average_4nzn2_295",rk="_low_4nzn2_300",ok="_comparisonGrid_4nzn2_306",lk="_comparisonCard_4nzn2_312",ck="_organic_4nzn2_319",uk="_paid_4nzn2_323",hk="_comparisonTitle_4nzn2_327",fk="_comparisonStats_4nzn2_334",ot={page:EV,loading:SV,error:AV,spinner:wV,spin:CV,header:RV,title:DV,subtitle:MV,tabs:NV,tab:OV,active:IV,section:VV,sectionTitle:kV,sectionDescription:zV,cardGrid:LV,trendingCard:jV,cardHeader:PV,badge:BV,timeAgo:UV,cardContent:HV,cardStats:FV,stat:qV,statLabel:GV,statValue:YV,tableWrapper:QV,table:$V,actionType:KV,topic:XV,highlight:WV,high:ZV,highPerformer:JV,score:tk,link:ek,recommendBadge:nk,:"__4nzn2_259",:"__4nzn2_260",:"__4nzn2_265",:"__4nzn2_270",:"__4nzn2_271",tierBadge:ik,viral:sk,average:ak,low:rk,comparisonGrid:ok,comparisonCard:lk,organic:ck,paid:uk,comparisonTitle:hk,comparisonStats:fk};function dk(){const[n,t]=mt.useState(null),[e,s]=mt.useState(!0),[r,o]=mt.useState(null),[c,h]=mt.useState("trending");if(mt.useEffect(()=>{async function _(){try{s(!0);const x=await fetch("/gcaa-fb-dashboard/data/ad-analytics.json");if(!x.ok)throw new Error("Failed to fetch ad analytics");const S=await x.json();t(S)}catch(v){console.error("Error fetching ad analytics:",v),o(v.message)}finally{s(!1)}}_()},[]),e)return E.jsx("div",{className:ot.page,children:E.jsxs("div",{className:ot.loading,children:[E.jsx("div",{className:ot.spinner}),E.jsx("p",{children:"..."})]})});if(r)return E.jsx("div",{className:ot.page,children:E.jsx("div",{className:ot.error,children:E.jsxs("p",{children:[": ",r]})})});const f=_=>typeof _=="number"?_.toFixed(2)+"%":"-",g=_=>typeof _=="number"?_.toLocaleString():"-";return E.jsxs("div",{className:ot.page,children:[E.jsxs("div",{className:ot.header,children:[E.jsx("h2",{className:ot.title,children:""}),E.jsx("p",{className:ot.subtitle,children:""})]}),E.jsxs("div",{className:ot.tabs,children:[E.jsx("button",{className:`${ot.tab} ${c==="trending"?ot.active:""}`,onClick:()=>h("trending"),children:""}),E.jsx("button",{className:`${ot.tab} ${c==="recommendations"?ot.active:""}`,onClick:()=>h("recommendations"),children:""}),E.jsx("button",{className:`${ot.tab} ${c==="combos"?ot.active:""}`,onClick:()=>h("combos"),children:""}),E.jsx("button",{className:`${ot.tab} ${c==="comparison"?ot.active:""}`,onClick:()=>h("comparison"),children:" vs "})]}),c==="trending"&&n?.trendingPosts&&E.jsxs("div",{className:ot.section,children:[E.jsx("h3",{className:ot.sectionTitle,children:""}),E.jsx("p",{className:ot.sectionDescription,children:""}),E.jsx("div",{className:ot.cardGrid,children:n.trendingPosts.slice(0,6).map((_,v)=>E.jsxs("div",{className:ot.trendingCard,children:[E.jsxs("div",{className:ot.cardHeader,children:[E.jsxs("span",{className:ot.badge,children:["#",v+1]}),E.jsxs("span",{className:ot.timeAgo,children:[_.hoursSincePost,""]})]}),E.jsx("p",{className:ot.cardContent,children:_.messagePreview||""}),E.jsxs("div",{className:ot.cardStats,children:[E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:ot.statValue,children:g(_.reach)})]}),E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:ot.statValue,children:g(_.currentEngagement)})]}),E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:`${ot.statValue} ${ot.highlight}`,children:f(_.engagementRate)})]}),E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:ot.statValue,children:_.engagementPerHour.toFixed(1)})]})]})]},v))})]}),c==="recommendations"&&n?.recommendations&&E.jsxs("div",{className:ot.section,children:[E.jsx("h3",{className:ot.sectionTitle,children:""}),E.jsx("p",{className:ot.sectionDescription,children:""}),E.jsx("div",{className:ot.tableWrapper,children:E.jsxs("table",{className:ot.table,children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""})]})}),E.jsx("tbody",{children:n.recommendations.sort((_,v)=>v.adPotentialScore-_.adPotentialScore).slice(0,20).map((_,v)=>E.jsxs("tr",{children:[E.jsx("td",{children:E.jsx("span",{className:`${ot.recommendBadge} ${ot[_.adRecommendation?.replace(/\s/g,"")||"default"]}`,children:_.adRecommendation||"-"})}),E.jsx("td",{className:ot.score,children:_.adPotentialScore}),E.jsx("td",{children:E.jsx("span",{className:`${ot.tierBadge} ${ot[_.performanceTier]||""}`,children:_.performanceTier})}),E.jsx("td",{children:_.formatType}),E.jsx("td",{children:_.issueTopic}),E.jsx("td",{children:_.createdTime?.slice(0,10)||"-"}),E.jsx("td",{children:_.permalinkUrl&&E.jsx("a",{href:_.permalinkUrl,target:"_blank",rel:"noopener noreferrer",className:ot.link,children:""})})]},v))})]})})]}),c==="combos"&&n?.bestCombos&&E.jsxs("div",{className:ot.section,children:[E.jsx("h3",{className:ot.sectionTitle,children:""}),E.jsx("p",{className:ot.sectionDescription,children:""}),E.jsx("div",{className:ot.tableWrapper,children:E.jsxs("table",{className:ot.table,children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""}),E.jsx("th",{children:""})]})}),E.jsx("tbody",{children:n.bestCombos.filter(_=>_.postCount>0).sort((_,v)=>v.avgER-_.avgER).slice(0,20).map((_,v)=>E.jsxs("tr",{className:_.avgER>5?ot.highPerformer:"",children:[E.jsx("td",{className:ot.topic,children:_.issueTopic}),E.jsx("td",{className:ot.actionType,children:_.formatType}),E.jsx("td",{children:_.timeSlot}),E.jsx("td",{children:_.dayName}),E.jsx("td",{children:_.postCount}),E.jsx("td",{className:ot.highlight,children:f(_.avgER)}),E.jsx("td",{className:ot.high,children:_.highPerformers})]},v))})]})})]}),c==="comparison"&&n?.organicVsPaid&&E.jsxs("div",{className:ot.section,children:[E.jsx("h3",{className:ot.sectionTitle,children:" vs "}),E.jsx("p",{className:ot.sectionDescription,children:""}),E.jsx("div",{className:ot.comparisonGrid,children:n.organicVsPaid.map((_,v)=>E.jsxs("div",{className:`${ot.comparisonCard} ${_.type==="paid"?ot.paid:ot.organic}`,children:[E.jsx("h4",{className:ot.comparisonTitle,children:_.type==="organic"?"":""}),E.jsxs("div",{className:ot.comparisonStats,children:[E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:ot.statValue,children:g(_.postCount)})]}),E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:ot.statValue,children:g(_.totalReach)})]}),E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:ot.statValue,children:g(_.totalEngagement)})]}),E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:`${ot.statValue} ${ot.highlight}`,children:f(_.avgER)})]}),E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:ot.statValue,children:f(_.avgShareRate)})]}),E.jsxs("div",{className:ot.stat,children:[E.jsx("span",{className:ot.statLabel,children:""}),E.jsx("span",{className:ot.statValue,children:f(_.avgCommentRate)})]})]})]},v))})]})]})}const gk="_app_71ee7_1",mk="_main_71ee7_8",pk="_page_71ee7_16",_k="_chartRow_71ee7_22",yk="_placeholder_71ee7_28",vk="_resultsInfo_71ee7_43",bk="_resultCount_71ee7_49",Tk="_clearFilterBtn_71ee7_59",xk="_footer_71ee7_75",Ek="_loading_71ee7_97",Sk="_loadingContent_71ee7_105",Ak="_loadingSpinner_71ee7_109",wk="_error_71ee7_129",Ck="_errorContent_71ee7_137",Rk="_errorIcon_71ee7_143",Dk="_retryBtn_71ee7_159",Ve={app:gk,main:mk,page:pk,chartRow:_k,placeholder:yk,resultsInfo:vk,resultCount:bk,clearFilterBtn:Tk,footer:xk,loading:Ek,loadingContent:Sk,loadingSpinner:Ak,error:wk,errorContent:Ck,errorIcon:Rk,retryBtn:Dk};function Mk(){return E.jsx("div",{className:Ve.loading,children:E.jsxs("div",{className:Ve.loadingContent,children:[E.jsx("div",{className:Ve.loadingSpinner}),E.jsx("p",{children:"..."})]})})}function Nk({message:n}){return E.jsx("div",{className:Ve.error,children:E.jsxs("div",{className:Ve.errorContent,children:[E.jsx("svg",{className:Ve.errorIcon,viewBox:"0 0 24 24",width:"48",height:"48",children:E.jsx("path",{fill:"#f59e0b",d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})}),E.jsx("h2",{children:""}),E.jsx("p",{children:n}),E.jsx("button",{onClick:()=>window.location.reload(),className:Ve.retryBtn,children:""})]})})}function Ok({daily:n,stats:t,timeRange:e,dateRange:s,onTimeRangeChange:r,onDateRangeChange:o,onChartClick:c}){const[h,f]=mt.useState(["avgEngagementRate"]);return E.jsxs("div",{className:Ve.page,children:[E.jsx(ep,{timeRange:e,onTimeRangeChange:r,dateRange:s,onDateRangeChange:o}),E.jsx($R,{stats:t,daily:n,timeRange:e,dateRange:s,selectedMetrics:h,onMetricChange:f}),n&&n.length>0?E.jsx(j4,{daily:n,timeRange:e,dateRange:s,selectedMetrics:h,onMetricChange:f,onDateClick:g=>c("date",g)}):E.jsx("div",{className:Ve.placeholder,children:""}),E.jsxs("div",{className:Ve.chartRow,children:[t?.byActionType?.length>0?E.jsx(X4,{data:t.byActionType,onClick:g=>c("actionType",g)}):E.jsx("div",{className:Ve.placeholder,children:""}),t?.byTopic?.length>0?E.jsx(W4,{data:t.byTopic,onClick:g=>c("topic",g)}):E.jsx("div",{className:Ve.placeholder,children:""})]}),E.jsx(bI,{heatmapData:t?.heatmap,onClick:g=>c("time",g)})]})}function Ik({posts:n,stats:t,timeRange:e,dateRange:s,onTimeRangeChange:r,onDateRangeChange:o,presetFilter:c,onClearPresetFilter:h}){const[f,g]=mt.useState({timeRange:e,dateRange:s,actionType:"all",topic:"all",search:"",sortBy:"date",sortOrder:"desc",hour:null,weekday:null});mt.useMemo(()=>{if(c){const w={...f,timeRange:e,dateRange:s,hour:null,weekday:null};c.type==="actionType"?w.actionType=c.value:c.type==="topic"?w.topic=c.value:c.type==="time"&&(w.hour=c.value.hour,w.weekday=c.value.weekday),g(w)}else g(w=>({...w,timeRange:e,dateRange:s,hour:null,weekday:null}))},[e,s,c]);const _=zT(n,f),v=w=>{g(A=>({...A,sortBy:w,sortOrder:A.sortBy===w&&A.sortOrder==="desc"?"asc":"desc"}))},x=()=>{g(w=>({...w,actionType:"all",topic:"all",hour:null,weekday:null})),h?.()},S=c||f.actionType!=="all"||f.topic!=="all"||f.hour!==null;return E.jsxs("div",{className:Ve.page,children:[E.jsx(ep,{timeRange:f.timeRange,onTimeRangeChange:w=>{g(A=>({...A,timeRange:w})),r(w),h?.()},dateRange:f.dateRange,onDateRangeChange:w=>{g(A=>({...A,dateRange:w})),o(w)},actionTypes:t?.byActionType||[],topics:t?.byTopic||[],selectedActionType:f.actionType,onActionTypeChange:w=>{g(A=>({...A,actionType:w})),h?.()},selectedTopic:f.topic,onTopicChange:w=>{g(A=>({...A,topic:w})),h?.()},search:f.search,onSearchChange:w=>g(A=>({...A,search:w})),showSearch:!0,showFilters:!0}),E.jsxs("div",{className:Ve.resultsInfo,children:[E.jsxs("span",{className:Ve.resultCount,children:[" ",E.jsx("strong",{children:_.length})," "]}),S&&E.jsx("button",{className:Ve.clearFilterBtn,onClick:x,children:""})]}),E.jsx(FI,{posts:_,sortBy:f.sortBy,sortOrder:f.sortOrder,onSort:v})]})}function Vk({posts:n,timeRange:t,dateRange:e,onTimeRangeChange:s,onDateRangeChange:r}){const[o,c]=mt.useState({timeRange:t,dateRange:e});mt.useMemo(()=>{c(g=>({...g,timeRange:t,dateRange:e}))},[t,e]);const h=zT(n,o),f=g=>{g?.permalink&&window.open(g.permalink,"_blank")};return E.jsxs("div",{className:Ve.page,children:[E.jsx(ep,{timeRange:o.timeRange,onTimeRangeChange:g=>{c(_=>({..._,timeRange:g})),s(g)},dateRange:o.dateRange,onDateRangeChange:g=>{c(_=>({..._,dateRange:g})),r(g)}}),E.jsx(tV,{posts:h,onPointClick:f})]})}function kk(){const{posts:n,daily:t,stats:e,loading:s,error:r}=FC(),[o,c]=mt.useState("dashboard"),[h,f]=mt.useState("12"),[g,_]=mt.useState({start:"",end:""}),[v,x]=mt.useState(null),S=(w,A)=>{w==="date"?(f("custom"),_({start:A,end:A}),x({type:"date",value:A})):w==="actionType"?x({type:"actionType",value:A}):w==="topic"?x({type:"topic",value:A}):w==="time"&&x({type:"time",value:A}),c("explorer")};return s?E.jsx(Mk,{}):r?E.jsx(Nk,{message:r}):E.jsxs("div",{className:Ve.app,children:[E.jsx(aR,{activeTab:o,onTabChange:c,onLogoClick:()=>c("dashboard")}),E.jsxs("main",{className:Ve.main,children:[o==="dashboard"&&E.jsx(Ok,{daily:t,stats:e,timeRange:h,dateRange:g,onTimeRangeChange:f,onDateRangeChange:_,onChartClick:S}),o==="explorer"&&E.jsx(Ik,{posts:n,stats:e,timeRange:h,dateRange:g,onTimeRangeChange:f,onDateRangeChange:_,presetFilter:v,onClearPresetFilter:()=>x(null)}),o==="analytics"&&E.jsx(Vk,{posts:n,timeRange:h,dateRange:g,onTimeRangeChange:f,onDateRangeChange:_}),o==="content"&&E.jsx(xV,{}),o==="ads"&&E.jsx(dk,{})]}),E.jsx("footer",{className:Ve.footer,children:E.jsxs("p",{children:["",e?.lastUpdated?new Date(e.lastUpdated).toLocaleString("zh-TW"):"-","  ",E.jsx("a",{href:"https://gcaa.org.tw",target:"_blank",rel:"noopener noreferrer",children:""}),"  ",E.jsx("a",{href:"https://litostswirrl.github.io/gcaa-dashboard/",target:"_blank",rel:"noopener noreferrer",children:""})]})})]})}TS.createRoot(document.getElementById("root")).render(E.jsx(mt.StrictMode,{children:E.jsx(kk,{})}));
