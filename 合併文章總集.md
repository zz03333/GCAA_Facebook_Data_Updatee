**Docs Graph API Overview Access Levels**

On This Page

## Access Levels

```
This document is only applicable to apps created using an App Type.
```
```
Advanced Access now requires Business Verification
```
```
As of February 1, 2023 apps requesting advanced access for permissions may have to be
connected to a verified business. See this blog post for more information.
```
Access levels are an additional layer of Graph API authorization that apply to permissions and features
for Business, Consumer, and Gaming apps.

There are two access levels: Standard and Advanced. Apps can request permissions with Advanced
Access from any app user, and features with Advanced Access are active for all app users. Permissions
with Standard Access, however, can only be requested from app users who have a role on the


requesting app, and features with Standard Access are only active for app users who have a role on
the app.

If your app will only be used by people who have a role on it, the permissions and features your app
requires will only need Standard Access. If your app will be used by people who do not have a role on
it, the permissions and features that your app requires will need Advanced Access.

All Business, Consumer, and Gaming apps are automatically approved for Standard Access for all
permissions and features. Advanced Access, however, must be approved on an individual permission
and feature basis through the App Review process.

###### Standard Access

Permissions with Standard Access can only be requested from app users who have a role on the
requesting app. Similarly, features with Standard Access are only active for app users who have a role
on the app.

Business, Consumer, and Gaming apps are automatically approved for Standard Access for all
permissions and features available to their app type.

Standard Access is intended for apps that will only be used by people who have roles on them, or used
during app development, when testing API endpoints that the calling app has not been approved for.

###### Advanced Access

Permissions with Advanced Access can be requested from any app user, and features with Advanced
Access are active for all app users. However, Business Verification is required to get Advanced Access.
In some cases additional App Review on an individual permission and feature basis might be required.

Automatic Approval

Business and Gaming apps created before February 16, 2021 were automatically approved for
Advanced Access for the email and public_profile permissions, as well as any permissions or features
that were already approved through App Review, if they were using them.

All newly created Consumer apps are automatically approved for Advanced Access for the email and
public_profile permissions. However, both permissions are set to Standard Access by default and must
be manually switched to Advanced Access. In addition, consumer apps must be in Live mode before
they can request permissions with Advanced Access from non-role app users, and before features with
Advanced Access will be active for non-role users.


```
Graph API
Overview
Access Levels
Facebook SDKs
Paginated Results
Rate Limits
Versioning
Status, Support, and Tools
Get Started
Batch Requests
```
###### Data Use Checkup

Apps that have Advanced Access for a permission or feature must complete Data Use Checkup, which
is an annual process to certify that the app accesses Facebook APIs, products, and data in compliance
with our Platform Terms and Developer Policies.

###### Remove Access

If you want to signify that your app does not need a specific permission or feature, you can remove it
by clicking the trash can icon alongside the permission or feature in the App Review > Permissions
and Features panel. You can restore access to a removed permission or feature by searching for it
again in the same panel and clicking its Get Standard Access button or Get Advanced Access button.
Restoring Advanced Access to previously approved permissions or features does not require re-
review.

All permissions and features can be removed except for public_profile.

###### Changing Access Levels

App administrators can change access levels for individual permissions and features. Restoring
Advanced Access to permissions and features does not require re-review, but changing from
Advanced to Standard will invalidate/deactivate any permission/feature for any app users who do not
have a role on your app.


Debug Requests

Handle Errors

Field Expansion
Secure Requests

Upload a File or Video

Changelog

Features Reference

Permissions Reference

Reference


**Docs Marketing API Get Started Ad Optimization Basics**

On This Page

## Ad Optimization Basics

The Marketing API offers endpoints to manage audiences and analyze advertising campaign insights.
Understanding these endpoints and their functionalities is important for both new and experienced
developers looking to optimize their advertising strategies.

###### Ad Optimization Endpoints

The **customaudiences** endpoint

The customaudiences endpoint allows you to create and manage custom and lookalike audiences,
tailoring ads to specific user segments based on demographics, interests, and behaviors.

Example API Request

```
curl -X POST \
https: //graph.facebook.com/v23.0/act_<AD_ACCOUNT_ID>/customaudiences \
```
- F 'name=My Custom Audience' \
- F 'subtype=CUSTOM' \
- F 'access_token=<ACCESS_TOKEN>'

The **insights** endpoint

The insights endpoint provides valuable analytics about the performance of campaigns, ad sets, and
ads, allowing you to track key metrics such as impressions, clicks, and conversions.

Example API Request

```
curl -X GET \
https: //graph.facebook.com/v23.0/act_<AD_ACCOUNT_ID>/insights \
```
- F 'fields=impressions,clicks,spend' \
- F 'time_range={"since":"2023-01-01","until":"2023-12-31"}' \
- F 'access_token=<ACCESS_TOKEN>'


**Marketing API**

Overview
Get Started

```
Authorization
Authentication
Basic Ad Creation
Manage Campaigns
Ad Optimization Basics
Monitoring and Analytics
Optimization Tips
```
Ad Creative

Bidding
Ad Rules Engine

Audiences

Insights API

Brand Safety and Suitability

Best Practices

Troubleshooting

API Reference

Changelog

##### Next →

Monitoring and Analytics


**Docs Marketing API Insights API Ad Volume**

On This Page

## Ad Volume

```
View the volume of ads running or in review for your ad accounts. These ads count against the
ads limit per page that we enacted in early 2021. Query the number of ads running or in review
for a given ad account.
```
###### View Ad Volume for Your Ad Account

To see the ad volume for your ad account:

```
curl -G \
```
- d "access_token=<ACCESS_TOKEN>" \
"https://graph.facebook.com/v<API_VERSION>/act_<AD_ACCOUNT_ID>/ads_volume"

Response

```
{"data":[{"ads_running_or_in_review_count": 2 }]}
```
For information on managing ad volume, see About Managing Ad Volume.

###### View Running or In Review Status

To see if an ad is running or in review, we check effective_status, then configured_status, and
the ad account's status:

```
If an ad has effective_status of 1 - active, we consider it in running or in review state.
If an ad has configured_status of active and effective_status of 9 - pending review or
17 - pending processing, we consider it a running or in review.
The ad can be running or in review only if the ad account status is in 1 - active, 8 - pending
settlement, or 9 - in grace period.
```
We also determine if an ad is running or in review based on the ad set's schedule:


```
If start time is before current time, and current time is before end time, then we consider the ad
running or in review.
If start time is before current time and the ad set has no end time, we also consider it running or
in review.
```
For example, if the ad set is scheduled to run in the future, the ads are not running or in review.
However, if the ad set is scheduled to run from now until 3 months from now, we consider the ads
running or in review.

If you are using special ads scheduling features, such as day-parting, we consider the ad running or in
review the whole day not just for the part of the day when the ad starts running.

###### Breakdown by Actors

Use the show_breakdown_by_actor field to get a breakdown of ad limits by a specific actor_id:

```
curl -G \
```
- d "show_breakdown_by_actor=true" \
- d "access_token=<ACCESS_TOKEN>" \
"https://graph.facebook.com/v<API_VERSION>/act_<AD_ACCOUNT_ID>/ads_volume"

Response

```
{
"data": [
{
"ads_running_or_in_review_count": 0 ,
"current_account_ads_running_or_in_review_count": 0 ,
"actor_id": "<ACTOR_ID_1>",
"recommendations": [
]
},
{
"ads_running_or_in_review_count": 2 ,
"current_account_ads_running_or_in_review_count": 2 ,
"actor_id": "<ACTOR_ID_2>",
"recommendations": [
]
}
],
}
```
Use page_id to get the ad limits for a specific page:


```
curl -G \
```
- d "page_id=<PAGE_ID>" \
- d "access_token=<ACCESS_TOKEN>" \
"https://graph.facebook.com/v<API_VERSION>/act_<AD_ACCOUNT_ID>/ads_volume"

Response

```
{
"data": [
{
"ads_running_or_in_review_count": 2 ,
"current_account_ads_running_or_in_review_count": 2 ,
"actor_id": "<ACTOR_ID>",
"recommendations": [
]
}
],
}
```
Supported Fields

```
FieldField DescriptionDescription
```
```
actor_id Actor that the limit is enforced against. Currently,
this is always the page ID.
```
```
ads_running_or_in_review_count Number of ads running or in review for a specific
actor.
```
```
current_account_ads_running_or_in_revi
ew_count
```
```
Number of ads running or in review within the
current ad account on a specific actor.
```
```
actor_name Actor that the ads volume aggregated on. Currently,
it can only be page name.
```
```
ad_limit_scope_business Used in cases where an ad account belongs to a
Business Manager and the ad account is subject to
Business Manager level ad limits.
```

```
FieldField DescriptionDescription
This field has the business that defines the ad limits
for an ad account.
```
ad_limit_scope_business_manager_id Used in cases where an ad account belongs to a
Business Manager **and** the ad account is subject to
Business Manager level ad limits.

```
This field has the Business Manager ID for a
business that defines the ad limits for an ad
account.
```
ad_limit_set_by_page_admin Ad limit set by a page admin for the business that
owns the ad account.

ads_running_or_in_review_count_subject
_to_limit_set_by_page

```
Number of ads running or in review for a group of ad
accounts. In this case, the group can contain ad
accounts that belong to a business or individual ad
accounts.
```
```
If ad limit is not set by the page owner, it returns
null.
```
```
If ad limit is set by the page owner, it returns the
number of ads running or in review for the group of
ad accounts.
```
future_limit_activation_date Starting date of ad limit that will be effective in the
future.

future_limit_on_ads_running_or_in_revi
ew

```
Ad limit that will be effective in the future. This limit
is related to the number of ads running or in review
for the given actor.
```

```
Marketing API
Overview
Get Started
Ad Creative
Bidding
Ad Rules Engine
```
```
FieldField DescriptionDescription
```
```
limit_on_ads_running_or_in_review Current ad limit for a given actor ID. This limit is
related to the number of ads running or in review.
```
```
recommendations Recommendations to help reduce the ad volume.
Currently, supported values are:
```
```
zero_impression
learning_limited
top_campaigns_with_ads_under_cap
top_adsets_with_ads_under_cap
```
```
More information can be found in the Business Help
Center.
```
Parameters

```
FieldField DescriptionDescription
```
```
recommendation_type Type of the recommendation to help reduce the ad volume.
Currently, supported values are:
```
```
zero_impression
learning_limited
top_campaigns_with_ads_under_cap
top_adsets_with_ads_under_cap
```
```
See more information about managing ad volume.
```

Audiences

Insights API

```
Breakdowns
Limits & Best Practices
Tracking and Conversion Specs
Marketing Mix Modeling
Conversion Lift Measurement
Split Testing
Ad Volume
Offline Conversions
App Events API
```
Brand Safety and Suitability

Best Practices
Troubleshooting

API Reference

Changelog


**Docs Marketing API Insights API Breakdowns**

On This Page

## Insights API Breakdowns

You can group the Insights API results into different sets using breakdowns.

The Insights API can return several metrics that are estimated, in development, or both. Insights
breakdown values are estimated. For more information, see Insights API, Estimated and Deprecated
Metrics.

###### Limitations

Unavailable fields

The following fields cannot be requested when specifying a breakdown:

```
app_store_clicks
newsfeed_avg_position
newsfeed_clicks
relevance_score
newsfeed_impressions
```
Restrictions for Off-Meta Action Metrics

The following breakdowns will no longer be available for off-Meta action metrics.

Type 1
region
dma
hourly_stats_aggregated_by_audience_time_zone
hourly_stats_aggregated_by_advertiser_time_zone

Type 2
action_device
action_destination


```
action_target_id
product_id
action_carousel_card_id/action_carousel_card_name
action_canvas_component_name
```
Rules related to queries containing above breakdowns:

```
Type 1 — The Insights API will not return unsupported offsite metrics (e.g., actions metric with
Type 1 breakdowns).
Type 2 — Offsite web metrics will continue to be returned from the API, however will not contain
the breakdown value. The mobile metrics will not be returned anymore when queried with these
breakdowns.
```
Note: The breakdowns listed above will still be supported for on-Meta metrics such as impressions,
link clicks, etc. The changes will also not impact historical data prior to April 27, 2021; breakdowns for
historical data will continue to be available.

Action Metrics

Metrics will not be available under the following scenarios:

```
When there is an attempted aggregation across multiple attribution settings
When requested with impacted breakdowns (this restriction only applies for off-Meta & action
types).
```
Note: Metrics will be available if querying with
action_attribution_windows=1d_click,7d_click,1d_view,incrementality (not including
the default window).

###### Generic Breakdowns

The following breakdowns are available.

```
BreakdownBreakdown DescriptionDescription
```
```
action_device The device on which the conversion event you're
tracking occurred. For example, \"Desktop\" if
someone converted on a desktop computer.
```
```
action_canvas_component_name Name of a component within a Canvas ad.
```

```
BreakdownBreakdown DescriptionDescription
```
action_carousel_card_id The ID of the specific carousel card that people
engaged with when they saw your ad.

action_carousel_card_name The specific carousel card that people engaged with
when they saw your ad. The cards are identified by
their headlines.

action_destination The destination where people go after clicking on
your ad. This could be your Facebook Page, an
external URL for your conversion pixel or an app
configured with the software development kit (SDK).

action_reaction The number of reactions on your ads or boosted
posts. The reactions button on an ad allows people
to share different reactions on its content: Like,
Love, Haha, Wow, Sad or Angry.

action_target_id The ID of destination where people go after clicking
on your ad. This could be your Facebook Page, an
external URL for your conversion pixel or an app
configured with the software development kit (SDK).

action_type The kind of actions taken on your ad, Page, app or
event after your ad was served to someone, even if
they didn't click on it. Action types include Page
likes, app installs, conversions, event responses,
and more.

action_video_sound The sound status (on/off) when someone plays your
video ad.

action_video_type Video metrics breakdown.

ad_format_asset The ID of the ad format asset involved in
impression, click, or action


```
BreakdownBreakdown DescriptionDescription
```
age The age range of the people you've reached.

app_id The ID of the application associated with the ad
account or campaign requested. The application
information, including its ID, is viewable in the App
Dashboard.

```
This breakdown is only supported by
the total_postbacks field.
```
body_asset The ID of the body asset involved in impression,
click, or action.

call_to_action_asset The ID of the call to action asset involved in
impression, click, or action.

country The country where the people you've reached are
located. This is based on information, such as a
person's hometown, their current city, and the
geographical location where they tend to be when
they visit Meta.

description_asset The ID of the description asset involved in
impression, click, or action.

device_platform The type of device, mobile or desktop, used by
people when they viewed or clicked on an ad, as
shown in ads reporting.

dma The Designated Market Area (DMA) regions are the
210 geographic areas in the United States in which
local television viewing is measured by The Nielsen
Company.


```
BreakdownBreakdown DescriptionDescription
```
frequency_value The number of times an ad in your Reach and
Frequency campaign was served to each Accounts
Center account.

gender Gender of people you've reached. People who don't
list their gender are shown as 'not specified'.

hourly_stats_aggregated_by_advertiser_
time_zone

```
Hourly breakdown aggregated by the time ads were
delivered in the advertiser's time zone. For example,
if your ads are scheduled to run from 9 AM to 1 1
AM, but they reach audiences in multiple time
zones, they may deliver from 9 AM to 1 PM in the
advertiser's time zone. Stats will be aggregated into
four groups 9 AM - 10 AM, 10 AM - 11 AM, 11 AM -
12 PM, and 12 PM - 1 PM.
```
hourly_stats_aggregated_by_audience_ti
me_zone

```
Hourly breakdown aggregated by the time ads were
delivered in the audiences' time zone. For example,
if your ads are scheduled to run from 9:00 am to
11:00 am, but they reach audiences in multiple time
zones, they may deliver from 9:00 am to 1:00 pm in
the advertiser's time zone. Stats are aggregated into
2 groups: 9:00 am to 10:00 am and 10:00 am to
11:00 am.
```
image_asset The ID of the image asset involved in impression,
click, or action.

impression_device The device where your last ad was served to
someone on Meta. For example \"iPhone\" if
someone viewed your ad on an iPhone.

is_conversion_id_modeled A boolean flag that indicates whether the
conversion_bits are modeled. A 0 indicates
conversion_bits aren't modeled, and a 1
indicates that conversion_bits are modeled.


```
BreakdownBreakdown DescriptionDescription
```
```
This breakdown is only supported by
the total_postbacks_detailed
field.
```
link_url_asset The ID of the URL asset involved in impression,
click or action.

place_page_id The ID of the place page involved in impression or
click.

```
Account-level insights and
page_place_id are not compatible
with each other, so they **cannot be
queried together.
```
platform_position Where your ad was shown within a platform, for
example on Facebook desktop Feed, or Instagram
Mobile Feed.

product_id The ID of the product involved in impression, click,
or action.

publisher_platform Which platform your ad was shown, for example on
Facebook, Instagram, or Audience Network.

region The regions where the people you've reached are
located. This is based on information such as a
person's hometown, their current city and the
geographical location where they tend to be when
they visit Facebook.

skan_campaign_id The raw campaign ID received as a part of Skan
postback from iOS 15+.


```
BreakdownBreakdown DescriptionDescription
```
```
Note: This breakdown is only supported by the
total_postbacks_detailed field.
```
```
skan_conversion_id The assigned Conversion ID (also referred to as
Priority ID) of the event and/or event bundle
configured in the application’s SKAdNetwork
configuration schema. The app events configuration
can be viewed and adjusted in Meta Events
Manager. You can learn more about configuring your
app events for Apple's SKAdNetwork here.
```
```
Note: This breakdown is only supported by the
total_postbacks field.
```
```
title_asset The ID of the title asset involved in impression, click
or action.
```
```
user_segment_key User segment (ex: new, existing) of Advantage+
Shopping Campaigns (ASC). Existing user is
specified by the custom audience in ASC settings.
```
```
video_asset The ID of the video asset involved in impression,
click or action.
```
Notes

```
Filtering app_id and skan_conversion_id using the filtering field is currently not
supported.
The dma breakdown is not available for the estimated_ad_recall_rate metric or
video_thruplay_watched_actions metric.
The dma breakdown employs a sampling methodology to compute unique metrics like reach. In
instances where there are a large number of DMA regions with comparatively low volumes, they
might not be represented in the sample or could be scaled up to a power of 2. Therefore, it's
advisable to query the corresponding impressions as well for enhanced accuracy.
frequency_value is used with reach only. For example, how frequently a unique user saw an
ad.
```

```
By design, image_asset and video_asset breakdowns are not available at the ad account level
for assets used in Dynamic Creative.
Ad actions video_p25_watched_actions, video_p50_watched_actions,
video_p75_watched_actions, video_p95_watched_actions, and
video_p100_watched_actions do not support region breakdown.
All Dynamic Creative asset breakdowns only support a limited set of metrics:
```
```
Dynamic Creative BreakdownsDynamic Creative Breakdowns
```
```
Supported metrics for Dynamic CreativeSupported metrics for Dynamic Creative
BreakdownsBreakdowns
```
```
ad_format_asset
body_asset
call_to_action_asset
description_asset
image_asset
link_url_asset
title_asset
video_asset
```
```
impressions
clicks
spend
reach
actions
action_values
```
The following call groups the results by age and gender.

```
Show Response
```
```
curl -G \
```
- d "breakdowns=age,gender" \
- d "fields=impressions" \
- d "access_token=<ACCESS_TOKEN>" \
"https://graph.facebook.com/<API_VERSION>/<AD_CAMPAIGN_ID>/insights"

###### Hourly Breakdowns

Hourly stats are now an available breakdown using the following breakdowns:

```
hourly_stats_aggregated_by_advertiser_time_zone
hourly_stats_aggregated_by_audience_time_zone
```
See Combining Breakdowns for limits on number of breakdowns you may request with the hourly
breakdown. Hourly breakdowns do not support unique fields, which are any fields prepended with

```
cURLcURL
```

unique_*, reach or frequency. reach and frequency fields will return 0 when hourly breakdowns
are in use.

```
Show Response
```
```
curl -G \
```
- d "fields=impressions" \
- d "breakdowns=hourly_stats_aggregated_by_audience_time_zone" \
- d "access_token=<ACCESS_TOKEN>" \
"https://graph.facebook.com/<API_VERSION>/<AD_CAMPAIGN_ID>/insights"

###### Action Breakdown

Group results in the actions field. You can use the following breakdowns for action_breakdowns:

The following are the possible breakdowns that can be supplied into the action_breakdowns field.

```
action_device
conversion_destination
matched_persona_id
matched_persona_name
signal_source_bucket
standard_event_content_type
action_canvas_component_name
action_carousel_card_id
action_carousel_card_name
action_destination
action_reaction
action_target_id
action_type
action_video_sound
action_video_type
```
If action_breakdowns parameter is not specified, action_type is implicitly added as the
action_breakdowns.

###### Total Count in actions

```
cURLcURL
```

The total count (sum) of all values returned in group results (actions).

```
This result may not equal total_actions since fields returned in actions are hierarchical
and include detailed actions not counted.
```
```
total_actions - 33
page_engagement - 10
post_engagement - 10
link_click - 2
comment - 3
post_reaction - 3
like - 2
mobile_app_install - 12
app_custom_event - 11
app_custom_event.fb_mobile_activate_app - 6
app_custom_event.other - 5
```
In this example, post_engagement is a sum of link_click, comment, like, and post_reaction,
where post_reaction is the count of all reactions, including likes. The total_actions field
represents a sum of top-level actions for an object, such as page_engagement,
mobile_app_install, and app_custom_event.

###### Combining Breakdowns

Due to storage constraints, only some permutations of breakdowns are available. Permutations
marked with an asterisk (*) can be joined with **action_type** , **action_target_id** and
**action_destination** which is the name for **action_target_id**.

```
PermutationPermutation
```
```
action_converted_product_id - Under limited availability for Collaborative Ads.
```
```
action_type *
```
```
action_type, action_converted_product_id - Under limited availability for Collaborative Ads.
```
```
action_target_id *
```
```
action_device *
```

```
PermutationPermutation
```
action_device, impression_device *

action_device, publisher_platform *

action_device, publisher_platform, impression_device *

action_device, publisher_platform, platform_position *

action_device, publisher_platform, platform_position, impression_device *

action_reaction

action_type, action_reaction

age *

gender *

age, gender *

app_id, skan_conversion_id

country *

region *

publisher_platform *

publisher_platform, impression_device *


```
PermutationPermutation
```
```
publisher_platform, platform_position *
```
```
publisher_platform, platform_position, impression_device *
```
```
product_id *
```
```
hourly_stats_aggregated_by_advertiser_time_zone *
```
```
hourly_stats_aggregated_by_audience_time_zone *
```
```
action_carousel_card_id / action_carousel_card_name
```
```
action_carousel_card_id / action_carousel_card_name
```
```
action_carousel_card_id / action_carousel_card_name, impression_device
```
```
action_carousel_card_id / action_carousel_card_name, country
```
```
action_carousel_card_id / action_carousel_card_name, age
```
```
action_carousel_card_id / action_carousel_card_name, gender
```
```
action_carousel_card_id / action_carousel_card_name, age, gender
```
Limitations

```
video_* fields cannot be requested with any hourly stats breakdowns.
video_avg_time_watched_actions field cannot be requested with the region breakdown.
action_type is implicitly added as the action_breakdowns when action_breakdowns
parameter is not specified.
```

**Marketing API**

Overview

Get Started

Ad Creative

Bidding

Ad Rules Engine

Audiences

Insights API
Breakdowns
Limits & Best Practices
Tracking and Conversion Specs
Marketing Mix Modeling
Conversion Lift Measurement
Split Testing
Ad Volume
Offline Conversions
App Events API

Brand Safety and Suitability
Best Practices

Troubleshooting

API Reference

Changelog


**Docs Marketing API Insights API Conversion Lift Measurement**

On This Page

## Lift Study

```
Conversion Lift Measurement is currently limited. Please contact your Meta Representative for
information about obtaining access.
```
Create and run an experiment to measure your Facebook campaign's efficiency. Determine what ads
strategy drives the most business impact. See Ad Study, Reference.

When you create a lift study, you create a randomized test group of Accounts Center accounts that
see your ads and control group who don't see your ads.

You can securely share conversion data from your ad campaign with Facebook using Facebook pixels,
or App Events. Facebook determines the increased conversions generated from your campaign. We
compare the number of conversions, Accounts Center accounts converting, and available sales
revenue between test and control groups.

###### Set Up Studies

Set up a study with one or more groups, called cells. When you set up your study, Facebook
randomizes the audience for your ads and assigns Accounts Center accounts to either the test or
control group. After you run a study, Facebook calculates the difference between the test groups and
control groups so that you evaluate the impact of your Facebook ads towards business goals.

To set up a study, make a POST call:


```
'https://graph.facebook.com/<API_VERSION>/<BUSINESS_ID>/ad_studies'
```
You can set up a study with a single test group to see how Facebook ads lead to additional business.
You can also set up a study with multiple test groups, which lets you determine what advertising
approach works best for your audience.

Example - Set up a lift study with one test group

To create a new study, provide the following:

```
ParameterParameter DescriptionDescription
```
```
name Name of study.
```
```
description Brief description of the study's purpose.
```
```
cooldown_start_time Deprecated. Facebook still delivers during the time between
observation_end_time and end_time. If you use
cooldown_start_time, you should now set this time using
start_time.
```
```
start_time Start time of campaign active period. Study start time must be in the
future.
```
```
curl \
```
- F 'name="new study"' \
- F 'description="description of my study"' \
- F 'start_time=1435622400' \
- F 'end_time=1436918400' \
- F 'cooldown_start_time=1433116800' \
- F 'observation_end_time=1438300800' \
- F 'viewers=[<USER_ID1>, <USER_ID2>]' \
- F 'type=LIFT' \
- F 'cells=[{name:"test group",description:"description of my test group",trea
- F 'objectives=[{name:"new objective",is_primary:true,type:"CONVERSIONS",appl
- F 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<BUSINESS_ID>/ad_studies'

```
cURLcURL
```

```
ParameterParameter DescriptionDescription
```
```
end_time End time of campaign active period.
```
```
observation_end_time End of the post test conversion window. During this window (that is,
between end_time and observation_end_time), all Facebook ads
(including ones added to this study) are delivered normally to both the test
and the control group, but no new users will be opportunity logged. We will
continue to match conversions during this period to users in their respective
groups. If you don't need a post test conversion window for your study, set
this to end_time.
```
```
cells Cells in study that define test and control groups.
```
```
objectives Objectives of the study. See Defining Study Objective.
```
```
viewers Share this study to a list of Facebook user IDs.
```
```
type For Conversion Lift, the type should be LIFT.
```
```
RESTRICTIONS - Once the study starts, you cannot update start_time and
treatment_percentage of the cells. You also cannot remove the associated objects, such as
adaccounts or campaigns, of the test groups. You can still update the end_time and
observation_end_time to a future time if the study has not yet ended, and add new
associated objects to test groups.
```
```
To run Reach and Frequency in conjunction with Lift measurement, you must set up a Lift study
first and make sure the duration of the Reach and Frequency is within the duration of the Lift
study.
```
###### Create a Test Group

To begin, determine how many Accounts Center accounts recieve your ads and how many Accounts
Center accounts do not. You must create a test group when you set up the study; pass a list of JSON
objects in cells under ad_studies. See Ad Study Cell, Reference. A test group contains the
following information.


```
ParameterParameter DescriptionDescription
```
```
name Name of test group.
```
```
description Brief description of test group.
```
```
treatment_percentage Defines the Accounts Center accounts who receive your ads.
```
```
control_percentage Defines a holdout percentage of the Accounts Center accounts who will not
see ads. Treatment plus control percentages must equal 100.
```
```
ad_studies List of ad entities, such as adaccounts or campaigns, to study. Facebook
runs and measures all ads under active ad entities during the study period.
```
Example - Read test groups in a study

Example - Update or modify cell information and treatment and control percentages by providing the
cell ID in cells

Example - Read all the studies that you created at ad_studies for your business

```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_ID>/cells'

```
curl \
```
- F 'cells=[{id:<CELL_ID>,treatment_percentage:80,control_percentage:20}]' \
- F 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_ID>'

```
cURLcURL
```
```
cURLcURL
```
```
cURLcURL
```

You can also see all studies associated with your ad account by making a GET request at {ad-
account-ID/include_all_studies=true} with your access token.

```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<BUSINESS_ID>/ad_studies'

###### Set Up Multiple Test Groups

Set up a study with multiple test groups of Facebook users. This helps measure incremental impact of
different Facebook strategies on business goals, such as using different ads targeting options. To set
up a study with multiple test groups, provide a list of test groups in cells.

control_percentage determines the holdout for each test group respective to the total population.
For example, you have a study with two test groups: group A is 50% treatment with 20% control and
group B is 20% treament with 10% control. This results in ~28.6%, or 20%/70% of the population in
group A, to be control users and ~33.3%, or 10%/30% of the population in group B, to be control users.

The sum of treatment and control percentages across test groups normally should equal 100.
However, it can be less than 100 for some specific use cases. For example, when you have three test

```
curl \
```
- F 'name="new study"' \
- F 'description="description of my study"' \
- F 'start_time=1435622400' \
- F 'end_time=1436918400' \
- F 'cooldown_start_time=1433116800' \
- F 'observation_end_time=1438300800' \
- F 'viewers=[<USER_ID1>, <USER_ID2>]' \
- F 'type=LIFT' \
- F 'cells=[{name:"group A",description:"description of group A",treatment_per
- F 'objectives=[{name:"new objective",is_primary:true,type:"CONVERSIONS",appl
- F 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<BUSINESS_ID>/ad_studies'

```
cURLcURL
```

groups that are split evenly at 33%.

You can update, add, and remove test groups in a study.

```
To update an existing test group, refer to its ID in test group.
To add a new test group, provide a new test group object.
To remove a test group, simply omit it from cells when you update the study:
```
```
curl \
```
- F 'cells=[{id:<CELL_ID1>,treatment_percentage:60,control_percentage:10},{nam
- F 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_ID>'

###### Define Advertising Objectives

Define advertising objectives you want to measure and how you pass conversion data to Facebook. A
lift study requires at least one objective. You cannot modify objectives after the study starts
running. See Ad Study Objective, Reference.

Example - Create and add the CONVERSIONS objective to a study

```
curl \
```
- F 'name="new study"' \
- F 'description="description of my study"' \
- F 'start_time=1435622400' \
- F 'end_time=1436918400' \
- F 'cooldown_start_time=1433116800' \
- F 'observation_end_time=1438300800' \
- F 'viewers=[<USER_ID1>, <USER_ID2>]' \
- F 'type=LIFT' \
- F 'cells=[{name:"test group",description:"description of my test group",trea
- F 'objectives=[{name:"new objective",is_primary:true,type:"CONVERSIONS",appl
- F 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<BUSINESS_ID>/ad_studies'

```
cURLcURL
```
```
cURLcURL
```

```
NameName DescriptionDescription Data SourcesData Sources
```
```
CONVERSIONS Measure the lift in conversions. CAPI-based Facebook pixels
```
If you use CONVERSIONS and use Facebook pixel or Mobile App as event sources, you must provide a
list of the event names that you want to capture for the objective. Facebook can then report results
based on these specific conversion events.

```
MeasurementMeasurement
SourceSource Event NamesEvent Names
```
```
Facebook Pixel fb_pixel_view_content, fb_pixel_search, fb_pixel_add_to_cart,
fb_pixel_add_to_wishlist, fb_pixel_initiate_checkout,
fb_pixel_add_payment_info, fb_pixel_purchase, fb_pixel_lead,
fb_pixel_complete_registration, custom
```
```
Mobile App fb_mobile_activate_app, fb_mobile_complete_registration,
fb_mobile_content_view, fb_mobile_search, fb_mobile_rate,
fb_mobile_tutorial_completion, fb_mobile_add_to_cart,
fb_mobile_add_to_wishlist, fb_mobile_initiated_checkout,
fb_mobile_add_payment_info, fb_mobile_purchase,
fb_mobile_level_achieved, fb_mobile_achievement_unlocked,
fb_mobile_spent_credits
```
Create an Objective

Create an objective by passing a list of JSON objects objectives when you create a new study.
Objectives contain the following information:

```
ParameterParameter DescriptionDescription
```
```
name Name of the objective.
```
```
is_primary A boolean specifying that this is your primary advertising
objective. A study can only have one primary objective.
```

```
ParameterParameter DescriptionDescription
```
```
type Objective value of CONVERSIONS.
```
```
adspixels List of Facebook pixel IDs along with the relevant list of
event_names per ID, if applicable.
```
```
applications List of your mobile apps including relevant event_names per ID.
```
```
offline_conversion_data_sets List of Offline Event set IDs if applicable. Currently, we don't
support event breakdowns for Offline Conversion.
```
```
customconversions List of Custom Conversion IDs, if applicable.
```
You can also have multiple objectives per study. The result will be aggregated based on objectives.
Below is an example of a study with multiple objectives.

You can update, add, and remove objectives in a study by doing so at the study level similar to
modifying test groups. To update an existing objective, refer to its ID in the objectives object. To
add a new objective, provide a new objective object. To remove an objective, simply omit it from the
objectives parameter when you update it.

Example - Update an objective's applications measurement sources and remove its adspixels
measurement sources

```
curl \
```
- F 'name="another study"' \
- F 'description="description of another study"' \
- F 'start_time=1435622400' \
- F 'end_time=1436918400' \
- F 'cooldown_start_time=1433116800' \
- F 'observation_end_time=1438300800' \
- F 'viewers=[<USER_ID1>, <USER_ID2>]' \
- F 'type=LIFT' \
- F 'cells=[{name:"test group",description:"description of my test group",trea
- F 'objectives=[{name:"first objective objective",is_primary:true,type:"CONVE
- F 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<BUSINESS_ID>/ad_studies'

```
cURLcURL
```

Example - Read objectives for a study

```
curl \
```
- F 'objectives=[{id:<OBJECTIVE_ID>,name:"new objective name",applications:[{i
- F 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_ID>'

```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_OBJECTIVE_ID>?fields=results

###### Reporting

Retrieve Objectives

```
All "buyers" metrics will show up for studies started before the cut-off date 7/13/2021. Studies
started after 7/13 will not have "buyers" metrics and breakdown by gender, age and country.
This change will impact fields below that start with “buyers" (buyers_test,
buyers_control_scaled2, and so on).
```
```
Note also that you need to use the cell_id breakdown in order to get cell level results.
```
A study's objectives are defined during the study setup. See the setup guide on how to define your
study's objectives

You can read the objectives that were created for a study by making a GET call to the study's
objectives edge.

```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_OBJECTIVE_ID>?fields=results

```
cURLcURL
```
```
cURLcURL
```
```
cURLcURL
```

```
For more details on objectives, refer to the Ad Study Objective reference documentation.
```
Retrieve Results

To retrieve results for an objective, you can make a GET call to the objective node by specifying
results in the fields parameter. The last_updated_results field also tells you when the results
data for this particular objective was last updated.

Sample response shown as parsed JSON for ease of reading.

Command:

The resulting data is a JSON object, containing metrics name and values strings. Please refer to
Facebook Lift Metrics Glossary.

With buyers:

```
{
"results": [
"{"cell_id":"<cell_id>",
"population_test":2334212,
"population_control":123407,
"population_reached":1862084,
"impressions":19020874,
"spend":26059,
"buyers_control_raw_scaled":37672.615701199,
"buyers_exposed":30085.482427228,
"buyers_frequentist_pValue":0.00064950107027983,
"conversions_control_raw_scaled":110918.27003534,
"conversions_exposed":86961.044050743,
"conversions_raw_pValue":0.12863848309723,
"conversions_test":104412.89695396,
"conversions_control_scaled":104575.81331581,
"conversions_incremental":-162.91636184894,
"conversions_notExposed":87123.960412592,
"conversions_confidence":0.69291721817069,
"conversions_multicell_confidence":null,
```
```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_OBJECTIVE_ID>?fields=results

```
cURLcURL
```

```
"conversions_incremental_lower":-3470.6251396487,
"conversions_incremental_upper":3235.0644420632,
"conversions_multicell_rank":null,
"conversions_incremental_share":-0.001873440730011,
"conversions_CPiC":-159.95324044961,
"buyers_test":40732.369934386,
"buyers_control_scaled":41990.129061459,
"buyers_incremental":-1257.7591270729,
"buyers_notExposed":36617.935710157,
"buyers_confidence":0.19318944031404,
"buyers_multicell_confidence":null,
"buyers_incremental_lower":-2905.5296282828,
"buyers_incremental_upper":426.25813050358,
"buyers_multicell_rank":null,
"buyers_incremental_share":-0.041806181107957,
"buyers_CPiB":-20.718593440578}"
],
"id": "<objective_id>"
}
```
Without buyers:

```
{
"results": [
"{"cell_id":"<cell_id>",
"population_test":2334212,
"population_control":123407,
"population_reached":1862084,
"impressions":19020874,
"spend":26059,
"conversions_control_raw_scaled":110918.27003534,
"conversions_exposed":86961.044050743,
"conversions_raw_pValue":0.12863848309723,
"conversions_test":104412.89695396,
"conversions_control_scaled":104575.81331581,
"conversions_incremental":-162.91636184894,
"conversions_notExposed":87123.960412592,
"conversions_confidence":0.69291721817069,
"conversions_multicell_confidence":null,
"conversions_incremental_lower":-3470.6251396487,
"conversions_incremental_upper":3235.0644420632,
"conversions_multicell_rank":null,
"conversions_incremental_share":-0.001873440730011,
"conversions_CPiC":-159.95324044961}"
],
"id": "<objective_id>"
}
```

Breakdown Results

In addition to retrieving the results per objective, you may choose to breakdown the results by
providing the breakdowns parameter.

The following are the available breakdown dimensions:

```
Studies started after 7/13 will not have breakdowns by gender, age and country.
```
```
BreakdownBreakdown ValuesValues
```
```
age 13-17, 18-24, 25-34, 35-44, 45-54, 55-54, 65+
```
```
cell_id IDs of the available cells in the study.
```
```
gender M or F
```
```
country Two-letter country codes (ISO 3166-1 alpha-2). Example: US, GB, IN, AU.
```
```
Currently supported only when queried in combination with cell_id.
```
```
Example: breakdowns=['cell_id','country']
```
The results return multiple JSON objects in the array based on the available breakdowns. For example,
if cell_id is provided, the results are broken down by the number of cells in the study. You may
provide one or more breakdowns; however, the combination of breakdowns must at least 100
conversions from test and control groups combined for results to display.

```
{
"id": "<STUDY_OBJECTIVE_ID>",
"results": [
{
```
```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_OBJECTIVE_ID>?fields=results

```
cURLcURL
```

```
Marketing API
Overview
Get Started
Ad Creative
Bidding
Ad Rules Engine
Audiences
Insights API
Breakdowns
Limits & Best Practices
Tracking and Conversion Specs
Marketing Mix Modeling
```
```
"cell_id": "<CELL_ID1>",
...
Default fields where the values are specific to the <CELL_ID1> breakdown
...
},
{
"cell_id": "<CELL_ID2>",
...
Default fields where the values are specific to the <CELL_ID2> breakdown
...
}],
}
```
###### Results for a Specific Date Stamp

You can specify a date stamp in your API call to obtain study results from a specific date. Note that the
call returns the same result that it would if you made the same call on that specific date without
including the date stamp field. The date should be within the prior 30 days.

```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
'https://graph.facebook.com/<API_VERSION>/<STUDY_OBJECTIVE_ID>?fields=res

```
cURLcURL
```

```
Conversion Lift Measurement
Split Testing
Ad Volume
Offline Conversions
App Events API
```
Brand Safety and Suitability

Best Practices

Troubleshooting

API Reference

Changelog


**Docs Facebook Pages API Create an app**

On This Page

```
The following content is from the Meta App Development documentation. Please refer to the
Development documentation to learn more about the Meta App Development process.
```
## Pages API Use Case

This document shows you how to create and customize a Meta app that allows your app users to
publish posts, share stories, respond to comments, answer direct messages and more with the Pages
API.

This guide assumes that you have read and implemented the requirements for creating an app with
Meta.

###### 1. Start the app creation process

There are a number of ways to start the app creation flow.

```
If you just came from the registration flow, click the Create First App button
If you are on the App Dashboard, click Create App in the upper-right
If you are on the dashboard for an existing app and want to create a new app, select the
dropdown menu in the upper-left, and click the Create New App button
```
```
Launch the Meta App Dashboard
```
```
If you are unable to create an app, you might have reach the app limit. You are permitted to
have a developer or administrator role on a maximum of 15 apps that are not already
connected to a Meta Verified Business Account. If you have reached the app limit and are
unable to create an application or accept a new pending role, take the following steps in the
apps dashboard:
```
```
Connect a verified business portfolio to any apps that are not already connected to
one.
Remove any old or unused apps – Archived apps count towards the app limit; if you no
longer require these apps, we suggest removing them
Remove yourself as an administrator or developer from an app
```

###### 2: App details

###### 2. Add app details

Add the following details about your app:

```
A name for your app
The email address to be used to contact you about this particular app
```
Click Next to save your app's details.

###### 3: Add use cases

```
. Select the Manage everything on your Page use case.
. (Optional) Add additional use cases that you want to implement in your app and that are
compatible with this use case. Incompatible use cases are greyed out.
. Click Next.
```
###### 4. Add a Business

If you're building an app for a business you own or manage, you aren't required to connect a business
to your app.

If you're a Tech Provider, you're building an app that will be serving clients or other business portfolios,
you're required to connect your app to a business that has completed both Access and Business
Verification before you can publish your app.

However, you can connect a business now or at any time during the development process.

```
. Select an option and click Next.
```
Learn more about Access and Business Verification.

###### 5. Requirements


###### 5. Requirements

Your app might need to complete certain requirements to maintain data access for a use case. These
requirements will be listed, if applicable, with a link to the use case triggering the requirement and a
link to learn more about each requirement. If an item is required for a use case, you can click the use
case link to the right of each requirement to view which use case it applies to.

```
Access verification
Business verification
Annual Data Use Checkup
App Review requirements
```
You can also review the Meta Platform Terms and Developer Policies.

Click Next.

###### 6. Overview

###### 6. Overview

This step allows you to review the following:

```
App name and email
Use cases added to your app
The business portfolio added to your app, if applicable
Requirements of your app, if applicable
```
The Meta Platform Terms and Developer Policies are linked here for you to review.

Click Go to dashboard.

You are redirected to your app's dashboard to:

```
Customize each use case you've selected for your app, and add additional permissions and
features
Test each permission and feature of each use case (required if you are submitting your app for
Meta App Review)
Check that all requirements, such as adding a privacy policy link or app icon in the app settings,
have been met if you plan to publish your app
```

If you are building your app to access only data and assets you own, you don't need to submit your
app for Meta App Review or publish your app. However, some products, such as webhooks, and some
dashboard features, such as rate limit status, require you to publish your app.

If you are building an app to access data for other businesses, as a tech or solutions provider, you do
need to submit your app for Meta App Review and publish your app.

###### 7. Use case customization

```
. Click Dashboard in menu to the left in the App Dashboard. Each use case that you have added
to your app is listed here.
. Select the use case you want to customize. This allows you to add settings and permissions to
make your app work the way you want it to.
. Add permissions that your app needs and remove permissions that your app doesn't need.
. Click Ready to test to test each use case. If you need to submit your app for Meta App Review,
you must test each use case. The Meta's Graph API Explorer allows you to test your queries and
get access tokens and code samples for your queries.
. Click Dashboard to repeat the above for each use case.
```
Permissions

```
. To customize the Pages API use case select Customize the Manage everything on your Page
use case. You are redirected to a list of permissions available for this use case. The following
permissions are required for this use case and added by default:
business_management
pages_show_list
public_profile
```
```
. Click Add next to each additional features or permissions that your app needs to work the way
you want it to.
```
###### 8. Customize Facebook Login for Business

If you are implementing Facebook Login for Business in your app, follow these steps.

Settings

```
. Click Facebook Login for Business in the menu to the left in the App Dashboard.
. Select Settings.
. Add your Redirect URI and click Check URI to validate it.
```

```
. Customize the Client OAuth settings.
. Add your Deauthorize Callback URL.
. Add your Data Deletion Request URL.
. Click Save changes.
```
Quickstart

Use the Quickstart to add Facebook Login for Business to your app.

```
. Click Quickstart.
. Select and customize each platform for this app.
. Add the Facebook Login Button to your app.
```
Configurations

This optional feature of Facebook Login for Business allows you to create multiple configurations and
present them to different sets of users. Configurations allow you to choose:

```
The type of login variation to present to your app users.
The type of access token you want to request from your business clients, a User access token or
System-user access token and token expiration
If you select User access token then your app users will log in using their personal
Facebook account.
If you select System-user access token your app users will be required to log in using a
business portfolio. This is only required if this configuration needs continuous access to
business assets, such as Facebook Pages, ad accounts or Instagram accounts.
The business assets you want to request from your clients.
The permissions your app users are required to grant your app.
```
###### 9. Finalize Customization

If you are finished customizing the use cases for this app follow these steps. You can add more use
cases later, but that might require additional reviews and requirements.

```
. Click Dashboard in the left side menu.
. Click Finish customization.
```
The Dashboard is replaced with a list of required actions, if applicable, rate limit information for your
app, and the use cases on your app.


###### 10. Become a Tech Provider

If your app needs to access business data owned by other business portfolios to provide services or
functionality to those businesses, you must become a Tech Provider. This option will require additional
data questions and approval through App Review before publishing.

```
. Click Become a Tech Provider.
. Click Yes, I'm a Tech Provider. The App Dashboard is updated to include additional items listed
on Dashboard for your use cases.
. Click Business verification to add a verified business portfolio or add a business portfolio and
start the verification process.
```
###### 11. App Review

```
. In the left side menu go to Review > App Review. Click the Edit button to start your submission.
All permissions and features you are requesting, with links to the documentation for each, are
listed here.
. Complete App Settings – Click Review your app settings to add or update any app settings
such as app icon, privacy policy URL, and app category. This step must be complete before
continuing.
. Reviewer instructions – Click Provide reviewer instructions A popup dialog appears for each
platform on which you app is available. Select each platform and answer the questions with
questions for our reviewers to test your use case implementations. Click Done.
. Click each permission and feature you requested.
. Click the checkbox to agree to use each permission or feature in accordance with its allowed
usage. If your app doesn't use a permission or feature listed, remove it by clicking the trashcan
icon.
. Click the Submit for Review button in the lower right.
```
###### 12. Publish your app

Note: Some use cases require your app to be published.

```
. When you are ready to publish, select Publish in the left side menu.
. Review your use cases and requirements.
. Click Publish in the lower right corner.
```

```
Facebook Pages API
Overview
Create an app
Webhooks
Get Started
Manage a Page
Upcoming Changes
Comments and @Mentions
Posts
Insights
Pages Search
Error Codes
Changelog
```
###### Step 10. Create an ad campaign

Congratulations on completing your app!

###### See Also

Visit the following to learn more about the app development process:

```
App Development
Business verification
Permissions Reference
Pages API Developer Documentation
```

**Docs Facebook Pages API Insights Deprecated Metrics**

On This Page

## Deprecated Facebook Page

## Insights Metrics

On November 1, 2025, the following Facebook Page Insights metrics were deprecated for all API
versions. The API will return an invalid metric error when calling any of these metrics.

On March 14, 2024, the following Facebook Page Insights metrics were deprecated for all API versions.
The API will return an invalid metric error when calling any of these metrics.

```
page_fans
Page_fans_locale
Page_fans_city
Page_fans_country
Page_fan_adds
Page_fan_adds_unique
Page_fan_removes
page_fan_removes_unique*
page_impressions*
page_impressions_paid*
page_impressions_viral*
page_impressions_nonviral*
post_impressions*
post_impressions_paid*
post_impressions_fan*
post_impressions_organic*
post_impressions_viral*
post_impressions_nonviral*
```
```
page_call_phone_clicks_by_age_gender_logged_in_unique
page_call_phone_clicks_by_site_logged_in_unique
page_call_phone_clicks_logged_in_by_city_unique
page_call_phone_clicks_logged_in_by_country_unique
page_call_phone_clicks_logged_in_by_locale_unique
page_consumptions
page_content_activity
```

page_content_activity_by_action_type
page_content_activity_by_action_type_unique
page_content_activity_by_age_gender_unique
page_content_activity_by_city_unique
page_content_activity_by_country_unique
page_content_activity_by_locale_unique
page_content_activity_unique
page_cta_clicks_by_age_gender_logged_in_unique
page_cta_clicks_by_site_logged_in_unique
page_cta_clicks_logged_in_by_city_unique
page_cta_clicks_logged_in_by_country_unique
page_cta_clicks_logged_in_by_locale_unique
page_daily_follows_by_source_unique
page_daily_unfollows_by_source_unique
page_engaged_users
page_fans_by_like_source_unique
page_fans_by_like_source
page_fans_by_unlike_source_unique
page_fans_by_unlike_source
page_fans_gender_age
page_follows_city
page_follows_country
page_follows_gender_age
page_follows_locale
page_get_directions_clicks_by_age_gender_logged_in_unique
page_get_directions_clicks_by_site_logged_in_unique
page_get_directions_clicks_logged_in_by_city_unique
page_get_directions_clicks_logged_in_by_country_unique
page_impressions_frequency_distribution
page_places_checkin_mobile_unique
page_places_checkin_mobile
page_places_checkins_by_age_gender
page_places_checkins_by_city
page_places_checkins_by_country
page_places_checkins_by_locale
page_positive_feedback_by_type_unique
page_positive_feedback_by_type
page_positive_feedback_unique
page_positive_feedback
page_posts_impressions_frequency_distribution
page_views_by_age_gender_logged_in_unique
page_views_by_city_logged_in_unique
page_views_by_country_logged_in_unique


```
Facebook Pages API
Overview
Create an app
Webhooks
Get Started
Manage a Page
Upcoming Changes
Comments and @Mentions
Posts
Insights
Deprecated Metrics
Pages Search
```
```
page_views_by_internal_referer_logged_in_unique
page_views_by_locale_logged_in_unique
page_views_by_profile_tab_logged_in_unique
page_views_by_profile_tab_total
page_views_by_referers_logged_in_unique
page_views_by_site_logged_in_unique
page_views_external_referrals
page_views_logged_in_total
page_views_logged_in_unique
page_views_login_unique
page_views_login
page_views_logout
page_website_clicks_by_age_gender_logged_in_unique
page_website_clicks_by_site_logged_in_unique
page_website_clicks_logged_in_by_city_unique
page_website_clicks_logged_in_by_country_unique
page_website_clicks_logged_in_by_locale_unique
post_activity
post_activity_unique
post_impressions_fan_paid_unique*
post_impressions_fan_paid*
```
###### Learn More

```
Learn more about this deprecation.
```

Error Codes

Changelog


```
Facebook Ads API allows you to create and manage your ads programmatically
without the Ads Manager UI. Another benefit is that you can use API to retrieve
data about your Facebook ads to make custom reports, build dashboards and
analyze the performance of your ads in different ways. 
This is exactly what weʼre going to focus on in this article – how you can do
reporting and analytics with Facebook Ads Insights APIs. The best part is that you
can get Facebook Ads reporting data without any coding! 
```
```
Intro to the Facebook Ads API
Underneath the Facebook API there lies the Graph API. Itʼs an HTTP-based API to
push data to and pull data from Facebook...or should we say Meta? 😏
The Graph API works with any language that has an HTTP library, such as cURL
and urllib. Almost all requests are passed to; 
```
```
The Graph API is composed of nodes, edges, and fields.
```
**Facebook Ads manager API**

```
https://graph.facebook.com
```
```
Nodes are individual objects with a unique ID. They include Pages, Users,
Campaigns, Ads, and so on. For example,
```
**-**

```
https://graph.facebook.com/{user-ID}
Edges or endpoints are collections of objects on a single object (node). For
example, the node Ad Campaign has the Insights edge.
```
**-**

```
https://graph.facebook.com/{api-version}/{ad-campaign-ID}/insights
Fields are node properties used to get data about a single object or each object
in a collection. For example,
```
**-**

```
https://graph.facebook.com/{user-ID}?fields=id,name,email
```
HomeFacebook Ads API Guide for Your Cutting-Edge Reporting

### Facebook Ads API Guide for Your

### Cutting-Edge Reporting

```
Facebook Ads
```
**Daria Molochenko** |  19 min read | Feb 10, 2025

```
Product Solutions Resources Pricing Book a demo | Log in SIGN^ UP
```

```
In order to programmatically advertise on Facebook, youʼll need the Marketing API
(this is the name for what you may call the Facebook Ads Manager API). Itʼs a
collection of specific Graph API endpoints (nodes + edges). 
Both Graph API and Marketing API calls require an access token to be passed as a
parameter in each API call. Standard Access and
permissions are sufficient for managing your ad account. To manage other ad
accounts, youʼll need Advanced Access permissions. 
```
```
Marketing API rate limiting logic
You can make a limited number of requests to the Marketing API. The limitation is
based on the call count – the number of calls during a rolling one-hour window.
Here is how you can calculate those:
Calls within one hour = 60 + 400 * Number of Active ads – 0. 001 * User Errors
```
```
Note: To get a higher rate limit, you can apply for the Ads Management Standard Access feature.
```
**Nodes and edges for the Facebook Ads Reporting API**

```
Nodes Edges Data entity
All Ad accounts
associated with the user.
All pages and places that
someone is an admin of.
All promotable events or
promotable page events
that belong to pages the
user is an admin of.
Data about Ads that
share the same budget,
schedule, bid, and
targeting.
Data for an Ad, such as
creative elements and
measurement
information.
Adʼs appearance and
content.
Library of images to use
in Ad creatives.
Library of videos to use
in Ad creatives.
```
```
ads_read ads_management
```
**- Number of Active ads** – the number of ads currently running per ad account.
**- User Errors** – the number of errors received when calling the API.

```
/{ad-account-user-id} /adaccounts
```
```
/accounts
```
```
/promotable_events
```
```
/act_{ad-account-id} /adsets
```
```
/ads
```
```
/adcreatives
```
```
/adimages
```
```
/advideos
```
Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
Nodes Edges Data entity
Data about campaignsʼ
objective and Ad sets.
Custom audiences
List of people associated
with the account.
Insights on your
advertising performance.
Adʼs appearance and
content.
Insights on your
advertising performance.
Any leads associated
with a Lead Ad.
Generate ad previews
from an existing ad.
Ads that share the same
budget, schedule, bid,
and targeting.
Data necessary for an
Ad.
Insights on your
advertising performance.
Data necessary for an
Ad.
Adʼs content and
appearance.
Log of actions taken on
the Ad set.
Insights on your
advertising performance.
Generate ad previews
from the existing Ad
creative object.
```
```
Learn more about how to use API for data analytics.
```
```
What is the Facebook Insights API?
Facebook Insights API is an edge or endpoint dedicated to reporting within the
Marketing API. It allows you to retrieve performance data from Facebook
marketing campaigns, i.e. get metrics and statistics about ads, ad sets, and
campaigns. Here is the Insights API cURL syntax:
```
```
/campaigns
```
```
/customaudiences
```
```
/users
```
```
/insights
```
```
/{ad-id} /adcreatives
```
```
/insights
```
```
/leads
```
```
/previews
```
```
/{ad-campaign-id} /adsets
```
```
/ads
```
```
/insights
```
```
/{ad-set-id} /ads
```
```
/adcreatives
```
```
/activities
```
```
/insights
```
```
/{ad-creative-id} /previews
```
```
https://graph.facebook.com/{api_version}/{ads_object}/insights
```
Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
The Insights API is available as an edge on the following objects (nodes):
```
```
Facebook Ads Insights Graph API parameters
You can customize your queries to the Facebook reporting API using the following
parameters: 
Details
Parameter Description Available values
```
```
The attribution window
for the actions. For
example, with 7 d_click,
youʼll return all actions
that happened 7 days
after the click on the ad.
```
```
default – default value
that means
[“7d_click”,”1d_view”]
1 d_view
7 d_view
28 d_view
1 d_click
7 d_click
28 d_click
dda
skan_view
skan_click
```
```
The option to break down
action results. Supports
more than one
breakdowns.
```
```
action_type – default
value
action_device
```
```
action_canvas_compone
nt_name
```
```
action_carousel_card_id
```
```
action_carousel_card_na
me
action_destination
action_reaction
```
```
action_target_idaction_vi
deo_sound
action_video_type
Similar to
, but
applies to summary.
```
```
action_type – default
value
action_device
```
```
action_canvas_compone
nt_name
```
```
action_carousel_card_id
```
```
 /act_{ad-account-id}/insights
 /{ad-id}/insights
 /{ad-campaign-id}/insights
 /{ad-set-id}/insights
```
```
action_attribution_windows
```
```
action_breakdowns
```
```
summary_action_breakdowns
action_breakdowns
```
Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
Parameter Description Available values
```
```
action_carousel_card_na
me
action_destination
action_reaction
action_target_id
action_video_sound
action_video_type
Determines the report
time of action stats.
For example, if a person
saw the ad on Aug, 3 but
converted on Aug 4,
youʼll get different
results:
```
```
will return a conversion
on Aug, 3.
```
```
will return a conversion
on Aug, 4.
```
```
impression
conversion
mixed
```
```
The option to break down
the result. For more than
one breakdown, only
certain combinations are
available.
```
```
ad_format_asset
age
app_id
body_asset
call_to_action_asset
country
description_asset
gender
image_asset
impression_device
link_url_asset
product_id
region
skan_conversion_id
title_asset
video_asset
dma
frequency_value
```
```
hourly_stats_aggregated_
by_advertiser_time_zone
```
```
hourly_stats_aggregated_
by_audience_time_zone
```
```
place_page_idpublisher_
platform
platform_position
device_platform
```
```
action_report_time action_report_time=impre
ssion
```
```
action_report_time=conversion
```
```
breakdowns
```
Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
Parameter Description Available values
Defines the maximum
number of product ids to
be returned for each ad
when breakdown by
product_id.
```
```
<integer>
```
```
Represents a relative
time range. This field is
ignored if or
is specified.
```
```
last_30d – default
value
today
yesterday
this_month
last_month
this_quarter
maximum
last_3d
last_7d
last_14d
last_28d
last_90d
last_week_mon_sun
last_week_sun_sat
last_quarter
last_year
this_week_mon_today
this_week_sun_today
this_year
A single time range
object. This param is
ignored if is
provided.
```
```
since:YYYY-MM-
DD,until:YYYY-MM-DD
```
```
Allows you to choose to
have results for smaller
time slices after you pick
a reporting period by
using or
```
. If
    is
used, you will get one
result set for each
calendar month in the
given period. This param
is ignored if
is specified.

```
all_days – default
value
monthly
(number of days from
1 to 90)
```
```
product_id_limit
```
```
date_preset time_range
time_ranges
```
```
time_range time_ranges
```
```
time_increment
```
```
time_range
date_preset
time_increment=monthly
```
```
time_ranges
```
Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
Parameter Description Available values
Array of time range
objects. Time ranges can
overlap, for example to
return cumulative
insights. Each time range
will have one result set. If
is specified,
,
and are
ignored.
```
```
since:YYYY-MM-
DD,until:YYYY-MM-DD
```
```
Determines whether to
return a summary.
```
```
false – default value
true
Optional parameter to
select fields on the
exporting report file.
```
```
<string>
```
```
Defines the format of the
exporting report file. 
```
```
xls
csv
Defines the file name of
the exporting report. <string>
Defines the fields to be
retrieved. Default
behavior is to return
impressions and spend.
```
```
<string>
```
```
Filters on the report data.
This parameter is an
array of filter objects.
```
```
<string>
```
```
Represents the level of
result.
```
```
ad
adset
campaign
account
Defines the field to sort
the result by and
direction of sorting
(ascending is by default).
For example,
```
```
You can also sort by
action type using the
following syntax:
```
```
For example,
```
```
<string>_ascending
<string>_descending
```
```
Includes a summary
section with the fields
listed in this param.
```
```
<string>
```
```
Enabling this parameter
will return your ads
results using the
```
```
false – default value
true
```
```
Automate Facebook
data exports
```
spreadLsohaede^ Ftsa,c deabtoao wk^ adraethao^ tuoses, or
dashboards with Coupler.io
**GET STARTED FOR FREE**

```
time_ranges
time_ranges
date_preset time_range
time_increment
```
```
default_summary
```
```
export_columns
```
```
export_format
```
```
export_name
```
```
fields
```
```
filtering
```
```
level
```
```
sort
```
```
sort=reach_descending
```
```
actions:irection<>action_type>_<d
```
```
sort=actions:link_click_ascending
```
```
summary
```
```
use_account_attribution_
setting
```
```
Product Solutions Resources Pricing Book a demo | Log in SIGN^ UP
```

```
Parameter Description Available values
attribution settings
defined for the ad
account.
Enabling this parameter
will return your ads
results using unified
attribution settings
defined at ad set level.
The parameter
```
```
will be ignored.
```
```
false – default value
true
```
```
Facebook Ads Insights API fields
More than 70 fields are available with FB Ads Insights API. If you donʼt need all of
them for your report, ensure to use the fields parameter, which allows you to
specify the exact field to return. For example, 
```
```
You can learn the full list of available fields in the Facebook Marketing API
documentation.
```
```
Facebook API Insights metrics
Some of the fields you can export using the Insights API are estimated or in-
development metrics. 
```
```
Here are the metrics that you can get:
Details
Estimated metrics In-development metrics
conversion_rate_ranking
cost_per_unique_action_type
cost_per_unique_click
cost_per_unique_inline_link_click
cost_per_unique_outbound_click
engagement_rate_ranking
frequency
quality_ranking
reach
relevance_score
social_reach
spend
today_spend
```
```
/{business-video-
id}/insights/impressions
/{business-video-
id}/insights/inline_link_clicks
/{business-video-
id}/insights/video_play_actions
/{business-image-id}/impressions
/{business-image-
id}/inline_link_clicks
/{business-image-
id}/video_play_actions
estimated_ad_recallers
estimated_ad_recall_rate
```
Intro to the Facebook Ads API
Facebook Ads manager API
Marketing API rate limiting
logic
Nodes and edges for the
Facebook Ads Reporting API
What is the Facebook Insights
API?
Facebook Ads Insights
Graph API parameters
Facebook Ads Insights API
fields
**Facebook API Insights
metrics**
Facebook API Ads
management
Create a Facebook App
Generate an Access Token
Facebook Ads Insights API
example
Python Facebook Ads API
Can I get stats about
dynamic ads with Facebook
Ads Insights Rest API?
Facebook Ads Insights API –
How to use it without coding
Where can you load insights
from Facebook Ads?
Reporting templates based on
Facebook Ads API
Facebook Ads dashboard
Facebook Ads performance
for mobile apps dashboard
Facebook Ads ecommerce
performance dashboard
Facebook Ads leads
breakdown dashboard
Facebook Ads purchases
breakdown dashboard
Bonus: Facebook Ads Library
API
Facebook Ads Insights API vs.
Coupler.io Facebook Ads
importer

####   

**Table of Contents** 

```
use_unified_attribution_setting
```
```
use_account_attribution_setting
```
```
fields=account_currency,ad_id,ad_name,clicks,cost_per_conversion
```
```
Estimated metrics are derived through statistical sampling or modeling, rather
than a straight count. They can provide directional insights for outcomes that
are difficult to calculate precisely.
```
**-
- In-development metrics** are the metrics that are under testing. 

```
Product Solutions Resources Pricing Book a demo | Log in SIGN^ UP
```

```
Estimated metrics In-development metrics
total_unique_actions
unique_actions
unique_clicks
unique_ctr
unique_inline_link_click_ctr
unique_inline_link_clicks
unique_link_clicks_ctr
unique_outbound_clicks
unique_outbound_clicks_ctr
unique_social_clicks
cpp
store_visit_actions
cost_per_store_visit_actions
total_unique_actions
estimated_ad_recallers
estimated_ad_recall_rate
cost_per_estimated_ad_recallers
unique_actions:
```
```
cost_per_unique_action_types:
```
```
cost_per_estimated_ad_recallers
landing_page_view
```
```
cost_per_action_type:landing_page_vie
w
store_visits
cost_per_store_visit
```
####   

```
app_custom_event.fb_mobile_achiev
ement_unlocked
```
**-**

```
app_custom_event.fb_mobile_activa
te_app
```
**-**

```
app_custom_event.fb_mobile_add_p
ayment_info
```
**-**

```
app_custom_event.fb_mobile_add_t
o_cart
```
**-**

```
app_custom_event.fb_mobile_add_t
o_wishlist
```
**-**

```
app_custom_event.fb_mobile_compl
ete_registration
```
**-**

```
app_custom_event.fb_mobile_conte
nt_view
```
**-**

```
app_custom_event.fb_mobile_initiat
ed_checkout
```
**-**

```
app_custom_event.fb_mobile_level_
achieved
```
**-**

```
app_custom_event.fb_mobile_purch
aseapp_custom_event.fb_mobile_rat
e
```
**-**

```
app_custom_event.fb_mobile_searc
h
```
**-**

```
app_custom_event.fb_mobile_spent_
credits
```
**-**

```
app_custom_event.fb_mobile_tutoria
l_completion
```
**-
-** link_click
**-** landing_page_view
**-** link_click

```
Product Solutions Resources Pricing Book a demo | Log in SIGN^ UP
```

```
Estimated metrics In-development metrics
```
```
Facebook API Ads management
Okay, so letʼs retrieve some analytics from the Facebook Ads reporting API. You
can do this using a command-line tool or a programming language, such as
Python. For this, youʼll need to get an access token first. 
As we mentioned above, each API call must contain an access token passed as a
parameter. To get one, youʼll need to create a Facebook Business App.
```
```
Create a Facebook App
Log in to your Facebook account. Go to https://developers.facebook.com/ and
select My Apps.
```
```
Click Create App and select Business app type. Click Next in the bottom right
corner.
```
```
In the open window, fill out the following fields:
```
**-** landing_page_view

```
Display name – enter the name you like. In your app name, you canʼt use
trademarks or brand elements including FB, Face, Book, Insta, Gram, and Rift,
or any confusingly similar terms.
```


 **App**^ **Contact**^ **Email** – specify^ the^ contact^ email^ address

Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
Click Create App and complete the security check.
The app is now created! You can now get an access token for the Facebook Ads
API.
```
```
Generate an Access Token
Go to Tools => Graph API Explorer.
```
```
Select the following parameters:
```
```
Business Account – optionally you can select your business account from the
drop-down list.  
```


**-** Facebook App – choose your created app.
**-** User or Page – choose Get User Access Token
    Add a Permission – add permission (youʼll find it in Events Groups
    Pages) and other permissions you may need.
**-** ads_read

Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
Click Generate Access Token to link your app to Facebook and obtain the API
token. By default, the access token only lasts for one hour, but you can increase
the expiration time to about 3 months.
```
```
How to extend the Facebook API access token
Click on the blue icon located next to the token. Then click Open in Access
Token Tool.
```


 Click^ **Extend**^ **Access**^ **Token**.

Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
Whatʼs next? Now you can send requests to the Facebook Ads Insights API to
retrieve the data you need. Letʼs now look at how this works.
```
```
Facebook Ads Insights API example
As an example, weʼll get the statistics of an ads campaign for the last year. And
here is a list of fields we will extract:
```
```
Here is a cURL that will let us get the required data from the Facebook Ads API:
```
```
This is how the result looks in the Postman app that we used:
```
 Welcome^ a^ long-lived^ access^ token^ that^ will^ expire^ in^ about^3 months.

```
Click Debug => This will get you back to the Access Token Debugger where
you can copy your access token.
```


**-** account_id
**-** account_name
**-** campaign_id
**-** campaign_name
**-** account_currency
**-** reach
**-** impressions
**-** clicks
**-** cpc
**-** spend

(^) last_year&fields=account_id,account_name,campaign_id,campaign_name,accounhttps://graph.facebook.com/v12.0/23849295425920086/insights?date_preset=
t_currency,reach,impressions,clicks,cpc,spend&access_token={access_token_string}
Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


```
Python Facebook Ads API
Naturally, you can send requests to the API use code, for example written in
Python. For this, youʼll need to install facebook-sdk and import the important
libraries — urllib 3 , facebook, and requests. And here is how the same request will
look if we use Python to retrieve ads insights data:
```
```
Can I get stats about dynamic ads with Facebook Ads
Insights Rest API?
Facebook dynamic ads driven by ML algorithms automatically deliver relevant
offerings to users based on their interests, intent, and actions. With Marketing API,
you can create and deliver ads for your products. To get insights on your dynamic
ads performance, youʼll need the Ads Insights API as described above.
```
```
Facebook Ads Insights API – How to use it
without coding
```
**from** facebook_business.objects **import** AdCampaign (^)
campaign = AdCampaign('23849295425920086')
access_token = 'your_access_token' (^)
params = 'date_preset'{ : 'last_year', (^)
}fields = [ (^)
'account_id''account_name',, (^)
'campaign_id''campaign_name',, (^)
'account_currency''reach', , (^)
'impressions''clicks', , (^)
'cpc''spend', (^)
] (^)
insights = campaign.print insights get_insights(params=params) (^)

##### 

# 

Product Solutions Resources Pricing Book a demo | Log in **SIGN**^ **UP**


**Docs Facebook Pages API**

On This Page

## Facebook Pages API

The Facebook Pages API from Meta allows apps to access and update a Facebook Page's settings and
content, create and get Posts, get Comments on Page owned content, get Page insights, update
actions that Users are able to perform on a Page, and much more.

This document contains the guides you will use to learn abour and implement the Facebook Pages
API.

###### Documentation Contents

We recommend you read each guide in the following order outlined in this document.

```
. Overview – Learn about the components of the Pages API and how it works.
. Getting Started – An introductory tutorial showing you how to publish a post to your Facebook
Page
. Manage a Page – Get a list of your Pages with tasks you can perform on each and Page access
tokens, and update Page settings.
. Posts and Comments – Create, publish, update, and delete Page posts and comments.
. Page Insights – Get insights into your Page posts.
. Pages Search – Search for Pages.
. Page Tabs – Get list of tabs for your Page.
. Meta Webhooks – Get real-time notifications sent to your server for events that happen on your
Page.
. Upcoming Changes – Get notifications about upcoming changes Meta will be implementing on
your Page.
. Error Codes – View error codes and their description for errors you may encounter when
implementing the Pages API.
. Changelog – View the log of changes for the Pages API.
```
```
Facebook Pages API
Overview
```

Create an app

Webhooks

Get Started
Manage a Page

Upcoming Changes

Comments and @Mentions

Posts

Insights

Pages Search

Error Codes

Changelog


**Docs Graph API Get Started**

On This Page

## Get Started

This guide explains how to get started with receiving data from the Facebook Social Graph.

###### Before You Start

You will need:

```
Register as a Meta Developer
A Meta App – This app will be for testing so there is no need to involve your app code when
creating this Meta App.
The Graph API Explorer tool open in a separate browser window
A brief understanding of the structure of the Meta's social graph from our Graph API Overview
guide
```
###### Your First Request

Step 1: Open the Graph API Explorer tool

Open the Graph API Explorer in a new browser window. This allows you to execute the examples as
you read this tutorial.

The explorer loads with a default query with the GET method, the lastest version of the Graph API, the
/me node and the id and name fields in the Query String Field, and your Facebook App.


Step 2. Generate an Access Token

Click the Generate Access Token button. A Log in With Facebook window will pop up. This popup is
your app asking for your permission to get your name and profile picture from Facebook.

This flow is our Facebook Login product that allows a person to log into an app using their
Facebook credentials. Facebook Login allows an app to ask a person to access the person's
Facebook data, and for the person to accept or decline access. Your name and profile
picture are public, to allow people to find you on Facebook, so no additional requirements
are needed to run this request.

Click Continue as...

A User Access Token is created. This token contains information such as the app making the
request, the person using the app to make a request, if the access token is still valid (it
expires in about an hour), the expiration time, and the scope of data the app can request. In
this request the scope is public_profile which includes your name and profile picture.

```
Click the information circle icon next to the acces token
to view the token's information.
```
Step 3. Submit the Request

Click the Submit button in the upper right corner.

What You Should See

In the Response Window, you will see a JSON response with your Facebook User ID and your name.


If you remove ?fields=id,name from the query string field and click Submit, you will see the same
result since name and id are the User node fields returned by default.

###### Your Second Request

Step 1. Let's Add a Field

Let's make the First Request a little more complex by adding another field, email. There are two ways
to add fields:

```
Click the search dropdown menu in the Node Field Viewer to the left of the response window
Start typing in the query string field.
```
Let's add the email field and click Submit.

What You Should See

While the call did not fail, only the name and id fields were returned along with a debug message.
Click the (Show) link to debug the request.


Almost all nodes and fields need a specific permission to access them. The debug message is telling
you that you need to give your app permission to access the email address that you have associated
with your Facebook account.

Step 2. Add a Permission

In the right side panel, under Permissions, click the Add a Permission dropdown
menu. Click User Data Permissions and select email.

Generate A New User Access Token

Because you are changing the scope of the access token, you need to create a new
one. Click Generate Access Token. Just like your first request, you must give your
app permission to access your email in the Facebook Login dialog.

Once the new token has been created, click Submit. Now all fields in your request
will be returned.

Try getting your Facebook posts. See the steps.

Links in the Response

Notice that id values returned in the response window are links. These links can represent nodes, such
as User, Page, or Post. If you click on a link, the ID will replace the contents of the query string field.
Now you can run requests on that node. Because this node is connected to the parent node, a Post of
a User, you may not need to add permissions. You can click on a Post ID now since we will be using it
in the next example.

Notice: Some IDs are a combination of the parent ID and a new ID string. For example, a User's Post
will have a Post ID that looks something like this: 1028223264288_102224043055529 where
1028223264288 is the User ID.

###### Let's Look at an Edge

The User node does not have many edges that can return data. Access to User objects can only be
given by the User who owns the object. In most cases, a User owns an object if they created it.


For example, if you publish a post you can see information about the post such as when it was created,
text, photos, and links shared in the post, and the number of reactions the post received. If you
comment on your post, you will be able to get that comment, but if another person publishes a
comment on your post, you will not be able to see the comment or who published it.

Try getting the number of reactions for one of your posts. You will want to take a look at the Object
Reactions reference. See the steps.

###### Get the Code for your Request

The explorer tool lets you test requests and once you have a successful response, you can get the
code to insert into your app code. At the bottom of the response window, click Get Code. The explorer
offers Android, iOS, JavaScript, PHP, and cURL code. The code is pre-selected so you can just copy
and paste.

We recommend that you implement the Facebook SDK for your app. This SDK will include Facebook
Login which allows your app to ask for permissions and get access tokens.

###### Learn More

You can use the Graph API Explorer to test any request for Users, Pages, Groups, and more. Visit the
reference for each node or edge to determine the permission and access token type required.


**Graph API**

Overview

Status, Support, and Tools

Get Started

```
Graph Explorer Guide
```
Batch Requests

Debug Requests

Handle Errors
Field Expansion

Secure Requests

Upload a File or Video

Changelog

Features Reference

Permissions Reference

Reference

```
Access Token
Facebook Login
Facebook SDKs
```
```
Graph API References
Graph API Explorer Guide
Login Security
Permissions Reference
```

**Docs Graph API**

On This Page

```
If you are a Facebook user and are having trouble signing into your account, visit our Help
Center.
```
## Graph API

The latest version is: v23.0

The Graph API is the primary way for apps to read and write to the Facebook social graph. All of our
SDKs and products interact with the Graph API in some way, and our other APIs are extensions of the
Graph API, so understanding how the Graph API works is crucial.

If you are unfamiliar with the Graph API, we recommend that you start with these documents:

```
. Overview – Learn how the Graph API is structured, and how it works.
. Get Started – Explore the Graph API endpoints using the Graph API Explorer tool and run your
first request.
. Batch requests – Learn how to send multiple API requests in one call.
. Debug requests – Learn how to debug API requests.
. Handle errors – Learn how to handle common errors encountered when using the Graph API.
. Field expansion – Learn how to limit the number of objects returned in a request and perform
nested requests.
. Secure requests – Learn how to make secure requests to the Graph API.
. Resumable Uploads API – Learn how to upload files to the Graph API.
```
Reference
Learn how to read our reference documents so you can easily find what you're looking for.

###### Where to Start

We strongly recommend you start with the Graph API Overview to learn the structure of the Facebook
Social Graph.


**Graph API**

Overview

Status, Support, and Tools

Get Started

Batch Requests

Debug Requests

Handle Errors
Field Expansion

Secure Requests

Upload a File or Video

Changelog

Features Reference

Permissions Reference

Reference


**Docs Graph API Get Started Graph Explorer Guide**

On This Page

## Graph API Explorer Guide

The Graph API Explorer tool allows you to construct and perform
Graph API queries and see their responses for any apps on which
you have an admin, developer, or tester role.

```
Open the Graph API Explorer tool
```
###### Common Uses

```
Quickly generate access tokens
Get code samples for your queries
Generate debug information to include in support requests
Test API queries with your production app's settings including permissions, features, and
settings for your use cases
Test API queries with your test or development app using permission and features on test users
or test data
```
###### Requirements

```
A Facebook Developer Account
An app for which you have a role, such as an admin, developer, or tester role
```
###### Components

Access Token

When you get an access token, it is displayed in the upper right of the tool. This is the token that is
included in your Graph API query. You can copy this token and use it in your app to test your code.

Click the information icon to see information about the current token, including the app that it's tied
to, and any permissions that have been granted by the User who is using the app (which is you).

You can generate a new access token if the token has expired or if you add new permissions.


Meta App

The Meta App dropdown menu in the upper right displays all the apps on which you have an admin,
developer, or tester role. Use the dropdown to select the app settings that you wish to test.

User or Page

The User or Page dropdown menu allows you to get and exchange App, User, and Page access tokens
for the currently selected app. You can also use it to uninstall your app from your User node, which
destroys the current access token.

Permissions

The Permission dropdown menu allows you to select permissions, such as email, pages_show_list,
and ads_management permissions. This allows the current app user (which is you) to grant the app
specific permissions. Only grant permissions that your app actually needs.

If your app is in development, you can grant your app any permission and your queries respect them
for data owned by people with a role on your app. If your app is live, however, granting a permission
that your app has not been approved for by the App Review process causes your query to fail
whenever you submit it.

Query string Field

When you first enter the tool a default query appears. You can edit the query by typing in a new one,
or by searching for and selecting fields in the field viewer after executing the query. You can also use
the dropdown menus to switch between operation methods, and target different versions of the Graph
API.

If you click the star icon at the end of the query field, the query is saved as a favorite. You can view
your favorite queries by clicking the book icon.

Node Field Viewer

When you submit a GET query on a node, the field viewer located in the left side of the window
displays the name of the node and the fields returned by the Graph API. You can modify your query by
searching for and selecting new fields, clicking the plus icon, and choosing from available fields, or
unchecking unnecessary fields. These actions dynamically update your query in the query string field.

Response Window


The response, located below the query string, shows the results returned from your last submitted
query.

Get Code

If you are happy with your query, click the Get Code button located in the botton center below the
response, to generate sample code based on the query. Typically you won't be able to copy and paste
the sample code directly in your code base, but it gives you a useful starting point.

Copy Debug Information

If your query keeps failing and you can't figure out why, and you decide to contact Developer Support,
click this button, located at the bottom center, to copy your query and response details to your
clipboard. You can submit this information with your support request to help us figure out what's
going on.

Save Session

Click the Save Session button, located at the bottom center, to save the state of your query, with the
access token removed. Include the link to this session if you decide to contact Developer Support.

###### Sample Query

Try executing the default query that appears when you first load the Graph API Explorer. If you haven't
already, open the Graph API Explorer in a new window, select the app you want to test from the
application dropdown menu, and get a User access token.

The default query appears in the query string field:

```
GET https: //developers.facebook.com/v23.0/me?fields=id,name
```
The default query is requesting the id and name fields on the /me node, which is a special node that
maps to either the /User or /Page node identified by the token. Since your are using a User access
token, this maps to your User node.

The id and name fields are publicly available and can be returned if the User has granted your app the
default or public_profile permissions. These permissions are pre-approved for all apps (you can
confirm this by clicking the information icon in the Access Token Field), so you don't have to grant
your app any additional permissions for the query to work. Click Get Access Token and confirm that
you want to grant your app access to your publicly available User information.


```
Graph API
Overview
Status, Support, and Tools
Get Started
Graph Explorer Guide
Batch Requests
Debug Requests
Handle Errors
Field Expansion
Secure Requests
Upload a File or Video
Changelog
Features Reference
Permissions Reference
Reference
```
Submit your query, and you should see your app-scoped User ID and name appear in the response
window.


**Docs Facebook Pages API Insights**

On This Page

## Get Page Insights

This guide explains how to get metrics for your Facebook Pages. Get the total number of people who
liked your Page or the number of people who shared stories about your Page.

```
On November 15, 2025, a number of the Page Insights metrics will be deprecated for all API
versions. The API returns an invalid metric error when calling any of these metrics. Read our
blog to learn more.
```
```
On November 1, 2023, a number of the Page Insights metrics were deprecated for all API
versions. The API returns an invalid metric error when calling any of these metrics. Read our
blog to learn more.
```
Limitations
Metric data of public Pages is stored by Facebook for 2 years.
Metric data of unpublished Pages is stored for only 5 days.
When viewing daily metrics with since and until, the first end_time value will be the date
specified by since plus 1 so that it includes the since date data. For example, if you set since
to January 1, 2018, the end_time will be January 2, 2018 at 8:00 GMT.

###### Before You Start

```
pages_read_engagement permission
read_insights permission
A Page Access Token - The person requesting the token must be able to perform the analyze task
on the Page.
```
###### Get a Single Metric

Send a GET request to the /{page-id}/insights/{metric-name} endpoint:


```
curl -i -X GET "https://graph.facebook.com/{page-id}/insights/page_impressions_u
?access_token={page-access-token}"
```
On success your app receives the following response:

```
{
"data": [
{
"name": "page_impressions_unique",
"period": "day",
"values": [
{
"value": 66226 ,
"end_time": "2020-03-10T07:00:00+0000"
},
{
"value": 78037 ,
"end_time": "2020-03-11T07:00:00+0000"
}
],
"title": "Daily Total Reach",
"description": "Daily: The number of people who had any content from your
"id": "{page-id}/insights/page_impressions_unique/day"
},
{
"name": "page_impressions_unique",
"period": "week",
"values": [
{
"value": 202229 ,
"end_time": "2020-03-10T07:00:00+0000"
},
{
"value": 206982 ,
"end_time": "2020-03-11T07:00:00+0000"
}
],
"title": "Weekly Total Reach",
"description": "Weekly: The number of people who had any content from your
"id": "{page-id}/insights/page_impressions_unique/week"
},
{
"name": "page_impressions_unique",
"period": "days_28",
"values": [
{
"value": 427380 ,
"end_time": "2020-03-10T07:00:00+0000"
},
{
```

```
"value": 432909 ,
"end_time": "2020-03-11T07:00:00+0000"
}
],
"title": "28 Days Total Reach",
"description": "28 Days: The number of people who had any content from you
"id": "{page-id}/insights/page_impressions_unique/days_28"
}
],
"paging": {
"previous": "https://graph.facebook.com/{page-id}/insights?access_token={pag
"next": "https://graph.facebook.com/{page-id}/insights?access_token={page-ac
}
}
```
###### Get Multiple Metrics

Send a GET request to the /{page-id}/insights endpoint with the metric field:

```
curl -i -X GET "https://graph.facebook.com/{page-id}/insights
?metric=page_impressions_unique,page_impressions_paid
&access_token={page-access-token}"
```
On success, your app receives the following response:

```
{
"data": [
{
"name": "page_impressions_unique",
"period": "day",
"values": [
{
"value": 60 ,
"end_time": "2024-03-11T07:00:00+0000"
},
{
"value": 50 ,
"end_time": "2024-03-12T07:00:00+0000"
}
],
"title": "Daily Total Reach",
"description": "Daily: The number of people who had any content from your
"id": "PAGE_ID/insights/page_impressions_unique/day"
},
{
"name": "page_impressions_paid",
"period": "day",
```

"values": [
{
"value": 8 ,
"end_time": "2024-03-11T07:00:00+0000"
},
{
"value": 10 ,
"end_time": "2024-03-12T07:00:00+0000"
}
],
"title": "Daily Paid Impressions",
"description": "Daily: The number of times any post or story content from
"id": "PAGE_ID/insights/page_impressions_paid/day"
},
{
"name": "page_impressions_unique",
"period": "week",
"values": [
{
"value": 40 ,
"end_time": "2024-03-11T07:00:00+0000"
},
{
"value": 50 ,
"end_time": "2024-03-12T07:00:00+0000"
}
],
"title": "Weekly Total Reach",
"description": "Weekly: The number of people who had any content from your
"id": "PAGE_ID/insights/page_impressions_unique/week"
},
{
"name": "page_impressions_paid",
"period": "week",
"values": [
{
"value": 50 ,
"end_time": "2024-03-11T07:00:00+0000"
},
{
"value": 106 ,
"end_time": "2024-03-12T07:00:00+0000"
}
],
"title": "Weekly Paid Impressions",
"description": "Weekly: The number of times any post or story content from
"id": "PAGE_ID/insights/page_impressions_paid/week"
},
{
"name": "page_impressions_unique",
"period": "days_28",
"values": [


```
{
"value": 110 ,
"end_time": "2024-03-11T07:00:00+0000"
},
{
"value": 10 ,
"end_time": "2024-03-12T07:00:00+0000"
}
],
"title": "28 Days Total Reach",
"description": "28 Days: The number of people who had any content from you
"id": "PAGE_ID/insights/page_impressions_unique/days_28"
},
{
"name": "page_impressions_paid",
"period": "days_28",
"values": [
{
"value": 120 ,
"end_time": "2024-03-11T07:00:00+0000"
},
{
"value": 20 ,
"end_time": "2024-03-12T07:00:00+0000"
}
],
"title": "28 Days Paid Impressions",
"description": "28 days: The number of times any post or story content fro
"id": "PAGE_ID/insights/page_impressions_paid/days_28"
}
],
...
```
###### Get Metrics of a Page Post

Send a GET request to the /{page-post-id}/insights endpoint with the metric fields:

```
curl -i -X GET "https://graph.facebook.com{page-post-id}/insights
?metric=post_reactions_like_total,post_reactions_love_total,post_reactions_wow
&access_token={page-access-token}"
```
On success, your app receives the following response:

```
{
"data": [
{
"name": "post_reactions_like_total",
```

```
"period": "lifetime",
"values": [
{
"value": 226
}
],
"title": "Lifetime Total Like Reactions of a post.",
"description": "Lifetime: Total like reactions of a post.",
"id": "{page-post-id}/insights/post_reactions_like_total/lifetime"
},
{
"name": "post_reactions_love_total",
"period": "lifetime",
"values": [
{
"value": 17
}
],
"title": "Lifetime Total Love Reactions of a post.",
"description": "Lifetime: Total love reactions of a post.",
"id": "{page-post-id}/insights/post_reactions_love_total/lifetime"
},
{
"name": "post_reactions_wow_total",
"period": "lifetime",
"values": [
{
"value": 1
}
],
"title": "Lifetime Total wow Reactions of a post.",
"description": "Lifetime: Total wow Reactions of a post.",
"id": "{page-post-id}/insights/post_reactions_wow_total/lifetime"
}
],
"paging": {
"previous": "https://graph.facebook.com/{page-post-id}/insights?access_token
"next": "https://graph.facebook.com/{page-post-id}/insights?access_token={pa
}
}
```
###### Get Video Ad Breaks Impressions

Additional Requirements
The person requesting the Page access token must be able to access the monetization insights.

Send a GET request to the /{page-id} endpoint to get daily Video Ad Breaks impressions for a Page:


```
curl -i -X GET \
"https://graph.facebook.com/{page-id}/insights
?metric=page_daily_video_ad_break_ad_impressions_by_crosspost_status
&period=day
&since=2017-12-10
&until=2017-12-14"
```
On success, your app receives the following response:

```
{
"data": [
{
"name": "page_daily_video_ad_breaks_ad_impressions_by_crosspost_status",
"period": "day",
"values": [
{
"value": {
"crossposted": 27584 ,
"owned": 692730
},
"end_time": "2017-12-11T08:00:00+0000"
},
{
"value": {
"owned": 757456 ,
"crossposted": 20593
},
"end_time": "2017-12-12T08:00:00+0000"
},
{
"value": {
"owned": 690092 ,
"crossposted": 15372
},
"end_time": "2017-12-13T08:00:00+0000"
}
],
"title": "Daily page level videos ad impression",
"description": "Number of times an ad was shown during ad breaks in your
"id": "{page-id}/insights/page_daily_video_ad_break_ad_impressions_by_cr
}
...
```
###### Get Daily Video Ad Break Impressions of a Page Post

Send a GET request to the /{page-post-id}/insights endpoint with the metric field:


```
curl -i -X GET "https://graph.facebook.com/{page-post-id}/insights
?metric=post_video_ad_break_ad_impressions
&period=day
&since=2017-12-10
&until=2017-12-14
&access_token={page-access-token}"
```
On success, your app will receive the following response:

```
{
"data": [
{
"name": "total_video_ad_break_ad_impressions",
"period": "day",
"values": [
{
"value": 2612 ,
"end_time": "2017-12-11T08:00:00+0000"
},
{
"value": 1038 ,
"end_time": "2017-12-12T08:00:00+0000"
},
{
"value": 818 ,
"end_time": "2017-12-13T08:00:00+0000"
},
{
"value": 553 ,
"end_time": "2017-12-14T08:00:00+0000"
}
],
"title": "Daily Video Ad Break Ad Impressions",
"description": "Number of times an ad was shown during your video ad break
"id": "{video-id}/video_insights/total_video_ad_break_ad_impressions/day"
}
...
```
###### Get Lifetime Video Ad Break Impressions of a Page Post

```
curl -i -X GET "https://graph.facebook.com/{page-post-id}/insights
?metric=post_video_ad_break_ad_impressions
&period=lifetime
&access_token={page-access-token}"
```
On success, your app will receive the following response:


```
{
"data": [
{
"name": "total_video_ad_break_ad_impressions",
"period": "lifetime",
"values": [
{
"value": 55468
}
],
"title": "Lifetime Video Ad Break Ad Impressions",
"description": "Number of times an ad was shown during your video ad break
"id": "{video-id}/video_insights/total_video_ad_break_ad_impressions/lifet
}
...
```
###### Common Error Codes

```
Error CodeError Code Error MessageError Message DescriptionDescription
```
```
None An empty dataset is returned. You need the read_insights
permission in order to access this
endpoint.
```
```
100 "(#100) The value must be a valid
insights metric"
```
```
The may be a spelling or syntax
issue.
```
```
3001 with "error_subcode":
1504028
```
```
"No metric was specified to be
fetched. Please specify one or
more metrics to be fetched and
try again."
```
```
When using the metric
parameter, at least one metric
must be included in the query.
```
###### See Also

```
Insights Dashboard
Insights Reference Guide
Page Video Ad Breaks Metrics Reference Guide
Video Insights Reference Guide
```

**Facebook Pages API**

Overview
Create an app

Webhooks

Get Started

Manage a Page

Upcoming Changes

Comments and @Mentions

Posts

Insights

```
Deprecated Metrics
```
Pages Search
Error Codes

Changelog


**Docs Marketing API Insights API**

On This Page

## Insights API

Provides a single, consistent interface to retrieve ad statistics.

```
Breakdowns - Group results
Action Breakdowns - Understanding the response from action breakdowns.
Async Jobs - For requests with large results, use asynchronous jobs
Limits and Best Practices - Call limits, filtering and best practices.
```
Before you can get data on your ad's performance, you should set up your ads to track the metrics you
are interested in. For that, you can use URL Tags, Meta Pixel, and the Conversions API.

###### Before you begin

You will need:

```
The ads_read permission.
An app. See Meta App Development for more information.
```
###### Campaign Statistics

To get the statistics of a campaign's last 7 day performance:

```
curl -G \
```
- d "date_preset=last_7d" \
- d "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/API_VERSION/AD_CAMPAIGN_ID/insights"

To learn more, see the Ad Insights Reference.

###### Making Calls


The Insights API is available as an edge on any ads object.

```
API MethodAPI Method
```
```
act_<AD_ACCOUNT_ID>/insights
```
```
<CAMPAIGN_ID>/insights
```
```
<ADSET_ID>/insights
```
```
<AD_ID>/insights
```
Request

You can request specific fields with a comma-separated list in the fields parameters. For example:

```
curl -G \
```
- d "fields=impressions" \
- d "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/v23.0/<AD_ID>/insights"

Response

```
{
"data": [
{
"impressions": "2466376",
"date_start": "2009-03-28",
"date_stop": "2016-04-01"
}
],
"paging": {
"cursors": {
"before": "MAZDZD",
"after": "MAZDZD"
}
}
}
```

###### Levels

Aggregate results at a defined object level. This automatically deduplicates data.

Request

For example, get a campaign's insights on ad level.

```
curl -G \
```
- d "level=ad" \
- d "fields=impressions,ad_id" \
- d "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/v23.0/CAMPAIGN_ID/insights"

Response

```
{
"data": [
{
"impressions": "9708",
"ad_id": "6142546123068",
"date_start": "2009-03-28",
"date_stop": "2016-04-01"
},
{
"impressions": "18841",
"ad_id": "6142546117828",
"date_start": "2009-03-28",
"date_stop": "2016-04-01"
}
],
"paging": {
"cursors": {
"before": "MAZDZD",
"after": "MQZDZD"
}
}
}
```
If you don't have access to all ad objects at the requested level, the insights call returns no data. For
example, while requesting insights with level set to ad, if you don't have access to one or more ad
objects under the ad account, this API call will return a permission error.


###### Attribution windows

The conversion attribution window provides timeframes that define when we attribute an event to an
ad on a Meta app. For background information, see Meta Business Help Center, About attribution
windows. We measure the actions that occur when a conversion event occurs and look back in time 1-
day and 7-days. To view actions attributed to different attribution windows, make a request to /{ad-
account-id}/insights. If you do not provide action_attribution_windows we use 7d_click
and provide it under value.

For example specify action_attribution_windows and 'value' is fixed at 7d_click attribution
window. Make a request to act_10151816772662695/insights?action_attribution_windows=
['1d_click','1d_view'] and get this result:

```
"spend": 2352.45,
"actions": [
{
"action_type": "link_click",
"value": 6608 ,
"1d_view": 86 ,
"1d_click": 6510
},
"cost_per_action_type": [
{
"action_type": "link_click",
"value": 0.35600030266344,
"1d_view": 27.354069767442,
"1d_click": 0.36135944700461
},
```
```
// if attribution window is _not_ specified in query. And note that the number u
// act_10151816772662695/insights
"spend": 2352.45,
"actions": [
{
"action_type": "link_click",
"value": 6608
},
"cost_per_action_type": [
{
"action_type": "link_click",
"value": 0.35600030266344
},
```
###### Field Expansion


Request fields at the node level and by fields specified in field expansion.

Request

```
curl -G \
```
- d "fields=insights{impressions}" \
- d "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/v23.0/AD_ID"

Response

```
{
"id": "6042542123268",
"name": "My Website Clicks Ad",
"insights": {
"data": [
{
"impressions": "9708",
"date_start": "2016-03-06",
"date_stop": "2016-04-01"
}
],
"paging": {
"cursors": {
"before": "MAZDZD",
"after": "MAZDZD"
}
}
}
}
```
###### Sorting

Sort results by providing the sort parameter with {fieldname}_descending or
{fieldname}_ascending:

Request

```
curl -G \
```
- d "sort=reach_descending" \
- d "level=ad" \
- d "fields=reach" \


- d "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/v23.0/AD_SET_ID/insights"

Response

```
{
"data": [
{
"reach": 10742 ,
"date_start": "2009-03-28",
"date_stop": "2016-04-01"
},
{
"reach": 5630 ,
"date_start": "2009-03-28",
"date_stop": "2016-04-03"
},
{
"reach": 3231 ,
"date_start": "2009-03-28",
"date_stop": "2016-04-02"
},
{
"reach": 936 ,
"date_start": "2009-03-29",
"date_stop": "2016-04-02"
}
],
"paging": {
"cursors": {
"before": "MAZDZD",
"after": "MQZDZD"
}
}
}
```
###### Ads Labels

Stats for all labels whose names are identical. Aggregated into a single value at an ad object level. See
the Ads Labels Reference for more information.

Request


```
curl -G \
```
- d "fields=id,name,insights{unique_clicks,cpm,total_actions}" \
- d "level=ad" \
- d 'filtering=[{"field":"ad.adlabels","operator":"ANY", "value":["Label Name"]}]
- d 'time_range={"since":"2015-03-01","until":"2015-03-31"}' \
- d "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/v23.0/AD_OBJECT_ID/insights"

Response

```
{
"data": [
{
"unique_clicks": 74 ,
"cpm": 0.81081081081081,
"total_actions": 49 ,
"date_start": "2015-03-01",
"date_stop": "2015-03-31",
},
],
"paging": {
"cursors": {
"before": "MA==",
"after": "MA==",
}
}
}
```
###### Clicks definition

To better understand the click metrics that Meta offers today, please read the definitions and usage of
each below:

```
Link Clicks, actions:link_click - The number of clicks on ad links to select destinations or
experiences, on or off Meta-owned properties. See Ads Help Center, Link Clicks
```
```
Clicks (All), clicks - The metric counts multiple types of clicks on your ad, including certain
types of interactions with the ad container, links to other destinations, and links to expanded ad
experiences. See Ads Help Center, Clicks(All)
```
###### Deleted and Archived Objects


Ad units may be DELETED or ARCHIVED. The stats of deleted or archived objects appear when you
query their parents. This means if you query impressions at the ad set level, results include
impressions from all ads in the set it, regardless of whether the the ads are in a deleted or archived
state. See also, Storing and Retrieving Ad Objects Best Practice.

However, if you query using filtering, status filtering will be applied by default to return only Active
objects. As a result, the total stats of the parent node may be greater than the stats of its children.

You can get the stats of ARCHIVED objects from their parent nodes though, by providing an extra
filtering parameter.

Request

To get the stats of all ARCHIVED ads in an ad account listed one by one:

```
curl -G \
```
- d "level=ad" \
- d "filtering=[{'field':'ad.effective_status','operator':'IN','value':['ARCHIV
- d "access_token=<ACCESS_TOKEN>" \
"https://graph.facebook.com/v23.0/act_<AD_ACCOUNT_ID>/insights/"

Response

Note that only archived objects are returned in this response.

```
{
"data": [
{
"impressions": "1741",
"date_start": "2016-03-11",
"date_stop": "2016-03-12"
}
],
"paging": {
"cursors": {
"before": "MAZDZD",
"after": "MAZDZD"
}
}
}
```
Deleted Objects Insights


You can query insights on deleted objects if you have their IDs or by using the ad.effective_status
filter.

Request

For example, if you have the ad set ID:

```
curl -G \
```
- d "fields=id,name,status,insights{impressions}" \
- d "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/v23.0/AD_SET_ID"

In this example, we query with ad.effective_status:

```
POST https: //graph.facebook.com/<VERSION>/act_ID/insights?access_token=token&app
```
Response

```
{
"id": "6042147342661",
"name": "My Like Campaign",
"status": "DELETED",
"insights": {
"data": [
{
"impressions": "1741",
"date_start": "2016-03-11",
"date_stop": "2016-03-12"
}
],
"paging": {
"cursors": {
"before": "MAZDZD",
"after": "MAZDZD"
}
}
}
}
```
###### Troubleshooting


Timeouts

The most common issues causing failure at this endpoint are too many requests and time outs:

```
On /GET or synchronous requests, you can get out-of-memory or timeout errors.
On /POST or asynchronous requests, you can possibly get timeout errors. For asynchronous
requests, it can take up to an hour to complete a request including retry attempts. For example if
you make a query that tries to fetch large volume of data for many ad level objects.
```
Recommendations
There is no explicit limit for when a query will fail. When it times out, try to break down the query
into smaller queries by putting in filters like date range.
Unique metrics are time consuming to compute. Try to query unique metrics in a separate call to
improve performance of non-unique metrics.

Rate Limiting

The Meta Insights API utilizes rate limiting to ensure an optimal reporting experience for all of our
partners. For more information and suggestions, see our Insights API Limits & Best Practices.

Discrepancy with Ads Manager

```
Beginning June 10, 2025, to reduce discrepancies with Meta Ads Manager,
use_unified_attribution_setting and action_report_time parameters will be
disregarded and API responses will mimic Ads Manager settings:
```
```
Attributed values will be based on Ad-Set-level attribution settings (similar to
use_unified_attribution_setting=true), and inline/on-ad actions will be
included in 1d_click or 1d_view attribution window data. After this change,
standalone inline attribution window data will no longer be returned.
Actions will be reported using action_report_time=mixed: on-Meta actions (like
Link Clicks) will use impression-based reporting time; whereas off-Meta actions (like
Web Purchases) will leverage conversion-based reporting time.
```
The default behavior of the API is different from the default behavior in Ads Manager. If you would like
to observe the same behavior as in Ads Manager, please set the field
use_unified_attribution_setting to true.

###### Learn More

```
Ad Account Insights
```

```
Marketing API
Overview
Get Started
Ad Creative
Bidding
Ad Rules Engine
Audiences
Insights API
Breakdowns
Limits & Best Practices
Tracking and Conversion Specs
Marketing Mix Modeling
Conversion Lift Measurement
Split Testing
Ad Volume
Offline Conversions
App Events API
Brand Safety and Suitability
Best Practices
Troubleshooting
API Reference
Changelog
```
```
Ad Campaign Insights
Ad Set Insights
Ad Insights
```
Any endpoints not in the above list are not covered in this API. If you plan to include reports from Meta
in your solution, see Meta Platform Terms and Developer Policies for Marketing API.

```
Subscribe to Changes
```

**Docs Marketing API Insights API Limits & Best Practices**

On This Page

## Limits and Best Practices

```
Beginning June 10, 2025, to improve overall API performance, reach will no longer be returned fo
standard queries that apply breakdowns and use start_dates more than 13 months old. (Respo
to such requests will omit reach and related fields, such as frequency and cpp.)
```
```
To apply breakdowns and still retrieve >13-month-old reach values, you can use asynchronous j
make up to 10 requests per Ad Account per day. Check the x-Fb-Ads-Insights-Reach-Throt
header to monitor how close you are to that rate-limit, and note that once the rate-limit is breache
requests will omit reach and related fields.
```
```
When the rate limit threshold for reach-related breakdowns is exceeded, the following error messa
be returned:
```
```
Reach - related metric breakdowns are unavailable due to rate limit thresh
```
Facebook Insights API provides performance data from Facebook marketing campaigns. To protect
system performance and stability, we have protective measures to equally distribute system resources
among applications. All policies we describe below are subject to change.

###### Data Per Call Limits

We use data-per-call limits to prevent a query from retrieving too much data beyond what the system
can handle. There are 2 types of data limits:

```
. By number of rows in response, and
. By number of data points required to compute the total, such as summary row.
```
These limits apply to both sync and async /insights calls, and we return an error:

```
error_code = 100 , CodeException (error subcode: 1487534 )
```

Best Practices, Data Per Call Limits

```
Limit your query by limiting the date range or number of ad ids. You can also limit your query to
metrics that are necessary, or break it down into multiple queries with each requesting a subset
of metrics.
Avoid account-level queries that include high cardinality breakdowns such as
action_target_id or product_id, and wider date ranges like lifetime.
Use /insights edge directly with lower level ad objects to retrieve granular data for that level.
For example, first use the account-level query to fetch the list of lower-level object ids with
level and filtering parameters. In this example, we fetch all campaigns that recorded some
impressions:
```
```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
- d 'level=campaign' \
- d 'filtering=[{field:"ad.impressions",operator:"GREATER_THAN",value:0}]' \
'https://graph.facebook.com/v2.7/act_<ACCOUNT_ID>/insights'

```
We can then use /<campaign_id>/insights with each returned value to query and batch the
insights requests for these campaigns in a single call:
```
```
curl \
```
- F 'access_token=<ACCESS_TOKEN>' \
- F 'batch=[ \
{ \
"method": "GET", \
"relative_url": "v23.0/<CAMPAIGN_ID_1>/insights?fields=impressions,spend,ad_
}, \
{ \
"method": "GET", \
"relative_url": "v23.0/<CAMPAIGN_ID_2>/insights?fields=impressions,spend,ad_
}, \
{ \
"method": "GET", \
"relative_url": "v23.0/<CAMPAIGN_ID_3>/insights?fields=impressions,spend,ad_
} \
]' \
'https://graph.facebook.com'

```
Use filtering parameter only to retrieve insights for ad objects with data. The field value
specified in filtering uses DOT notation to denote the fields under the object. Please note
that filtering with STARTS_WITH and CONTAIN does not change the summary data. In this case,
use the IN operator. See example of a filtering request:
```

```
curl -G \
```
- d 'access_token=<ACCESS_TOKEN>' \
- d 'level=ad' \
- d 'filtering=[{field:"ad.impressions",operator:"GREATER_THAN",value:0},]' \
'https://graph.facebook.com/v23.0/act_<ACCOUNT_ID>/insights'

```
Use date_preset if possible. Custom date ranges are less efficient to run in our system.
Use batch requests for multiple sync calls and async to query for large volume of data to avoid
timeouts.
Try sync calls first and then use async calls in cases where sync calls timeout
Insights refresh every 15 minutes and do not change after 28 days of being reported
```
###### Insights Call Load Limits

Ninety days from the release of v3.3 and effective for all public versions, we change the ad account
level rate limit to better reflect the volume of API calls needed. We compute the rate limit quota on
your Marketing API access tier and the business owning your app. see Access and Authentication. This
change applies to all Ads Insights API endpoints: GET {adaccount_ID}/insights, GET
{campaign_ID}/insights, GET {adset_ID}/insights, GET {ad_ID}/insights, POST
{adaccount_ID}/insights, POST {campaign_ID}/insights, POST {adset_ID}/insights, POST
{ad_ID}/insights.

We use load limits for optimal reporting experience. We measure API calls for their rate as well as the
resources they require. We allow a fixed load limit per application per second. When you exceed that
limit, your requests fail.

Check the x-fb-ads-insights-throttle HTTP header in every API response to know how close
your app is to its limit as well as to estimate how heavy a particular query may be. Insights calls are
also subject to the default ad account limits shown in the x-ad-account-usage HTTP header. More
details can be found here Marketing API, Best Practices

Once an app reaches its limit, the call gets an error response with error_code = 4,
CodedException. You should stay well below your limit. If your app reaches its allowed limits, only a
certain percentage of requests go through, depending on the query, and the rate.

We apply rate limiting to each app sending synchronous and asynchronous /insights calls
combined. The two main parameters limits are counted against are by application, and by ad account.

Here's an example of the HTTP header with an application's accrued score as a percentage of the
limits:

```
X-FB- Ads - Insights - Throttle : { "app_id_util_pct": 100 , "acc_id_util_pct": 10 , "ad
```

The header "x-fb-ads-insights-throttle" is a JSON value containing these info:

```
app_id_util_pct — The percentage of allocated capacity for the associated app_id has
consumed.
acc_id_util_pct — The percentage of allocated capacity for the associated ad account_id has
consumed.
ads_api_access_tier — Tiers allows your app to access the Marketing API. standard_access
enables lower rate limiting.
```
Global Rate Limits

During periods of elevated global load to the /insights endpoint, the system can throttle requests to
protect the backend. This can occur in rare cases when too many queries of high complexity (large
time ranges, complex metrics, and/or high number of ad object IDs) are coming at the same time. This
will manifest in an error that looks like this:

```
error_code = 4 , CodeException (error subcode: 1504022 ), error_title: Too many A
```
During these periods, it is advised to reduce calls, wait a short period, and query again.

Rate Limits Best Practices

```
Sending several queries at once are more likely to trigger our rate limiting. Try to spread your
/insights queries by pacing them with wait time in your job.
Use the rate information in the HTTP response header to moderate your calls. Add a back-off
mechanism to slow down or pause your /insights queries when you come close to hitting
100% utility for your application, or for your ad account.
We report ad insights data in the ad account's timezone. To retrieve insights data for the
associated ad account daily, consider the time of day using the account timezone. This helps
pace queries throughout the day.
Check the ads_api_access_tier that allows you to access the Marketing API. By default, apps
are in the development_access tier and standard_access enables lower rate limiting. To get a
higher rate limit and get to the standard tier, you can apply for the "Advanced Access" to the Ads
Management Standard Access feature.
```
###### Insights API Asynchronous Jobs

Fetch stats on many objects and apply filtering and sorting; we made the asynchronous workflow
simpler:


1. Send a **POST** request to **<AD_OBJECT>/insights** endpoint, which responds with the **id** of an Ad
Report Run.

```
{
"report_run_id": 6023920149050 ,
}
```
Do not store the report_run_id for long term use, it expires after 30 days.

2. Ad Report Runs contain information about this asynchronous job, such as **async_status**. Poll this
field until **async_status** is **Job Completed** and **async_percent_completion** is **100**.

```
{
"id": "6044775548468",
"account_id": "1010035716096012",
"time_ref": 1459788928 ,
"time_completed": 1459788990 ,
"async_status": "Job Completed",
"async_percent_completion": 100
}
```
3. Then you can query **<AD_REPORT_RUN_ID>/insights** edge to fetch the final result.

```
{
"data": [
{
"impressions": "9708",
"date_start": "2009-03-28",
"date_stop": "2016-04-04"
},
{
"impressions": "18841",
"date_start": "2009-03-28",
"date_stop": "2016-04-04"
}
],
"paging": {
"cursors": {
"before": "MAZDZD",
"after": "MQZDZD"
}
}
}
```
This job gets all stats for the account and returns an asynchronous job ID:


```
curl \
```
- F 'level=campaign' \
- F 'access_token=<ACCESS_TOKEN>' \
https: _//graph.facebook.com/v23.0/<CAMPAIGN_ID>/insights_
curl -G \
- d 'access_token=<ACCESS_TOKEN>' \
https: _//graph.facebook.com/v23.0/1000002_
curl -G \
- d 'access_token=<ACCESS_TOKEN>' \
https: _//graph.facebook.com/v23.0/1000003/insights_

Async Job Status

```
StatusStatus DescriptionDescription
```
```
Job Not Started Job has not started yet.
```
```
Job Started Job has been started, but is not yet running.
```
```
Job Running Job has started running.
```
```
Job Completed Job has successfully completed.
```
```
Job Failed Job has failed. Review your query and try again.
```
```
Job Skipped Job has expired and skipped. Please resubmit your job and try again.
```
###### Export Reports

We provide a convenience endpoint for exporting <AD_REPORT_RUN_ID> to a localized human-
readable format.

Note: this endpoint is not part of our versioned Graph API and therefore does not conform to its
breaking-change policy. Scripts and programs should not rely on the format of the result as it may
change unexpectedly.


```
Marketing API
Overview
Get Started
Ad Creative
Bidding
Ad Rules Engine
Audiences
Insights API
Breakdowns
Limits & Best Practices
Tracking and Conversion Specs
Marketing Mix Modeling
```
```
curl -G \
```
- d 'report_run_id=<AD_REPORT_RUN_ID>' \
- d 'name=myreport' \
- d 'format=xls' \
'https://www.facebook.com/ads/ads_insights/export_report/'

```
NameName DescriptionDescription
```
name

_string_

```
Name of downloaded file
```
format

_enum{csv,xls}_

```
Format of file
```
report_run_id

_integer_

```
ID of report to run
```
access_token

_string_

```
Permissions granted by the logged-in user. Provide this to export reports for
another user.
```
```
Subscribe to Changes
```

```
Conversion Lift Measurement
Split Testing
Ad Volume
Offline Conversions
App Events API
```
Brand Safety and Suitability

Best Practices

Troubleshooting

API Reference

Changelog


**Docs Facebook Pages API Manage a Page**

On This Page

## Manage a Page

This document shows you how to perform the following tasks for a Facebook Page:

```
Get a list of pages that you can perform a task on including:
Specific tasks you can perform on each Page
Page access tokens for each Page that you can use to test API calls
Get and update details about a Page
Get and update settings for a Page
Get notifications about suggested changes Meta will be implementing on a Page
Accept or reject these suggested changes
Get reviews for a Page
Block a person from a Page
```
###### Before you start

This guide assumes you have read the Pages API Overview.

For a person who can perform tasks on the page, you will need to implement Facebook Login for
Business to ask for the following permissions and receive a User or Page access token:

```
pages_manage_engagement
pages_manage_metadata
pages_manage_posts
pages_read_engagement
pages_read_user_engagement
pages_show_list
publish_video permission, if you are publishing a video to the Page
```
If using a business system user in your API requests, the business_management permission is
required.

Your app user must be able to perform the CREATE_CONTENT, MANAGE, and/or MODERATE tasks on the
Page in the API requests.

Best practices


When testing an API call, you can include the access_token parameter set to your access token.
However, when making secure calls from your app, use the access token class.

Example requests are formatted for readability. Replace bold, italics values, such as page_id, with your
values.

###### Pages, tasks, and tokens

A single API call can give you a lot of information for Pages on which you can perform a task.

Get your Pages

To get a list of all Pages on which you can perform tasks, the tasks you can perform on each page, and
a short-lived Page access token for each Page, send a GET request to /user_id/accounts endpoint
using a User access token.

Example request

```
curl -i -X GET
"https://graph.facebook.com/ user_id /accounts"
```
On success, your app will receive a JSON response with an array of Page objects. Each Page object
contains:

```
The name for the Page
The ID for the Page
The Page category, category name and ID
A short-lived Page access token
All tasks the user can perform on the Page
```
Example response

```
{
"data": [
{
"access_token": "{facebook-for-developers-page-access-token}",
"category": "Internet Company",
"category_list": [
{
"id": "2256",
"name": "Internet Company"
}
],
```

```
"name": "Facebook for Developers",
"id": "{facebook-for-developers-page-id}",
"tasks": [
"ANALYZE",
"ADVERTISE",
"MODERATE",
"CREATE_CONTENT"
]
},
{
"access_token": "{my-outlandish-stories-page-access-token}",
"category": "Blogger",
"category_list": [
{
"id": "361282040719868",
"name": "Blogger"
}
],
"name": "My Outlandish Stories",
"id": "{my-outlandish-stories-page-id}",
"tasks": [
"ANALYZE",
"ADVERTISE",
"MODERATE",
"CREATE_CONTENT",
"MANAGE"
]
},
...
]
}
```
Get tasks for others

If you can perform the MANAGE task on the Page, you can get a list of other people who can perform
tasks on that Page including the tasks each person can perform.

To get a list of people and the tasks they can perform on the Page, send a GET request to the
/page_id/roles endpoint.

Example request

```
curl -i -X GET "https://graph.facebook.com/ page_id /roles"
```
On success, your app receives a JSON response with the person's name, their Page-scoped ID, and
tasks each person can perform on a Page.


Example response

```
{
"data": [
{
"name": "Person One",
"id": "page_scoped_id_for_one"
"tasks": [
"ANALYZE"
]
},
{
"name": "Person Two",
"id": "page_scoped_id_for_two",
"tasks": [
"ANALYZE",
"ADVERTISE",
"MODERATE",
"CREATE_CONTENT",
"MANAGE"
]
},
...
],
}
```
###### Page details

If you can perform the MANAGE task on the Page, you can use a Page access token or if your app has
been approved for the Page Public Content Access feature, you can use a User access token, to view
details for a Page such as about, email, hours of operation, etc.

Get details

To get details about a Page, send a GET request to the /page_id endpoint with the fields parameter
set to the Page details you would like to view.

Note: You can use the /pages/search endpoint to find Page IDs when using the Page Public Content
Access feature.

Example request

```
curl -i -X GET "https://graph.facebook.com/ page_id \
?fields=about,attire,bio,location,parking,hours,emails,website"
```

On success, your app receives a JSON response with value for the fields you requested. If a field is not
returned in the response, the Page does not have this value set. For example, if the Page has not set
the attire field, this field will not be returned in the response.

Update details

If you can perform the MANAGE task on the Page, you can use a Page access token to send a POST
request to the /page_id endpoint with the parameters that you want to update, such as the about
parameter.

Example request

```
curl -i -X POST "https://graph.facebook.com/ v23.0/page_id " \
```
- H "Content-Type: application/json" \
- d '{
"about":"This is an awesome cafe located downtown!",
}'

On success, your app will receive a JSON response with success set to true.

Meta proposed changes

On occassion, Meta will propose changes to the details for your Page, such as fixing a typo, or
updating the categories on your Page to help people better find your Page. In order to get these
notifications, you must be subscribed to the page_upcoming_change and/or the
page_change_proposal webhook.

Once you receive the notification, you can do one of the following:

```
Do nothing and the changes will take affect at the time designated in the notification
Actively accept the changes and the changes will take affect immediately
Actively reject the changes and no changes will be made
```
Accept or reject a proposed change
To actively accept or reject a proposed change, send a POST request to the
/page_change_proposal_id endpoint with the accept field set to true to accept the change or
false to reject it. The page_change_proposal_id is the proposal.id value you received in the
page_upcoming_change webhook notification or value.id value you received in the
page_change_proposal webhook notification.

```
curl -i -X POST "https://graph.facebook.com/ v23.0/page_change_proposal_id " \
```
- H "Content-Type: application/json" \


- d '{
"accept":"true",
}'

On success, your app receives a JSON response with success set to true.

###### Page settings

If you can perform the MANAGE task on the Page, you can use a Page access token to send a GET
request to the /page_id/settings endpoint to get a list of all the settings for that Page.

Example request

```
curl -i -X GET "https://graph.facebook.com/ v23.0/page_id /settings"
```
On success, your app will receive a JSON response with an array of objects where each object is the
setting set to a Page setting and the value, either true or false.

Example response

```
{
"data": [
{
"setting": "USERS_CAN_POST",
"value": false
},
{
"setting": "USERS_CAN_MESSAGE",
"value": true
},
{
"setting": "USERS_CAN_POST_PHOTOS",
"value": true
},
...
]
}
```
Update a setting

To update the settings for a Page, send a POST request to the /page_id/settings endpoint with the
option parameter set to the setting you want to update.


Example request

```
curl -i -X POST "https://graph.facebook.com/ v23.0/page_id /settings" \
```
- H "Content-Type: application/json" \
- d '{
"option":{"USERS_CAN_MESSAGE": "true"},
}'

On success, your app receives a JSON response with success set to true.

###### Get reviews

You can get reviews for a Page, including the name of the reviewer, their Page-scoped ID, whether it
was a positive or negative recommendation, and the review text, send a GET request to the
/page_id/ratings endpoint.

Example request

```
curl -i -X GET "https://graph.facebook.com/ page_id /ratings"
```
On success, your app receives a JSON array with review objects. Each object contains:

```
created_time set to the time the review was created,
recommendation_type set to positive or negative
review_text set to the content for the review
a reviewer object with the name and id for the person who wrote that review
```
```
{
"data": [
{
"created_time": "unixtimestamp",
"recommendation_type": "positive",
"review_text": "I love this page!",
"reviewer": {
"name": "Person One",
"id": "psid_for_one"
}
},
{
"created_time": "unixtimestamp",
"recommendation_type": "positive",
"review_text": "This page is wonderful!",
"reviewer": {
"name": "Person Two",
"id": "psid_for_two"
```

```
}
},
...
]
}
```
###### Block a person

To block a person from commenting on a Page, send a POST request to the /page_id/blocked
endpoint with the user parameter set to Page-scoped ID for the person you want to block.

Example request

```
curl -i -X POST "https://graph.facebook.com/ v23.0/page_id /blocked"
```
- H "Content-Type: application/json" \
- d '{
"user":" **_psid_to_block_** ",
}'

On success, your app receives a JSON response with the Page-scoped ID set to true.

```
{
" psid_to_block ": true
}
```
###### Next steps

Learn how to publish links, photos, and videos to your Page.

###### See also

```
Meta Webhooks for Pages
Meta Business Help Center – Business System User
```
References
Page Reference
Page Blocked Reference
Page Feed Reference
Page Post Reference


**Facebook Pages API**

Overview

Create an app

Webhooks

Get Started

Manage a Page

Upcoming Changes
Comments and @Mentions

Posts

Insights

Pages Search

Error Codes

Changelog

```
Page Settings
Page Upcoming Change Reference
Permissions Reference
User Accounts Reference
```

**Docs Marketing API Insights API Marketing Mix Modeling**

On This Page

## Marketing Mix Modeling

## Breakdown on Insights API

The Marketing Mix Modeling Breakdown on Insights API is a self-service data extraction option that
clients can use in order to export Meta ads data quickly and easily for marketing mix modeling without
going through a Meta Marketing Science Partner or third-party agencies and mobile measurement
partners.

The API calls are built into the Insights API using the breakdowns=mmm parameter. Unlike other
breakdowns, it doesn't support combination with other breakdowns or action_breakdowns.

The responses contain similar metrics and breakdowns as results from the Marketing Mix Modeling
Data Export in Ads Reporting. Marketing mix modeling data is available only on the ad set level, which
is the default behavior (equivalent to the level=adset parameter). Currently the supported metrics
for marketing mix modeling data are impressions and spend. Note: spend is an estimated metric. To
learn more, see Insights API, Estimated and Deprecated Metrics.

###### Quickstart

```
To call the Insights API you need the ads_read permission for your given ad account.
```
To get the marketing mix modeling data:

```
curl \
```
- F "access_token=ACCESS_TOKEN" \
- F "breakdowns=mmm" \
"https://graph.facebook.com/v23.0/act_AD_ACCOUNT_ID/insights"

The Insights API uses default values for parameters not specified in the call. We recommend using the
time_range and date_preset parameters. The granularity of the response can be increased further
by using time_increment.


Example

This API call gets the daily marketing mix modeling data for the last week:

```
curl \
```
- F "access_token=ACCESS_TOKEN" \
- F "breakdowns=mmm" \
- F "date_preset=last_7d" \
- F "time_increment=1” \
"https: _//graph.facebook.com/v23.0/act_AD_ACCOUNT_ID/insights"_

For more information about the Insights API and how to onboard to the Marketing API see the Insights
API Quickstart.

###### Querying at the Business Manager Level

A common use case would be to retrieve marketing mix modeling data for a single Business Manager.
This operation isn't directly supported because the Insights API works on the ad account level and
below.

```
. To download data for a Business Manager you first need to query available ad accounts with the
owned_ad_accounts and client_ad_accounts endpoints.
```
```
curl \
```
- F "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/v23.0/BUSINESS_ID/owned_ad_accounts"

```
curl \
```
- F "access_token=ACCESS_TOKEN" \
"https://graph.facebook.com/v23.0/BUSINESS_ID/client_ad_accounts"

```
. Iterate over the returned individual ad account IDs to query the marketing mix modeling data for
each ad account.
```
###### Limits and Best Practices

The granularity of marketing mix modeling data causes the response to have a great number of
records as well as large record size. This can cause your requests to time out during computation. To
mitigate this, decrease the size of the request by using time_range and filtering and query for the
total time range in sections. To learn more, see Insights API Limits & Best Practices.


For this release there is only a specific filtering supported for querying the marketing mix modeling
data. Only these listed operator combinations are allowed for a field, and other usages of filtering
will return an error.

```
FieldField Allowed OperatorsAllowed Operators
```
```
campaign.id IN, NOT_IN
```
```
campaign.name CONTAIN, NOT_CONTAIN
```
```
adset.id IN, NOT_IN
```
```
adset.name CONTAIN, NOT_CONTAIN
```
```
country IN
```
```
region IN
```
```
dma IN
```
```
device_platform IN
```
```
publisher_platform IN
```
```
platform_position IN
```
We recommend leveraging the Marketing Mix Modeling Data Export in Ads Reporting to export
historical data if the API is not needed.

Alternatively, you can use the Insights API Asynchronous Jobs flow. This creates a job that computes
the data in an asynchronous fashion. The endpoint responds with the id of an Ad Report Run, which
you can query for the job status and to retrieve the computed data. However, note that some requests
can time out even as an asynchronous job. For more information, see Insights API Asynchronous Jobs.

Please note that this release may have slightly different column header mappings and column header
ordering than the Marketing Mix Modeling Data Export in Ads Reporting. Additionally, you have full


flexibility to join the Marketing Mix Modeling Breakdown's default data with other tables queried from
the API.

```
Column IndexColumn Index
```
```
Default Column Headers from Marketing Mix ModelingDefault Column Headers from Marketing Mix Modeling
BreakdownBreakdown
```
```
0 account_id
```
```
1 campaign_id
```
```
2 adset_id
```
```
3 date_start
```
```
4 date_stop
```
```
5 impressions
```
```
6 spend
```
```
7 country
```
```
8 region
```
```
9 dma
```
```
10 device_platform
```
```
11 platform_position
```
```
12 publisher_platform
```
```
13 creative_media_type
```

**Marketing API**

Overview

Get Started

Ad Creative

Bidding

Ad Rules Engine

Audiences
Insights API

Breakdowns
Limits & Best Practices
Tracking and Conversion Specs
Marketing Mix Modeling
Conversion Lift Measurement
Split Testing
Ad Volume
Offline Conversions
App Events API
Brand Safety and Suitability

Best Practices

Troubleshooting

API Reference

Changelog


**Docs Marketing API Get Started Ad Optimization Basics Monitoring and Analytics**

On This Page

## Monitoring and Analytics

Monitoring campaign performance using the Insights API enables you to gather crucial data about
your advertising efforts, allowing you to evaluate what works and what does not. By leveraging the
performance metrics provided by the Insights API, you can refine your campaigns, improve targeting,
and ultimately understand which strategies are successful and how to best spend your resources
across Meta technologies such as Facebook and Instagram.

###### Querying Analytics Data

To extract performance metrics, you can make GET requests to the
/act_<AD_ACCOUNT_ID>/insights endpoint. The request can include various parameters such as
fields, time_range, and filtering, allowing for a tailored response that matches specific
analytical needs. For instance, by specifying fields like impressions, clicks, and spend, you can
gain insights into how well your campaigns are performing against goals.

Example API Request:

```
curl -X GET \
https: //graph.facebook.com/v23.0/act_<AD_ACCOUNT_ID>/insights \
```
- F 'fields=impressions,clicks,spend' \
- F 'time_range={"since":"2023-01-01","until":"2023-12-31"}' \
- F 'access_token=<ACCESS_TOKEN>'

###### Interpreting Results

Key performance indicators (KPIs) such as click-through rates (CTR), cost per click (CPC), and return
on ad spend (ROAS) offer insights into how effectively the campaigns are driving user engagement
and conversions. For example, a low CTR may indicate that the ad creative is not resonating with the
audience, prompting the need for adjustments.


```
Marketing API
Overview
Get Started
Authorization
Authentication
Basic Ad Creation
Manage Campaigns
Ad Optimization Basics
Monitoring and Analytics
Optimization Tips
Ad Creative
Bidding
Ad Rules Engine
Audiences
Insights API
Brand Safety and Suitability
Best Practices
Troubleshooting
```
###### Using Insights for Ongoing Optimization

By continuously monitoring performance data, you can identify trends and make informed
adjustments. For instance, if certain ads yield high engagement but lead to low conversions, you can
experiment with different calls-to-action or refine targeting parameters.

Insights also can help guide budget allocation. If specific demographics show higher engagement
rates, reallocating budgets to these segments can enhance overall campaign effectiveness.

###### Learn More

```
Insights Reference
Insights API
```
##### ← Previous

Ad Optimization Basics

##### Next →

Optimization Tips


API Reference

Changelog


**Docs Marketing API Get Started Ad Optimization Basics Optimization Tips**

On This Page

## Optimization Tips

Maximizing the effectiveness of advertising campaigns using the Marketing API requires a strategic
approach that encompasses audience targeting, budget allocation, ad creatives, and real-time
optimization. This document contains actionable tips that cater to both new and experienced
marketers.

By implementing these best practices and optimization tips, you can enhance the effectiveness of
your ad campaigns, ensuring they not only reach your target audience but also drive meaningful
engagement and conversions.

###### Audience Targeting

Utilize Custom Audiences

Leverage the ability to create custom audiences based on user interactions with your business, such
as website visitors or app users. This ensures that your ads reach individuals who are already familiar
with your offerings.

Segment Your Audience

Use demographic filters—age, gender, location, and interests—to segment your audience. Tailoring
your ads to specific segments increases the likelihood of engagement and conversions.

Lookalike Audiences

Create lookalike audiences to reach new potential customers that resemble your best existing
customers. This can help expand your reach effectively.

###### Budget Allocation


Set Clear Objectives

Clearly define the objective of each campaign (for example, brand awareness or lead generation) and
allocate budgets accordingly. Different objectives may require different budget strategies.

Monitor Performance

Regularly review campaign performance metrics to adjust budgets based on which ads or ad sets are
performing best. Shift funds towards the highest-performing areas to maximize ROI.

Daily Budget Management

Consider setting daily budgets for campaigns to control spending and prevent overspending. This
approach allows for flexibility in adjusting budgets based on performance trends.

###### Ad Creatives

High-Quality Visuals

Invest in high-quality images and videos. Compelling visuals grab attention and can lead to higher
click-through rates. Ensure that your creatives are optimized for both desktop and mobile viewing.

A/B Testing

Continuously test different ad creatives, headlines, and calls to action. A/B testing helps identify which
variations resonate most with your audience, enabling data-driven decisions for future campaigns.

Dynamic Creatives

Use dynamic ad formats that automatically show the best-performing creative variations based on
user behavior. This personalization can significantly enhance engagement rates.

###### Real-Time Data for Optimization

Leverage the Insights API


```
Marketing API
```
Use the Insights API to gather real-time data about ad performance. Analyze metrics such as
impressions, clicks, and conversions to make informed adjustments quickly.

Adjust Targeting on the Fly

If certain demographics are performing better than others, use real-time data to adjust targeting
parameters mid-campaign. This agile approach can improve overall campaign effectiveness.

Regular Reporting

Set up regular reporting dashboards to monitor campaign performance. This helps in identifying
trends and potential areas for improvement, allowing for ongoing optimization.

###### Conversions API

The Conversions API is designed to create a connection between marketing data from an advertiser’s
server, website platform, mobile app, or CRM to Meta systems that optimize ad targeting, decrease
cost per result and measure outcomes.

Rather than maintaining separate connection points for each data source, advertisers are able to
leverage the Conversions API to send multiple event types and simplify their technology stack.

To learn more about the Conversions API, see the documentation here.

###### Learn More

```
Audiences
Insights API
Bidding
Conversions API
```
##### ← Previous

Monitoring and Analytics


Overview

Get Started

```
Authorization
Authentication
Basic Ad Creation
Manage Campaigns
Ad Optimization Basics
Monitoring and Analytics
Optimization Tips
```
Ad Creative

Bidding

Ad Rules Engine

Audiences
Insights API

Brand Safety and Suitability

Best Practices

Troubleshooting

API Reference

Changelog


**Docs Facebook Pages API Overview**

On This Page

## Overview

The Pages API is a set of Facebook Graph API endpoints that apps can use to create and manage a
Page's settings and content.

###### Components

Access Tokens

API authentication is handled through Access Tokens. Most endpoints require Page access tokens,
which are unique to each Page, app User, and app, and have an expiration time. In order to get a token
from an app User, the app User must own or be able to perform a Task on the Page.

You can get access tokens from your app Users by implementing Facebook Login for Business.

Graph API

If you are unfamiliar with the Graph API, please read our Graph API documentation before proceeding
to learn more about the Meta social graph.

Facebook Login

Facebook Login allows app users to log into your app and for your app to ask your users for
permissions to access data.

Facebook Login for Business

Facebook Login for Business is the preferred authentication and authorization solution for Tech
Providers and business app developers who need access to their business clients' assets

Features


Some endpoints require a Feature which must be approved through the App Review process before
your app can use them when your app goes live. Features allow you to access public Page data
without a permission or the ability to perform a task on the Page. Refer to each endpoint's reference to
determine which Page Feature it requires.

Mentions

@mentions allows your Page to publicly reply to a specific person, who has posted on your Page or
commented on your Page post, in a comment or reply.

Page-Scoped User IDs

Users who interact with Pages are identified by Page-Scoped User IDs (PSID). PSIDs are IDs that are
unique to each User-Page pair. Pages API and Messenger Platform endpoints rely on PSIDs, so you can
use a PSID to identify a User's interactions with a Page, as well as the User's public Messenger
conversations with that Page.

Permissions

Most endpoints require one or more permissions which must be granted to your app by app users.
Typically this can be done through Facebook Login but can also be done through the Business
Manager, if your app has been claimed by a Business.

All permissions require App Review before an app user can grant them to your app after it is live. For
Business apps, which do not have app modes, permissions must be approved for Advanced access
before they can be granted to your app by an app user without a role on the app itself or a role in a
Business that has claimed it.

Page Search

Find information about Facebook Pages including names, locations, and find Pages to @Mention, Page
locations, and tag a Page to show branded content.

Rate Limits

All Pages endpoint requests are subject to Rate Limiting. You can see your app's current call count
consumption in the App Dashboard.

Tasks


Tasks allow Users to perform specific actions on a Page. When a User uses an app to interact with a
Page, depending on the attempted action, we will first check if the User has been approved for a task
that permits that type of action.

You can approve individual users for the following tasks:

```
TTaskask Permitted Permitted ActionsActions
```
```
ADVERTISE Create ads
Create unpublished Page Posts
If an Instagram account is connected to the Page, create ads
```
```
ANALYZE View Insights of the Page
View which Page admin published a post or comment
```
```
CREATE_CONTENT Publish content as the Page on the Page
```
```
MANAGE Assign and manage Page tasks
```
```
MANAGE_LEADS View and manage leads
```
```
MESSAGING Send messages as the Page
```
```
MODERATE Respond to comments on Page posts as the Page
Delete comments on Page posts
If an Instagram account is connected to the Page, publish content to
Instagram from Facebook, respond to and delete comments, send Direct
messages, sync business contact info, and create ads.
```
```
VIEW_MONETIZATION_
INSIGHTS
```
```
View monetization insights
```
If a person is given Admin access to a Page in the UI, that person is able to perform all tasks on that
Page.

Messenger Platform


Have Messenger conversations with your customers or people interested in your Page.

Meta Webhooks for Pages

Get get real-time notifications when a user comments on a Page post or reacts to your Page post.

###### App Review

All Page-related Permissions and Features require approval through the App Review process before
your app can use them when your app goes live.

Apps in Development Mode can request any Permission from any app User who has a Role on the app.

###### How It Works

This is a typical flow for accessing the Pages API:

```
. Get a User Access Token from your app user through Facebook Login for Business.
. Query the /me/accounts endpoint to get the ID and Page Access Token of the Page the app
User has permitted your app to access.
. Capture the returned Page ID and Page Access Token.
. Use the ID and token to query the Page node.
```
Note that in some cases the app User may grant your app access to more than one Page, in which case
you should capture each Page ID and its respective token, and provide a way for the app User to target
each of those Pages.

###### Next Steps

Follow our Get Started guide to learn how to publish a Page post using the Pages API.

###### See Also

App Development with Meta
App Roles
Developing with Meta
Graph API
/me Endpoint

```
Page Guides
Mentions
Messenger Platform Documentation
Pages Search
```

```
Facebook Pages API
Overview
Create an app
Webhooks
Get Started
Manage a Page
Upcoming Changes
Comments and @Mentions
Posts
Insights
Pages Search
Error Codes
Changelog
```
```
Rate Limits
```
Authentication and Authorization
Access Tokens
Advanced Access for Business apps
Facebook Login
Facebook Login for Business
Page-scoped User IDs

```
References
Features Reference
Page Endpoint Reference
Permissions Reference
Permission Dependencies Reference
User Accounts Endpoint Reference
```

**Docs Graph API Overview**

On This Page

## Overview

The Graph API is the primary way to get data into and out of the Facebook platform. It's an HTTP-based
API that apps can use to programmatically query data, post new stories, manage ads, upload photos,
and perform a wide variety of other tasks.

The Graph API is named after the idea of a "social graph" — a representation of the information on
Facebook. It's composed of nodes, edges, and fields. Typically you use nodes to get data about a
specific object, use edges to get collections of objects on a single object, and use fields to get data
about a single object or each object in a collection. Throughout our documentation, we may refer to
both a node and edge as an "endpoint". For example, "send a GET request to the User endpoint".

###### HTTP

All data transfers conform to HTTP/1.1, and all endpoints require HTTPS. Because the Graph API is
HTTP-based, it works with any language that has an HTTP library, such as cURL and urllib. This means
you can use the Graph API directly in your browser. For example, requesting this URL in your browser...

https://graph.facebook.com/facebook/picture?redirect=false

... is equivalent to performing this cURL request:

```
curl -i -X GET "https://graph.facebook.com/facebook/picture?redirect=false"
```
We have also enabled the includeSubdomains HSTS directive on facebook.com, but this should not
adversely affect your Graph API calls.

###### Host URL

Almost all requests are passed to the graph.facebook.com host URL. The single exception is video
uploads, which use graph-video.facebook.com.


###### Access Tokens

Access tokens allow your app to access the Graph API. Almost all Graph API endpoints require an
access token of some kind, so each time you access an endpoint, your request may require one. They
typically perform two functions:

```
They allow your app to access a User's information without requiring the User's password. For
example, your app needs a User's email to perform a function. If the User agrees to allow your
app to retrieve their email address from Facebook, the User will not need to enter their Facebook
password for your app to get their email address.
They allow us to identify your app, the User who is using your app, and the type of data the User
has permitted your app to access.
```
Visit our access token documentation to learn more.

###### Nodes

A node is an individual object with a unique ID. For example, there are many User node objects, each
with a unique ID representing a person on Facebook. Pages, Groups, Posts, Photos, and Comments are
just some of the nodes of the Facebook Social Graph.

The following cURL example represents a call to the User node.

```
curl -i -X GET \
"https://graph.facebook.com/USER-ID?access_token=ACCESS-TOKEN"
```
This request would return the following data by default, formatted using JSON:

```
{
"name": "Your Name",
"id": "YOUR-USER-ID"
}
```
Node Metadata

You can get a list of all fields, including the field name, description, and data type, of a node object,
such as a User, Page, or Photo. Send a GET request to an object ID and include the metadata=1
parameter:


```
curl -i -X GET \
"https://graph.facebook.com/USER-ID?
metadata=1&access_token=ACCESS-TOKEN"
```
The resulting JSON response will include the metadata property that lists all the supported fields for
the given node:

```
{
"name": "Jane Smith",
"metadata": {
"fields": [
{
"name": "id",
"description": "The app user's App-Scoped User ID. This ID is unique to
"type": "numeric string"
},
{
"name": "age_range",
"description": "The age segment for this person expressed as a minimum a
"type": "agerange"
},
{
"name": "birthday",
"description": "The person's birthday. This is a fixed format string, l
"type": "string"
},
...
```
###### /me

The /me node is a special endpoint that translates to the object ID of the person or Page whose access
token is currently being used to make the API calls. If you had a User access token, you could retrieve
a User's name and ID by using:

```
curl -i -X GET \
"https://graph.facebook.com/me?access_token=ACCESS-TOKEN"
```
###### Edges

An edge is a connection between two nodes. For example, a User node can have photos connected to
it, and a Photo node can have comments connected to it. The following cURL example will return a list
of photos a person has published to Facebook.


```
curl -i -X GET \
"https://graph.facebook.com/USER-ID/photos?access_token=ACCESS-TOKEN"
```
Each ID returned represents a Photo node and when it was uploaded to Facebook.

```
{
"data": [
{
"created_time": "2017-06-06T18:04:10+0000",
"id": "1353272134728652"
},
{
"created_time": "2017-06-06T18:01:13+0000",
"id": "1353269908062208"
}
],
}
```
###### Fields

Fields are node properties. When you query a node, or an edge, it returns a set of fields by default, as
the examples above show. However, you can specify which fields you want returned by using the
fields parameter and listing each field. This overrides the defaults and returns only the fields you
specify, and the ID of the object, which is always returned.

The following cURL request includes the fields parameter and the User's name, email, and profile
picture.

```
curl -i -X GET \
"https://graph.facebook.com/USER-ID?fields=id,name,email,picture&access_token=
```
Data Returned

```
{
"id": "USER-ID",
"name": "EXAMPLE NAME",
"email": "EXAMPLE@EMAIL.COM",
"picture": {
"data": {
"height": 50 ,
"is_silhouette": false ,
"url": "URL-FOR-USER-PROFILE-PICTURE",
"width": 50
}
```

```
}
}
```
Complex Parameters

Most parameter types are straightforward primitives such as bool, string and int, but there are also
list and object types that can be specified in the request.

The list type is specified in JSON syntax, for example: ["firstitem", "seconditem",
"thirditem"]

The object type is also specified in JSON syntax, for example: {"firstkey": "firstvalue",
"secondKey": 123}

###### Publishing, Updating, and Deleting

Visit our Facebook Sharing guide to learn how to publish to a User's Facebook or our Pages API
documentation to publish to a Page's Facebook feed.

Some nodes allow you to update fields with POST operations. For example, you could update your
email field like this:

```
curl -i -X POST \
"https://graph.facebook.com/USER-ID?email=YOURNEW@EMAILADDRESS.COM&access_toke
```
Read-After-Write

For create and update endpoints, the Graph API can immediately read a successfully published or
updated object and return any fields supported by the corresponding read endpoint.

By default, an ID of the object created or updated will be returned. To include more information in the
response, include the fields parameter in your request and list the fields you want returned. For
example, to publish the message “Hello” to a Page's feed, you could make the following request:

```
curl -i - X POST "https://graph.facebook.com/PAGE-ID/feed?message=Hello&
fields=created_time,from,id,message&access_token=ACCESS-TOKEN"
```
The above code example is formatted for readability.

This would return the specified fields as a JSON-formatted response, like this:


```
{
"created_time": "2017-04-06T22:04:21+0000",
"from": {
"name": "My Facebook Page",
"id": "PAGE-ID"
},
"id": "POST_ID",
"message": "Hello",
}
```
Refer to each endpoint's reference documentation to see if it supports read-after-write and what
fields are available.

Errors
If the read fails for any reason (for example, requesting a non-existent field), the Graph API will
respond with a standard error response. Visit our Handling Errors guide for more information.

You can usually delete a node, such as a Post or Photo node, by performing a DELETE operation on the
object ID:

```
curl -i -X DELETE \
"https://graph.facebook.com/PHOTO-ID?access_token=ACCESSS-TOKEN"
```
Usually you can only delete nodes that you created, but check each node's reference guide to see
requirements for delete operations.

###### Webhooks

You can be notified of changes to nodes or interactions with nodes by subscribing to webhooks. See
Webhooks.

###### Versions

The Graph API has multiple versions with quarterly releases. You can specify the version in your calls
by adding "v" and the version number to the start of the request path. For example, here's a call to
version 4.0:

```
curl -i -X GET \
"https://graph.facebook.com/v4.0/USER-ID/photos
?access_token=ACCESS-TOKEN"
```

```
Graph API
Overview
Access Levels
Facebook SDKs
Paginated Results
Rate Limits
Versioning
Status, Support, and Tools
Get Started
Batch Requests
Debug Requests
Handle Errors
Field Expansion
Secure Requests
Upload a File or Video
Changelog
```
If you do not include a version number we will default to the oldest available version, so it's
recommended to include the version number in your requests.

You can read more about versions in our Versioning guide and learn about all available versions in the
Graph API Changelog.

###### Facebook APIs, SDKs, and Platforms

Connect interfaces and develop across platforms using Facebook's various APIs, SDKs, and platforms.

###### Next Steps

Get Started with Graph API – Let's explore the Facebook Social Graph using the Graph Explorer tool
and run a couple requests to get data.


Features Reference

Permissions Reference

Reference


**Docs Graph API Overview Paginated Results**

On This Page

## Paginated Results

We cover the basics of Graph API terminology and structure in the Graph API overview. This document
goes into more detail about the results from your API requests.

###### Traversing Paged Results

When making an API request to a node or edge, you usually don't receive all of the results of that
request in a single response. This is because some responses could contain thousands of objects so
most responses are paginated by default.

Cursor-based Pagination

Cursor-based pagination is the most efficient method of paging and should always be used when
possible. A cursor refers to a random string of characters which marks a specific item in a list of data.
The cursor will always point to the item, however it will be invalidated if the item is deleted or
removed. Therefore, your app shouldn't store cursors or assume that they will be valid in the future.

When reading an edge that supports cursor pagination, you see the following JSON response:

```
{
"data": [
... Endpoint data is here
],
"paging": {
"cursors": {
"after": "MTAxNTExOTQ1MjAwNzI5NDE=",
"before": "NDMyNzQyODI3OTQw"
},
"previous": "https://graph.facebook.com/{your-user-id}/albums?limit=25&befor
"next": "https://graph.facebook.com/{your-user-id}/albums?limit=25&after=MTA
}
}
```
A cursor-paginated edge supports the following parameters:


```
before : This is the cursor that points to the start of the page of data that has been returned.
after : This is the cursor that points to the end of the page of data that has been returned.
limit : This is the maximum number of objects that may be returned. A query may return fewer
than the value of limit due to filtering. Do not depend on the number of results being fewer
than the limit value to indicate that your query reached the end of the list of data, use the
absence of next instead as described below. For example, if you set limit to 10 and 9 results
are returned, there may be more data available, but one item was removed due to privacy
filtering. Some edges may also have a maximum on the limit value for performance reasons. In
all cases, the API returns the correct pagination links.
next : The Graph API endpoint that will return the next page of data. If not included, this is the
last page of data. Due to how pagination works with visibility and privacy, it is possible that a
page may be empty but contain a next paging link. Stop paging when the next link no longer
appears.
previous : The Graph API endpoint that will return the previous page of data. If not included,
this is the first page of data.
```
```
Don't store cursors. Cursors can quickly become invalid if items are added or deleted.
```
Time-based Pagination

Time pagination is used to navigate through results data using Unix timestamps which point to
specific times in a list of data.

When using an endpoint that uses time-based pagination, you see the following JSON response:

```
{
"data": [
... Endpoint data is here
],
"paging": {
"previous": "https://graph.facebook.com/{your-user-id}/feed?limit=25&since=1
"next": "https://graph.facebook.com/{your-user-id}/feed?limit=25&until=13645
}
}
```
A time-paginated edge supports the following parameters:

```
until : A Unix timestamp or strtotime data value that points to the end of the range of time-
based data.
since : A Unix timestamp or strtotime data value that points to the start of the range of time-
based data.
```

```
limit : This is the maximum number of objects that may be returned. A query may return fewer
than the value of limit due to filtering. Do not depend on the number of results being fewer
than the limit value to indicate your query reached the end of the list of data, use the absence
of next instead as described below. For example, if you set limit to 10 and 9 results are
returned, there may be more data available, but one item was removed due to privacy filtering.
Some edges may also have a maximum on the limit value for performance reasons. In all
cases, the API returns the correct pagination links.
next : The Graph API endpoint that will return the next page of data.
previous : The Graph API endpoint that will return the previous page of data.
```
```
For consistent results, specify both since and until parameters. Also, it is recommended
that the time difference is a maximum of 6 months.
```
Offset-based Pagination

Offset pagination can be used when you do not care about chronology and just want a specific
number of objects returned. Only use this if the edge does not support cursor or time-based
pagination.

An offset-paginated edge supports the following parameters:

```
offset : This offsets the start of each page by the number specified.
limit : This is the maximum number of objects that may be returned. A query may return fewer
than the value of limit due to filtering. Do not depend on the number of results being fewer
than the limit value to indicate that your query reached the end of the list of data, use the
absence of next instead as described below. For example, if you set limit to 10 and 9 results
are returned, there may be more data available, but one item was removed due to privacy
filtering. Some edges may also have a maximum on the limit value for performance reasons. In
all cases, the API returns the correct pagination links.
next : The Graph API endpoint that will return the next page of data. If not included, this is the
last page of data. Due to how pagination works with visibility and privacy, it is possible that a
page may be empty but contain a next paging link. Stop paging when the next link no longer
appears.
previous : The Graph API endpoint that will return the previous page of data. If not included,
this is the first page of data.
```
Note that if new objects are added to the list of items being paged, the contents of each offset-based
page will change.

```
Offset based pagination is not supported for all API calls. To get consistent results, we
recommend you to paginate using the previous/next links we return in the response.
```

```
Graph API
Overview
Access Levels
Facebook SDKs
Paginated Results
Rate Limits
Versioning
Status, Support, and Tools
Get Started
Batch Requests
Debug Requests
Handle Errors
Field Expansion
Secure Requests
Upload a File or Video
Changelog
Features Reference
Permissions Reference
```
For objects that have many items returned, such as comments which can number in the tens of
thousands, you may encounter limits while paging. The API will return an error when your app has
reached the cursor limit:

```
{
"error": {
"message": "(#100) The After Cursor specified exceeds the max limit supporte
"type": "OAuthException",
"code": 100
}
}
```
###### Next Steps

Now that you are more familiar with the Graph API visit our Graph Explorer Tool Guide to explore the
Graph without writing code, Common Uses to view the most common tasks performed, and the SDKs
available.


Reference


**Docs Graph API Overview Rate Limits**

## Rate Limits

A rate limit is the number of API calls an app or user can make within a given time period. If this limit is
exceeded or if CPU or total time limits are exceeded, the app or user may be throttled. API requests
made by a throttled user or app will fail.

All API requests are subject to rate limits. Graph API requests are subject to Platform Rate Limits, while
Marketing API and Instagram Platform requests are subject to Business Use Case (BUC) Rate Limits.

Pages API requests are subject to either Platform or BUC Rate Limits, depending on the token used in
the request; requests made with application or user access tokens are subject to Platform Rate Limits,
while requests made with system user or page access tokens are subject to Business Use Case Rate
Limits.

Real time rate limit usage statistics are described in headers that are included with most API responses
once enough calls have been made to an endpoint. Platform Rate Limit usage statistics are also
displayed in the App Dashboard. Once a rate limit is reached, any subsequent requests made by your
app will fail and the API will return an error code until enough time has passed for the call count to
drop below the limit.

If both Platform and Business Use Case rate limits can be applied to a request, BUC rate limits will be
applied.

###### Platform Rate Limits

Platform Rate Limits are tracked on an individual application or user level, depending on the type of
token used in the request.

Applications

Graph API requests made with an application access token are counted against that app’s rate limit. An
app’s call count is the number of calls it can make during a rolling one hour window and is calculated
as follows:

```
Calls within one hour = 200 * Number of Users
```

The Number of Users is based on the number of unique daily active users an app has. In cases where
there are slow periods of daily usage, such as if your app has high activity on weekends but low
activity over weekdays, the weekly and monthly active Users are used to calculate the number of Users
for your app. Apps with high daily engagement will have higher rate limits than apps with low daily
engagement, regardless of the actual number of app installs.

Note that this is not a per User limit but a limit on calls made by your app. Any individual User can
make more than 200 calls per hour using your app, as long as the total calls from your app does not
exceed the app maximum. For example, if your app has 100 Users, your app can make 20,000 calls
per hour. However, your top ten most engaged Users could make 19,000 of those calls.

Users

Graph API requests made with a user access token are counted against that user’s call count. A user’s
call count is the number of calls a user can make during a rolling one hour window. Due to privacy
concerns, we do not reveal actual call count values for users.

Note that a user’s call count can be spread over multiple apps. For example, a user could make X calls
through App1 and Y calls through App2. If X+Y exceeds the user’s call count that user will be rate
limited. This does not necessarily mean that any app is doing something wrong; it could be that the
user is using multiple apps or is misusing the API.

Headers

Endpoints that receive enough requests from your app will include a X-App-Usage or X-Ad-Account-
Usage (for v3.3 and older Ads API calls) HTTP header in their responses. The header will contain a
JSON-formatted string that describes current application rate limit usage.

Header Contents

```
KeyKey Value DescriptionValue Description
```
```
call_count A whole number expressing the percentage of calls made by your app over a
rolling one hour period.
```
```
total_cputime A whole number expressing the percentage of CPU time allotted for query
processing.
```

```
KeyKey Value DescriptionValue Description
```
```
total_time A whole number expressing the percentage of total time allotted for query
processing.
```
X-Ad-Account-Usage Header Contents

```
KeyKey Value DescriptionValue Description
```
```
acc_id_util_pct The percentage of calls made for this ad account before the rate limit is
reached.
```
```
reset_time_duratio
n
```
```
Time duration (in seconds) it takes to reset the current rate limit to 0.
```
```
ads_api_access_tie
r
```
```
Tiers allows your app to access the Marketing API. By default, apps are in the
development_access tier. Standard_access enables lower rate limiting.
To get a higher rate limit and get to the standard tier, you can apply for the
"Advanced Access" to the Ads Management Standard Access feature.
```
Total CPU Time
The amount of CPU time the request takes to process. When total_cputime reaches 100, calls may
be throttled.

Total Time
The length of time the request takes to process. When total_time reaches 100, calls may be
throttled.

Sample X-App-Usage Header Value

```
x-app-usage: {
"call_count": 28 , // Percentage of calls made
"total_time": 25 , // Percentage of total time
"total_cputime": 25 // Percentage of total CPU time
}
```
Sample X-Ad-Account-Usage Header Value

```
x-ad-account-usage: {
"acc_id_util_pct": 9.67, // Percentage of calls made for this ad account.
"reset_time_duration": 100 , // Time duration (in seconds) it takes to reset
```

```
"ads_api_access_tier": 'standard_access' // Tiers allows your app to access
}
```
Dashboard

The app dashboard displays the number of rate limited app users, the app’s current Application Rate
Limits usage percentage, and displays average activity for the past 7 days. In the Application Rate
Limit card, click View Details and hover over any point on the graph to see more details about usage
for that particular moment. Because usage depends on call volume, this graph may not show a full 7
days. Apps with a higher volume of calls will show more days.

Error Codes

When an app or user has reached their rate limit, requests made by that app or user will fill and the API
will respond with an error code.

Throttle Error Codes

```
Error CodeError Code DescriptionDescription
```
```
4 Indicates that the app whose token is being used in the request has reached its
rate limit.
```
```
17 Indicates that the User whose token is being used in the request has reached
their rate limit.
```
```
17 with subcode
2446079
```
```
Indicates that the token being used in the Ads API v3.3 or older request has
reached its rate limit.
```
```
32 Indicates that the User or app whose token is being used in the Pages API
request has reached its rate limit.
```
```
613 Indicates that a custom rate limit has been reached. To help resolving this
issue, visit the supporting docs for the specific API you are calling for custom
rate limits that may be applied.
```

```
Error CodeError Code DescriptionDescription
```
```
613 with subcode
1996
```
```
Indicates that we have noticed inconsistent behavior in the API request volume
of your app. If you have made any recent changes that affect the number of API
requests, you may be encountering this error.
```
Sample Response

```
{
"error": {
"message": "(#32) Page request limit reached",
"type": "OAuthException",
"code": 32 ,
"fbtrace_id": "Fz54k3GZrio"
}
}
```
Facebook Stability Throttle Codes

```
Error CodeError Code DescriptionDescription
```
```
throttled Whether the query is throttled or not. Values: True, False
```
```
backend_qps First throttling factor backend_qps. Supported values:
```
```
actual_score—Actual backend_qps of this app. Value: 8
limit—backend_qps limit of this app. Value: 5
more_info—Queries need a large number of backend requests to
handle. We suggest to send fewer queries or simplify queries with
narrower time ranges, fewer object IDs, and so on.
```

```
Error CodeError Code DescriptionDescription
```
```
complexity_score Second throttling factor complexity_score. Supported values:
```
```
actual_score—Actual complexity_score of this app. Value: 0.1
limit—complexity_score limit of this app. Value: 0.01
more_info—High complexity_score means your queries are very
complex and request large amounts of data. We suggest to simplify
queries with shorter time ranges, fewer object IDs, metrics or
breakdowns, and so on. Split large, complex queries into multiple smaller
queries and space them out.
```
Best Practices

```
When the limit has been reached, stop making API calls. Continuing to make calls will continue
to increase your call count, which will increase the time before calls will be successful again.
Spread out queries evenly to avoid traffic spikes.
Use filters to limit the data response size and avoid calls that request overlapping data.
Check the X-App-Usage HTTP header to see how close your app is to its limit and when you can
resume making calls when the limit has been reached.
If Users are being throttled, be sure your app is not the cause. Reduce the user’s calls or spread
the user’s calls more evenly over time.
```
###### Business Use Case Rate Limits

All Marketing API requests, and Pages API requests made with a system or page access token, are
subject to Business Use Case (BUC) Rate Limits, and depend on the endpoints you are querying.

For Marketing API, the rate limit is applied to the ad account across the same Business Use Case. For
example, all endpoints with the Ads Management business use case will share the total quota within
the same ad account. If a certain endpoint makes a lot of API requests and causes throttling, other
endpoints configured with the same business use case will also receive rate limiting errors. The quota
depends on the app's Marketing API Access Tier. The standard access Marketing API tier will have more
quotas than the development access Marketing API tier. By default, an new app should be on the
development tier. If you need to upgrade to get more rate limiting quota, upgrade to Advanced
Access of Ads Management Standard Access in App Review.

```
Ad Insights
Ads Management
Catalog
Custom Audience
```
```
Messenger
Pages
Spark AR Commerce Effect Management
WhatsApp Business Management API
```

```
Instagram Platform
Lead Generation
```
Ads Insights

Requests made by your app to the Ads Insights API are counted against the app's rate limit metrics
such as call count, total CPU time and total time. An app's call count is the number of calls it can make
during a rolling one hour window and is calculated as follows:

For apps with Standard Access to the Ads Management Standard Access feature:

```
Calls within one hour = 600 + 400 * Number of Active ads - 0.001 * User Errors
```
For apps with Advanced Access to the Ads Management Standard Access feature:

```
Calls within one hour = 190000 + 400 * Number of Active ads - 0.001 * User
Errors
```
The Number of Active ads is the number of ads currently running per ad account. User Errors is the
number of errors received when calling the API. To get a higher rate limit, you can apply for the Ads
Management Standard Access feature.

Rate limiting may also be subject to the total CPU time and total wall time during a rolling one hour
window. For more details, check the HTTP X-Business-Use-Case header total_cputime and
total_time.

If you are receiving rate limiting errors, you can also refer to estimated_time_to_regain_access in
the X-Business-Use-Case header for the estimated blocking time.

Ads Management

Requests made by your app to the Ads Management API are counted against the app's rate limit
metrics such as call count, total CPU time and total time. An app's call count is the number of calls it
can make during a rolling one hour window and is calculated as follows:

For apps with Standard Accessto the Ads Management Standard Access feature:

```
Calls within one hour = 300 + 40 * Number of Active ads
```

For apps with Advanced Access to the Ads Management Standard Access feature:

```
Calls within one hour = 100000 + 40 * Number of Active ads
```
The Number of Active Ads is the number of ads for each ad account.

Rate limiting may also be subject to the total CPU time and total wall time during a rolling one hour
window. For more details, check the HTTP X-Business-Use-Case header total_cputime and
total_time.

If you are receiving rate limiting errors, you can also refer to estimated_time_to_regain_access in
the X-Business-Use-Case header for the estimated blocking time.

Catalog

Catalog Batch
Requests made by your app are counted against the rate limit metrics such as call count, total CPU
time and total time your app can make in a rolling one minute period per each catalog ID and is
calculated as follows:

```
Calls within one minute = 8 + 8 * log2(DA impressions + PDP visits)
```
The DA impressions and PDP visits are a number of dynamic ads impressions and product detail page
visits of the individual catalog with intent in the last 28 days. The more users see products from your
catalogs, the more call quota is allocated.

```
Type of CallType of Call EndpointEndpoint
```
```
POST /{catalog_id}/items_batch
```
```
POST /{catalog_id}/localized_items_batch
```
```
POST /{catalog_id}/batch
```
Catalog Management
Requests made by your app are counted against the number of calls your app can make in a rolling
one hour period per each catalog ID and is calculated as follows:


```
Calls within one hour = 20,000 + 20,000 * log2(DA impressions + PDP visits)
```
The DA impressions and PDP visits are a number of dynamic ads impressions and product detail page
visits of the business (on all catalogs) with intent in the last 28d. The more users see products from
your catalogs, the more call quota is allocated.

This formula is applied on various catalog endpoints.

For more information on how to get your current rate usage, see Headers.

Rate limiting may also be subject to the total CPU time and total wall time during a rolling one hour
window. For more details, check the HTTP X-Business-Use-Case header total_cputime and
total_time.

If you are receiving rate limiting errors, you can also refer to estimated_time_to_regain_access in
the X-Business-Use-Case header for the estimated blocking time.

Custom Audience

Requests made by your app to the Custom Audience API are counted against the app's rate limit
metrics such as call count, total CPU time and total time. An app's call count is the number of calls it
can make during a rolling one hour window and is calculated as follows but will never exceed 700000:

For apps with Standard Access to the Ads Management Standard Access feature:

```
Calls within one hour = 5000 + 40 * Number of Active Custom Audiences
```
For apps with Advanced Access to the Ads Management Standard Access feature:

```
Calls within one hour = 190000 + 40 * Number of Active Custom Audiences
```
The Number of Active Custom Audiences is the number of active custom audiences for each ad
account.

Rate limiting may also be subject to the total CPU time and total wall time during a rolling one hour
window. For more details, check the HTTP X-Business-Use-Case header total_cputime and
total_time.

If you are receiving rate limiting errors, you can also refer to estimated_time_to_regain_access in
the X-Business-Use-Case header for the estimated blocking time.


Instagram Platform

Calls to the Instagram Platform endpoints, excluding messaging, are counted against the calling app's
call count. An app's call count is unique for each app and app user pair, and is the number of calls the
app has made in a rolling 24 hour window. It is calculated as follows:

```
Calls within 24 hours = 4800 * Number of Impressions
```
The Number of Impressions is the number of times any content from the app user's Instagram
professional account has entered a person's screen within the last 24 hours.

Notes
Business Discovery and Hashtag Search API are subject to Platform Rate Limits.

Messaging Rate Limits

Calls to the Instagram messaging endpoints are counted against the number of calls your app can
make per Instagram professional account and the API used.

Conversations API
Your app can make 2 calls per second per Instagram professional account.

Private Replies API
Your app can make 100 calls per second per Instagram professional account for private replies
to Instagram Live comments
Your app can make 750 calls per hour per Instagram professional account for private replies to
comments on Instagram posts and reels

Send API
Your app can make 100 calls per second per Instagram professional account for messages that
contain text, links, reactions, and stickers
Your app can make 10 calls per second per Instagram professional account for messages that
contain audio or video content

LeadGen

Requests made by your app to the LeadGen API are counted against the app’s call count. An app’s call
count is the number of calls it can make during a rolling 24 hour window and is calculated as follows:

```
Calls within 24 hours = 4800 * Leads Generated
```

The Number of Leads Generated is the number of leads generated per Page for this Ad Account over
the past 90 days.

Messenger Platform

Rate limits for the Messenger Platform are dependent on the API used and, in some instances, the
message content.

Messenger API

Requests made by your app are counted against the number of calls your app can make in a rolling 24
hour period and is calculated as follows:

```
Calls within 24 hours = 200 * Number of Engaged Users
```
The Number of Engaged Users is the number of people the business can message via Messenger.

Conversations API

```
Your app can make 2 calls per second per Facebook Page
```
Send API

```
Your app can make 300 calls per second per Facebook Page for messages that contain text,
links, reactions, and stickers
Your app can make 10 calls per second per Facebook Page account for messages that contain
audio or video content
Your app may be rate limited if too many messages are being sent to a single thread
```
Private Replies API

```
Your app can make 750 calls per hour per Facebook Page for private replies to comments on
Instagram posts and reels
```
Messenger API for Instagram

Requests made by your app are counted against the number of calls your app can make per Instagram
professional account and the API used.

```
Conversations API
```

Pages

The Page Rate Limits may use either the Platform or BUC rate limit logic depending on the type of
token used. Any Pages API calls that are made using a Page or system user access token use the rate
limit calculation below. Any calls made with application or user access tokens are subject to
application or User rate limits.

Requests made by your app to the Pages API using a Page access token or system User access token
are counted against the app’s call count. An app’s call count is the number of calls it can make during
a rolling 24 hour window and is calculated as follows:

```
Calls within 24 hours = 4800 * Number of Engaged Users
```
The Number of Engaged Users is the number of Users who engaged with the Page per 24 hours.

Requests made by your app to the Pages API using a User access token or App access token follow the
Platform Rate Limit logic.

To avoid rate limiting issues when using the Page Public Access Content feature, using a system user
access token is recommended.

Spark AR Commerce Effect Management

```
Your app can make 2 calls per second per Instagram professional account
```
```
Send API
```
```
Your app can make 300 calls per second per Instagram professional account for messages
that contain text, links, reactions, and stickers
Your app can make 10 calls per second per Instagram professional account for messages
that contain audio or video content
Your app may be rate limited if too many messages are being sent to a single thread
```
```
Private Replies API
```
```
Your app can make 100 calls per second per Instagram professional account for private
replies to Instagram Live comments
Your app can make 750 calls per hour per Instagram professional account for private replies
to comments on Instagram posts and reels
```

Requests made by your app to any Commerce endpoints are counted against the app’s call count. An
app’s call count is the number of calls it can make during a rolling one hour window and is calculated
as follows:

```
Calls within one hour = 200 + 40 * Number of Catalogs
```
The Number of Catalogs is the total number of catalogs across all commerce accounts managed by
your app.

Threads

Calls to the Threads API are counted against the calling app's call count. An app's call count is unique
for each app and app user pair and is the number of calls the app has made in a rolling 24-hour
window. It is calculated as follows:

```
Calls within 24 hours = 4800 * Number of Impressions
```
The Number of Impressions is the number of times any content from the app user's Threads account
has entered a person's screen within the last 24 hours. Rate limiting may also be subject to total CPU
time per day:

```
720000 * number_of_impressions for total_cputime
2880000 * Number of Impressions for total_time
```
Note: The minimum value for impressions is 10 (so if the impressions is less than 10 we default to 10).

WhatsApp Business Management API

Requests made by your app to the WhatsApp Business Management API are counted against your
app’s count. An app’s call count is the number of calls it can make during a rolling one hour. For the
following WhatsApp Business Management API, your app can make 200 calls per hour, per app, per
WhatsApp Business Account (WABA) by default. For active WABAs with at least one registered phone
number, your app can make 5000 calls per hour, per app, per active WABA.

```
Type of CallType of Call EndpointEndpoint
```
```
GET /{whatsapp-business-account-id}
```
```
GET, POST, and DELETE /{whatsapp-business-account-id}/assigned_users
```

```
Type of CallType of Call EndpointEndpoint
```
```
GET /{whatsapp-business-account-id}/phone_numbers
```
```
GET, POST, and DELETE /{whatsapp-business-account-id}/message_templates
```
```
GET, POST, and DELETE /{whatsapp-business-account-id}/subscribed_apps
```
```
GET /{whatsapp-business-account-to-number-current-
status-id}
```
For the following Credit Line APIs, your app can make 5000 calls per hour, per app.

```
Type of CallType of Call EndpointEndpoint
```
```
GET /{business-id}/extendedcredits
```
```
POST /{extended-credit-
id}/whatsapp_credit_sharing_and_attach
```
```
GET and DELETE /{allocation-config-id}
```
```
GET /{extended-credit-
id}/owning_credit_allocation_configs
```
To avoid hitting rate limits, we recommend using webhooks to keep track of status updates for
message templates, phone numbers, and WABAs.

For more information on how to get your current rate usage, see Headers.

Headers

All API responses made by your app that are rate limited using the BUC logic include an X-Business-
Use-Case-Usage (for v3.3 and older Ads API calls) HTTP header with a JSON-formatted string that
describes current application rate limit usage. This header can return up to 32 objects in one call.

X-Business-Use-Case Usage Header Contents


```
Error CodeError Code Value DescriptionValue Description
```
```
business-id The ID of the business associated with the token making
the API calls.
```
```
call_count A whole number expressing the percentage of allowed calls
made by your app over a rolling one hour period.
```
```
estimated_time_to_regain_access Time, in minutes, until calls will not longer be throttled.
```
```
total_cputime A whole number expressing the percentage of CPU time
allotted for query processing.
```
```
total_time A whole number expressing the percentage of total time
allotted for query processing.
```
```
type Type of rate limit applied. Value can be one of the following:
ads_insights, ads_management, custom_audience,
instagram, leadgen, messenger, or pages.
```
```
ads_api_access_tier For ads_insights and ads_management types only.
Tiers allows your app to access the Marketing API. By
default, apps are in the development_access tier.
Standard_access enables lower rate limiting. To get a
higher rate limit and get to the standard tier, you can apply
for the "Advanced Access" to the Ads Management
Standard Access feature.
```
Total CPU Time
The amount of CPU time the request takes to process. When total_cputime reaches 100, calls may be
throttled.

Total Time
The length of time the request takes to process. When total_time reaches 100, calls may be throttled.

Ads API Access Tier
For ads_insights and ads_management types only. Tiers allows your app to access the Marketing
API. By default, apps are in the development_access tier. Standard_access enables lower rate


limiting. To get a higher rate limit and get to the standard tier, you can apply for the "Advanced
Access" to the Ads Management Standard Access feature.

Sample X-Business-Use-Case-Usage Header Value

```
x-business-use-case-usage: {
"{business-object-id}": [
{
"type": "{rate-limit-type}", // Type of BUC rate limit logi
"call_count": 100 , // Percentage of calls made.
"total_cputime": 25 , // Percentage of the total CPU
"total_time": 25 , // Percentage of the total tim
"estimated_time_to_regain_access": 19 , // Time in minutes to regain
"ads_api_access_tier": "standard_access" // Tiers allows your app to
}
],
"66782684": [
{
"type": "ads_management",
"call_count": 95 ,
"total_cputime": 20 ,
"total_time": 20 ,
"estimated_time_to_regain_access": 0 ,
"ads_api_access_tier": "development_access"
}
],
"10153848260347724": [
{
"type": "ads_insights",
"call_count": 97 ,
"total_cputime": 23 ,
"total_time": 23 ,
"estimated_time_to_regain_access": 0 ,
"ads_api_access_tier": "development_access"
}
],
"10153848260347724": [
{
"type": "pages",
"call_count": 97 ,
"total_cputime": 23 ,
"total_time": 23 ,
"estimated_time_to_regain_access": 0
}
],
...
}
```
Error Codes


When your app reaches its Business Use Case rate limit, subsequent requests made by your app will
fail and the API will respond with an error code.

```
Error CodeError Code BUC Rate Limit TBUC Rate Limit Typeype
```
```
error code 80000, error subcode
2446079
```
```
Ads Insights
```
```
error code 80004, error subcode
2446079
```
```
Ads Management
```
```
error code 80003, error subcode
2446079
```
```
Custom Audience
```
```
error code 80002 Instagram
```
```
error code 80005 LeadGen
```
```
error code 80006 Messenger
```
```
error code 32 Page calls made with a User access token
```
```
error code 80001 Page calls made with a Page or System User access token
```
```
error code 17, error subcode
2446079
```
```
V3.3 and Older Ads API excluding Ads Insights
```
```
error code 80008 WhatsApp Business Management API
```
```
error code 80014 Catalog Batch
```
```
error code 80009 Catalog Management
```
SampleError Code Message


```
{
"error": {
"message": "(#80001) There have been too many calls to this Page account. Wa
"type": "OAuthException",
"code": 80001 ,
"fbtrace_id": "AmFGcW_3hwDB7qFbl_QdebZ"
}
}
```
Best Practices

```
When the limit has been reached, stop making API calls. Continuing to make calls will continue
to increase your call count, which will increase the time before calls will be successful again.
Check the X-Business-Use-Case-Usage HTTP header to see how close your ad account is to
its limit and when you can resume making calls.
Verify the error code and API endpoint to confirm the throttling type.
Switch to other ad accounts and come back to this account later.
It is better to create a new ad than to change existing ones.
Spread out queries evenly between two time intervals to avoid sending traffic in spikes.
Use filters to limit the data response size and avoid calls that request overlapping data.
```
###### FAQ

What do we consider an API call?
All calls count towards the rate limits, not just individual API requests. For example, you can make a
single API request specifying multiple IDs, but each ID counts as one API call.

The following table illustrates this concept.

```
Example Request(s)Example Request(s) Number of Number of API CallsAPI Calls
```
```
GET https://graph.facebook.com/photos?ids=4
```
```
GET https://graph.facebook.com/photos?ids=5
GET https://graph.facebook.com/photos?ids=6
```
```
3
```
```
GET https://graph.facebook.com/photos?ids=4,5,6 3
```
We strongly recommend specifying multiple IDs in one API request when possible, as this improves
performance of your API responses.


```
Graph API
Overview
Access Levels
Facebook SDKs
Paginated Results
Rate Limits
Versioning
Status, Support, and Tools
Get Started
Batch Requests
Debug Requests
Handle Errors
Field Expansion
Secure Requests
Upload a File or Video
Changelog
Features Reference
Permissions Reference
Reference
```
I'm building a scraper, is there anything else I should worry about?
If you are building a service that scrapes data, please read our scraping terms.


**Docs Marketing API Insights API Split Testing**

On This Page

## Split Testing

Test different advertising strategies on mutually exclusive audiences to see what works. The API
automates audience division, ensures no overlap between groups and helps you to test different
variables. Test the impact of different audience types, delivery optimization techniques, ad
placements, ad creative, budgets and more. You or your marketing partner can create, initiate and
view test results in one place. See Ad Study Reference.

###### Guidelines

```
Define KPIs with your marketing partner or internal team you create a test.
Confidence Level Determine this before creating a test. Tests with larger reach, longer
schedules, or higher budgets tend to deliver more statistically significant results.
Select only one variable per test. This helps determine the most likely cause of difference in
performance.
Comparable Test Sizes When you test for volume metrics, such as number of conversions, you
should scale results and audience sizes so both both test sizes are comparable.
```
###### Test Restrictions

```
Max concurrent studies per advertiser: 100
Max cells per study: 150
Max ad entities per cell: 100
```
Variable Testing


While you can test many different types of variables, we recommend you only test one variable at a
time. This preserves the scientific integrity of your test, and helps you identify the specific difference
that drives better performance.

For example, consider a split test with ad set A and ad set B. If A uses conversions as its delivery
optimization method and automatic placements, while B uses link clicks for delivery optimization and
custom placements, you cannot determine if the different delivery optimization methods or the
different placements drove better performance.

In this example, if both ad sets used conversions for delivery optimization, but had different
placements, you know that placement strategy is responsible for differences in performance.

To setup this test at the ad set level:

```
curl \
```
- F 'name="new study"' \
- F 'description="test creative"' \
- F 'start_time=1478387569' \
- F 'end_time=1479597169' \
- F 'type=SPLIT_TEST' \
- F 'cells=[{name:"Group A",treatment_percentage:50,adsets:[<AD_SET_ID>]},{name:"
- F 'access_token=<ACCESS_TOKEN>' \ https: _//graph.facebook.com/<API_VERSION>/<BUS_

Testing Strategies

You can test two or more strategies against one another. For example, do ads with the conversion
objective have a greater impact on your direct response marketing than a website visits objective? To
setup this test at the campaign level:

```
curl \
```
- F 'name="new study"' \
- F 'description="test creative"' \
- F 'start_time=1478387569' \
- F 'end_time=1479597169' \
- F 'type=SPLIT_TEST' \
- F 'cells=[{name:"Group A",treatment_percentage:50,campaigns:[<CAMPAIGN_ID>]},{n
- F 'access_token=<ACCESS_TOKEN>' \ https: _//graph.facebook.com/<API_VERSION>/<BUS_

Evaluating Tests

To determine the test that performs the best, chose a strategy or variable that achieves the highest
efficiency metric based on your campaign objective. For example, to test the conversions objective,


the ad set that achieves the lowest cost-per-action (CPA) performs the best.

Avoid evaluating tests with uneven test group sizes, or significantly different audience sizes. In this
case, you should increase the size and results of one split so that it is comparable to you other tests. If
your budget is not proportionate to the size of the test group you should consider the volume of
outcomes in addition to efficiency.

You should also use an attribution model that makes sense for your business, and to agree upon it
before initiating a split test. If your current attribution model needs reevaluation, contact your
Facebook representative to run a lift study. This can show the true causal impact of your conversion
and brand marketing efforts.

Budgeting

You can use custom budgets with your split tests, and choose to test different budgets against each
other. However, budget directly impacts reach for your test groups. If your test groups result in large
differences in reach or audience size, you increase budget to improve your results and make your test
comparable.

```
Marketing API
Overview
Get Started
Ad Creative
Bidding
Ad Rules Engine
Audiences
Insights API
Breakdowns
Limits & Best Practices
Tracking and Conversion Specs
Marketing Mix Modeling
Conversion Lift Measurement
Split Testing
Ad Volume
Offline Conversions
App Events API
Brand Safety and Suitability
```

Best Practices

Troubleshooting

API Reference
Changelog


**Docs Marketing API Insights API Tracking and Conversion Specs**

On This Page

## Tracking and Conversion Specs

With Tracking Specs, you log actions taken by people on your ad. This feature does not optimize ads
delivery for an action nor does it charge your ads account based on that action occurring.

In Marketing API v2.3 and earlier, Conversion Specs are ad settings for Optimized CPM. They optimizes
ad delivery for specific actions and show those actions in conversion reports. After v2.4,
**conversion_specs** is read-only. Use the optimization_goal on ad set to select ad delivery
optimization.

###### Set Tracking Specs

Use with any bid type and creative. To specify tracking specs, you need an additional field in an ad,
named tracking_specs. The tracking_specs field takes arguments identical to action spec. To
create an ad, see ad creation.

###### Default Tracking Specs

For the following ad objectives, default tracking specs apply. If you change to the default spec, it will
be appended to the existing spec rather than overwriting the existing one.

If your objective is NONE or App Install/Engagement Ads, the default tracking specs will be
overwritten. If you want to have the defaults you must add them to your custom specs.,

You can use both string or array notation in the spec such as 'APPLICATION_ID' or
['APPLICATION_ID'].

```
CPM refers to billing_event=IMPRESSIONS, optimization_goal=IMPRESSIONS
CPC refers to billing_event=CLICKS, optimization_goal=CLICKS
oCPM refers to billing_event=IMPRESSIONS, optimization_goal set to an action
CPA refers to both billing_event and optimization_goal set to an action
```

```
ObjectiveObjective Creative, Bid typeCreative, Bid type TTracking Specracking Spec DescriptionDescription
```
CANVAS_APP_
ENGAGEMENT

```
Canvas app
engagement ads with
optimization_goal=
APP_INSTALLS
```
```
[{'action.type':
'app_engagement',
'application':
'APPLICATION_ID'},
{'action.type':
'post_engagement',
'post':'POST_ID',
'page':'PAGE_ID'}]
```
```
See app_engagement
and post_engagement
meta specs
```
CANVAS_APP_
INSTALLS

```
Canvas app install ads
with optimization not set
to
optimization_goal=
APP_INSTALLS
```
```
[{'action.type':
'app_engagement',
'application':
'APPLICATION_ID'},
{'action.type':
'post_engagement',
'post':'POST_ID',
'page':'PAGE_ID'}]
```
```
See app_engagement
and post_engagement
meta specs
```
CONVERSIONS Page post link and photo
ads with
promoted_object set
to a pixel ID and
optimization_goal=
OFFSITE_CONVERSION
S

```
{'action.type':
'post_engagement',
'post':'POST_ID',
'page':'PAGE_ID'},
{'action.type':'like',
'page':PAGE_ID}
```
```
Post Engagement, Page
Like specs. Number of
link clicks on the specific
page post if there is only
one link, number of
engagements on the
post, and number of
times users generate
stories or engage with a
page
```
CONVERSIONS Page post link and photo
ads with optimization
**not** set to
optimization_goal=
OFFSITE_CONVERSION
S

```
{'action.type':
'offsite_conversion',
'fb_pixel':
'FACEBOOK_PIXEL_ID'
}, {'action.type':
{'action.type':
'post_engagement',
'post':'POST_ID',
'page':'PAGE_ID'},
```
```
Conversions, Post
Engagement, Page Like
specs. Number of link
clicks on the specific
page post if there is only
one link, number of
engagements on the
post, and number of
times users generate
```

```
ObjectiveObjective Creative, Bid typeCreative, Bid type TTracking Specracking Spec DescriptionDescription
{'action.type':'like',
'page':PAGE_ID}
```
```
stories or engage with a
page
```
CONVERSIONS Domain ads with
promoted_object set
to a pixel ID and
optimization_goal=
OFFSITE_CONVERSION
S

```
{'action.type':
'link_click',
'object':'URL'},
{'action.type':'like',
'page':PAGE_ID}
```
```
Page Likes, Link Clicks
specs. Number of link
clicks on the specific
page post if there is only
one link, number of
engagements on the
post, and number of
times users generate
stories or engage with a
page.
```
CONVERSIONS Domain ads with
optimization **not** set to
optimization_goal=
OFFSITE_CONVERSION
S

```
{'action.type':
'offsite_conversion',
'fb_pixel':
'FACEBOOK_PIXEL_ID'
}, {'action.type':
'link_click',
'object':'URL'},
{'action.type':'like',
'page':PAGE_ID}
```
```
Conversion, Page Likes,
Link Clicks specs.
Number of link clicks on
the specific page post if
there is only one link,
number of engagements
on the post, and number
of times users generate
stories or engage with a
page.
```
EVENT_RESPONSES Event ads with
optimization **not** set to
optimization_goal=
EVENT_RESPONSES

```
[{'action.type':'rsvp' ,
'response':'yes',
'event':'EVENT_ID'},
{'action.type':'rsvp' ,
'response':'maybe',
'event':'EVENT_ID'},
[{'action.type':'rsvp' ,
'response':'no',
'event':'EVENT_ID'}]
```
```
Number of RSVPs (yes,
maybe, no) to an event.
```
EVENT_RESPONSES Event ads with
optimization_goal=
EVENT_RESPONSES

```
empty (conversion spec
will cover the tracked
actions)
```
```
Number of RSVPs (yes,
maybe, no) to an event.
```

```
ObjectiveObjective Creative, Bid typeCreative, Bid type TTracking Specracking Spec DescriptionDescription
```
LINK_CLICKS Page post link and photo
ads with any bid option

```
{'action.type':
'post_engagement',
'post':'POST_ID',
'page':'PAGE_ID'}
```
```
Post Engagement.
Number of times an
offsite url link, link with
particular url domain,
offsite link on a page,
offsite link on a post was
clicked.
```
LINK_CLICKS Domain ads with
optimization_goal=
LINK_CLICKS

```
{'action.type':'like',
'page':PAGE_ID}]
```
```
Page likes.
Number of times an
offsite url link, link with
particular url domain,
offsite link on a page,
offsite link on a post was
clicked.
```
LINK_CLICKS Domain ads with
optimization **not** set to
optimization_goal=
LINK_CLICKS

```
{'action.type':
'link_click',
'object':'URL'},
{'action.type':'like',
'page':PAGE_ID}
```
```
Website Click, Page
Likes.
Number of times an
offsite url link, link with
particular url domain,
offsite link on a page,
offsite link on a post was
clicked.
```
MOBILE_APP_
ENGAGEMENT

```
Mobile app engagement
ads with any bid option
```
```
{'action.type':
'post_engagement',
'post':'POST_ID',
'page':'PAGE_ID'}
For App Engagement
Ads you must specify
a tracking spec
explicitly using the
Facebook App ID:
[{'action.type':
'mobile_app_install',
'application': 'APP_ID'},
{'action.type':
```
```
See post_engagement
meta spec. Also, number
of times an app event
occurs.
```

```
ObjectiveObjective Creative, Bid typeCreative, Bid type TTracking Specracking Spec DescriptionDescription
'app_custom_event',
'application':APP_ID}]
```
MOBILE_APP_
INSTALLS

```
Mobile app install ads
with any bid option
```
```
{'action.type':
'post_engagement',
'post':'POST_ID',
'page':'PAGE_ID'}
For App Install Ads
you must specify a
tracking spec explicitly
using the Facebook
App ID:
[{'action.type':
'app_custom_event',
'application':APP_ID},
{'action.type':
'mobile_app_install',
'application': 'APP_ID'}]
```
```
See post_engagement
meta spec. Also, number
of times users install the
app through a mobile
app install ad if there is
an iOS/Android version
and the number of times
an app event occurs.
```
NONE Any ad type See default tracking
specs by ad type

PAGE_LIKES Page Like ads or page
post ads with any bid
option

```
{'action.type':
'page_engagement',
'page':'PAGE_ID'}
```
```
See Page Engagement
meta spec
```
POST_ENGAGEMENT Page post ads with
optimization **not** set to
optimization_goal=
POST_ENGAGEMENT

```
{'action.type':
'post_engagement',
'post':'POST_ID',
'page':'PAGE_ID'}
```
```
See Page Post
Engagement meta spec
```
POST_ENGAGEMENT Page post ads with
optimization_goal=
POST_ENGAGEMENT

```
empty See Page Post
Engagement meta spec
```

```
ObjectiveObjective Creative, Bid typeCreative, Bid type TTracking Specracking Spec DescriptionDescription
```
```
POST_ENGAGEMENT
(testing)
```
```
any {'action.type':
'dwell',
'post':'POST_ID',
'page':'PAGE_ID'}
```
```
A small percentage of
this kind of ads has
dwell tracking type,
forcusing on users
spending at least a min
time on the ads.
```
```
PRODUCT_
CATALOG_SALES
```
```
Dynamic Product Ads {'action.type':
'post_engagement',
'page': PAGE_ID, 'post':
POST_ID}
```
```
Number of link clicks on
the specific page post if
there is only one link,
number of engagements
on the post, number of
times users generate
stories or engage with a
page. You can specify a
product set that is
different from the
product set in the
promoted object but the
default is the product set
specified in the
promoted object.
```
###### Meta Specs

You can specify multiple types of actions on a single object using a single spec.

```
ObjectObject Conversion SpecConversion Spec DescriptionDescription
```
```
Application {"action.type":
["app_engagement"],
"application":
["APPLICATION_ID"]}
```
```
Number of times users generate
stories app_story or engage
with content via app_use,
app_install, credit_spent.
```

```
ObjectObject Conversion SpecConversion Spec DescriptionDescription
```
```
Page {"action.type":
["page_engagement"], "page":
["PAGE_ID"]}
```
```
Number of times users perform
any of the following actions in the
context of the specified page:
checkin, comment, follow, like,
page post like, mention, post on
page, share a post, answer a
question. Plus the number of
times users perform any of the
following actions in the context of
the specified page: click a link,
view a photo, play a native FB
video.
```
```
Page Post {"action.type":
["post_engagement"], "post":
["POST_ID"], "page":
["PAGE_ID"]}
```
```
Number of times users perform
any of the following actions in the
context of the specified post:
comment, follow question, like,
share, answer question. Plus the
number of times users perform
any of the following actions: click
a link, page like, view photo, play
a video hosted on Facebook or
an inline Youtube video play. For
non embedded videos use
link_click.
```
###### Custom Tracking Specs

To define your own tracking specs, use the action spec framework. See the Action Specs, Reference.

```
Action (Object TAction (Object Types)ypes)
```
```
Description, TDescription, Tracking specracking spec
detailsdetails TTracking or Conversion Specracking or Conversion Spec
```
```
app_custom_event (application) Custom event on an aplication.
Number of custome events on a
mobile app.
```
```
{'action.type':
'app_custom_event',
'application':APP_ID}
```

```
Action (Object TAction (Object Types)ypes)
```
```
Description, TDescription, Tracking specracking spec
detailsdetails TTracking or Conversion Specracking or Conversion Spec
```
app_install (application) Installing an app.
Number of installs
on canvas or mobile app

```
[{'action.type':'app_install',
'application':APP_ID},
{'action.type':
'mobile_app_install',
'application':APP_ID}]
```
app_use (application) Number of times app was used. {'action.type':'app_use',
'application':APP_ID}

checkin (place) Check in a place.
Number of checkins into the place
or into any child places of this
page.

```
{'action.type':'checkin',
'page': PAGE_ID},
{'action.type':'checkin',
'page.parent:PAGE_ID}
```
comment (post) Commenting on a post.
Number of comments on any or
specific page post.

```
{'action.type':'comment',
'post.wall':PAGE_ID},
{'action.type':'comment',
'post':POST_ID,
'post.wall':PAGE_ID}
```
credit_spend (application) Instances of spending credit in an
app.

```
'action.type':'credit_spent',
'application':APP_ID}
```
follow (question) Subscribing to an object.
Number of answers or follows to
a question.

```
{'action.type':'vote',
'question':QUESTION_ID,
'question.creator':PAGE_ID},
{'action.type':'follow',
'question':QUESTION_ID,
'question.creator':PAGE_ID}
```
leadgen_quality_conversion
(pixel)

```
Down funnel lead conversion
(CRM) events.
```
```
{'action.type':
'leadgen_quality_conversion',
'fb_pixel':
'FACEBOOK_PIXEL_ID'},
{'action.type':
'leadgen_quality_conversion',
```

```
Action (Object TAction (Object Types)ypes)
```
```
Description, TDescription, Tracking specracking spec
detailsdetails TTracking or Conversion Specracking or Conversion Spec
'dataset':
'OFFLINE_EVENT_SET_ID'}
```
like
(page, post)

```
Liking an object.
Number of likes on a page or a
post.
```
```
{'action.type':'like',
'page':PAGE_ID}
, {'action.type':'like',
'post.wall':PAGE_ID}
, {'action.type':'like',
'post':POST_ID,
'post.wall':PAGE_ID}
```
link_click (page,post, url, url
domain)

```
Clicking on a link.
Number of times an offsite url
link, link with particular url
domain, offsite link on a page,
offsite link on a post was clicked.
```
```
{'action.type':['link_click'],
'object':['URL']},
{'action.type':['link_click'],
'object.domain':
['URL_DOMAIN']},
{'action.type':['link_click'],
'post.wall':['PAGE_ID']},
{'action.type':['link_click'],
'post':['POST_ID'],
'post.wall':['PAGE_ID']}
```
mention (page) Mentioning of a Page.
Number of mentions of a page.

```
{'action.type':'mention',
'object':PAGE_ID'}
```
offsite_conversion (pixel) Number of offsite conversions,
and accumulated revenue.

```
{'action.type':
'offsite_conversion',
'fb_pixel':
'FACEBOOK_PIXEL_ID'}
```
photo_view (page) Viewing a photo.
Number of photo views,
video_plays or link_clicks of the
photos/videos/link-shares of any
or specific post on a page.

```
{'action.type':'photo_view',
'post.wall':PAGE_ID}
{'action.type':'photo_view',
'post':POST_ID,
'post.wall':PAGE_ID}
```

```
Action (Object TAction (Object Types)ypes)
```
```
Description, TDescription, Tracking specracking spec
detailsdetails TTracking or Conversion Specracking or Conversion Spec
```
```
post (post) Sharing a story.
Number of users post on a page.
```
```
{'action.type':'post',
'post.wall':PAGE_ID}
```
```
receive_offer (offer) Claiming an Offer.
Number of people who claimed a
specific offer.
```
```
{'action.type':'receive_offer',
'offer':OFFER_ID}
```
```
rsvp (event) Rsvping into an Event.
Number of RSVPs (yes and
maybe) to an event. Valid values
are yes, maybe, and no.
```
```
{'action.type':'rsvp',
'event': EVENT_ID},
```
```
{'action.type':'rsvp',
'response':'yes',
'event': EVENT_ID},
```
```
{'action.type':'rsvp',
'response':'no',
'event': EVENT_ID},
{'action.type':'rsvp',
'response':'maybe',
'event': EVENT_ID}
```
```
tab_view (page) Viewing a page tab
Number of views of a specific
page tab. If you want all tab views
just specify the page.
```
```
{'action.type':'tab_view',
'page.tab.name':
'PAGE_TAB_NAME',
'page':PAGE_ID},
{'action.type':'tab_view',
'page':PAGE_ID}
```
```
video_play (post) Watching a video.
Number of video watches for any
or a specific video post on a
page.
```
```
{'action.type':'video_play',
'post.wall':PAGE_ID},
{'action.type':'video_play',
'post':POST_ID,
'post.wall':PAGE_ID}
```
###### Examples


Pixel Tracking

Track the performance of different pixels in an ad by specifying the tracking pixel in the ad's
tracking_specs field. For example:

```
tracking_specs="[
{'action.type':'offsite_conversion','fb_pixel':1},
{'action.type':'offsite_conversion','fb_pixel':2},
{'action.type':'offsite_conversion','fb_pixel':3}
]"
```
This tracks the performance of pixels "1", "2" and "3". If you want to optimize for pixel "1" only, define
the promoted_object of the parent ad set. This is useful when you want to optimize for CHECKOUT,
but also want to track the number of REGISTRATION and ADD_TO_CART.

Pixels optimized by specifying the pixel ID in the _promoted_object_ are automatically tracked, so you
do not need to specify the same pixel in _tracking_specs_.

###### Using Conversion Specs

conversion_specs is a field for ad. It follows the format {'action.type':'{ACTION}', ... }
where each action applies to an object. Here are examples of conversion specs for various ad types:

```
Ad typeAd type Conversion SpecConversion Spec
```
```
Domain ad with social context {'action.type':'link_click', 'object':'URL'}
```
```
Page like ad {'action.type':'like', 'page':PAGE_ID}
```
```
Page post link ad {'action.type':['link_click'], 'post': [POST_ID],
'post.wall':[PAGE_ID]}
```
```
All other page post ads {'action.type':'post_engagement', 'post':'POST_ID',
'page':'PAGE_ID'}
```
```
Event ad {'action.type':'rsvp' , 'response':'yes',
'event':'EVENT_ID'}
```

```
Ad typeAd type Conversion SpecConversion Spec
```
```
Offer ad {'action.type':'receive_offer', 'offer':OFFER_ID,
'offer.creator':PAGE_ID}
```
```
Mobile app install ad N/A - cannot create such an ad with NONE
objective.
```
```
Mobile app engagement ads N/A - only CPC and CPM bid types are supported
```
```
Canvas app install ad N/A - cannot create such an ad with NONE objective
```
```
Canvas app engagment ad N/A - cannot create such an ad with NONE objective
```
Some conversion specs contain multiple actions that apply to a single object. These are called meta
specs. Below are examples:

```
ObjectObject Conversion SpecConversion Spec DescriptionDescription
```
```
Page {"action.type":
["page_engagement"], "page":
["PAGE_ID"]}
```
```
Times someone takes the
following actions in a specific
page: checkin, comment, follow,
like, page post like, mention, post
on page, share a post, answer a
question. Includes the number of
times someone performs these
actions in a specific page: view a
photo, play a native Facebook
video.
```
```
Page Post {"action.type":
["post_engagement"], "post":
["POST_ID"], "page":
["PAGE_ID"]}
```
```
Number of times somone takes
one of these actions in a specific
post: comment, follow question,
like, share, claim offer, answer
question. Includes the number of
times someone perform these
actions: click a link, page like,
view photo, play a video hosted
on Facebook or an inline Youtube
```

```
Marketing API
Overview
Get Started
Ad Creative
Bidding
Ad Rules Engine
Audiences
Insights API
Breakdowns
Limits & Best Practices
Tracking and Conversion Specs
Marketing Mix Modeling
Conversion Lift Measurement
Split Testing
Ad Volume
Offline Conversions
App Events API
Brand Safety and Suitability
Best Practices
Troubleshooting
API Reference
Changelog
```
```
ObjectObject Conversion SpecConversion Spec DescriptionDescription
video play. For non-embedded
videos use link_click.
```
Application {"action.type":
["app_engagement"],
"application":
["APPLICATION_ID"]}

```
Number of times someone
generate app_story or engage
with content as app_use,
app_install, or
credit_spent.
```
```
Subscribe to Changes
```

**Docs Graph API Overview Versioning**

On This Page

## Platform Versioning

Facebook's Platform supports versioning so that app builders can roll out changes over time. This
document explains how SDKs and APIs affected by versions and how to use those versions in your
requests.

###### Versioning

Not all APIs and SDKs share the same versioning system. For example, the Graph API is versioned with
a different pace and numbering compared to the Facebook SDK for iOS. All Facebook SDKs support
the ability to interact with different versions of our APIs. Multiple versions of APIs or SDKs can exist at
the same time with different functionality in each version.

What is the latest Graph API Version?

The latest Graph API version is v23.0

Why do we have versions?

The goal for having versioning is for developers building apps to be able to understand in advance
when an API or SDK might change. They help with web development, but are critical with mobile
development because a person using your app on their phone may take a long time to upgrade (or
may never upgrade).

Each version will remain for at least 2 years from release giving you a solid timeline for how long your
app will remain working, and how long you have to update it to newer versions.

Version Schedules

Each version is guaranteed to operate for at least two years. A version will no longer be usable two
years after the date that the subsequent version is released. For example, if API version v2.3 is
released on March 25th, 2015 and API version v2.4 is released August 7th, 2015 then v2.3 would expire
on August 7th, 2017, two years after the release of v2.4.


For APIs, once a version is no longer usable, any calls made to it will be defaulted to the next oldest,
usable version. Here is a timeline example:

For SDKs, a version will always remain available as it is a downloadable package. However, the SDK
may rely upon APIs or methods which no longer work, so you should assume an end-of-life SDK is no
longer functional.

You can find specific information about our version timelines, changes, and release dates on our
changelog page.

Will everything remain completely unchanged in a version?

Facebook does reserve the right to make changes in any API in a short period of time for issues related
to security or privacy. These changes don't happen often, but they do happen.

What happens if I don't specify a version for an API?

We refer to an API call made without specifying a version as an unversioned call. For example, let's say
the current version is v4.0. The call is as follows:

```
curl -i -X "https://graph.facebook.com/v4.0/{my-user-id}&access_token={access-to
```
The same unversioned call is as follows:

```
curl -i -X "https://graph.facebook.com/{my-user-id}&access_token={access-token}"
```
An unversioned call uses the version set in the app dashboard Upgrade API Version card under
Settings > Advanced. In following example, the version set in the app dashboard is v2.10 and the
unversioned call is equivalent to:


```
curl -i -X "https://graph.facebook.com/v2.10/{my-user-id}&access_token={access-t
```
We recommend you always specify the version where possible.

Limitations
You can not make unversioned API calls to the Facebook JavaScript SDK.

Can my app make calls to versions older than the current version?

You can specify older versions in your API calls as long as they are available and your app has made
calls to that version. For example, if your app was created after v2.0 was released and makes calls
using v2.0, it will be able to make calls to v2.0 until the version expires even after newer versions have
been released. If you created your app after v2.0 but did not make any calls until v2.2, your app will
not be able to make calls using v2.0 or to v2.1. It will only be able to make calls using v2.2 and newer
versions.

Marketing API Versioning

The Marketing API has its own versioning scheme. Both version numbers and their schedules are
different from the Graph API's state of things.

```
Learn more about Marketing API Versioning
```
###### Making Versioned Requests

Graph API

Whether core or extended, almost all Graph API endpoints are available through a versioned path.
We've a full guide to using versions with the Graph API in our Graph API quickstart guide.

Dialogs

Versioned paths aren't just true for API endpoints, they're also true for dialogs and social plugins. For
example, if you want to generate the Facebook Login dialog for a web app, you can prepend a version
number to the endpoint that generates the dialog:

```
https: //www.facebook.com/v23.0/dialog/oauth?
client_id={app-id}
```

```
&redirect_uri={redirect-uri}
```
Social Plugins

If you're using the HTML5 or xfbml versions of our social plugins, the version rendered will be
determined by the version specified when you're initialising the JavaScript SDK.

If you're inserting an iframe or plain link version of one of our plugins, you'd prepend the version
number to the source path of the plugin:

```
<iframe
src="//www.facebook.com/v23.0/plugins/like.php?href=https%3A%2F%2Fdevelopers.f
scrolling="no"
frameborder="0"
style="border:none; overflow:hidden; height:80px;"
allowTransparency="true" >
</iframe>
```
###### Making Versioned Requests from SDKs

If you're using the Facebook SDK for iOS, Android or JavaScript, making versioning calls is largely
automatic. Note that this is distinct from each SDKs own versioning system.

JavaScript

The JavaScript SDK can only use different API versions if you're using the sdk.js path.

If you're using FB.init() from the JavaScript SDK, you need to use the version parameter, like this:

```
FB.init({
appId : '{app-id}',
version : 'v23.0'
});
```
If you set the version flag in the init, then any calls to FB.api() will automatically have the version
prepended to the path that's called. The same is true for any dialogs for Facebook Login that happen
to get called. You will get the Facebook Login dialog for that version of the API.

If you need to, you can override a version by just prepending the version to the path of the endpoint in
the FB.api() call.


iOS

Each version of the Facebook SDK for iOS that's released is tied to the version that's available on the
date of release. This means that if you're upgrading to a new SDK you're also upgrading to the latest
API version as well (although you can manually specify any earlier, available API version with
[FBSDKGraphRequest initWithGraphPath]). The API version is listed with the release of each
version of the Facebook SDK for iOS.

Much like the JavaScript SDK, the version is prepended to any calls you make to the graph API through
the Facebook SDK for iOS. For example, if v2.7 was the most recent version of the API, the call
/me/friends - used in the following code sample - will actually call /v2.7/me/friends:

```
[[[ FBSDKGraphRequest alloc] initWithGraphPath:@"me/friends"
parameters:@{@"fields": @"cover,name,start_time"}]
startWithCompletionHandler:^( FBSDKGraphRequestConnection *connection, id res
(...)
}];
```
You can override the version of the call with [FBSDKGraphRequestConnection
overrideVersionPartWith].

Android

Each version of the Facebook SDK for Android that's released is tied to the version that's available on
the date of release. This means that if you're upgrading to a new SDK you're also upgrading to the
latest API version as well (although you can manually specify any earlier, available API version with
GraphRequest.setVersion()). The API version is listed with the release of each version of the
Facebook SDK for Android.

Much like the JavaScript SDK, the version is prepended to any calls you make to the graph API through
the Facebook SDK for Android. For example, if v2.7 was the most recent version of the API, the call
/me - used in the following code sample - will actually call /v2.7/me:

```
GraphRequest request = GraphRequest .newGraphPathRequest (
accessToken,
"/me/friends",
new GraphRequest. GraphJSONObjectCallback () {
@Override
public void onCompleted(
JSONObject object ,
GraphResponse response) {
// Application code
}
});
```

```
Graph API
Overview
Access Levels
Facebook SDKs
Paginated Results
Rate Limits
Versioning
Status, Support, and Tools
Get Started
Batch Requests
Debug Requests
Handle Errors
Field Expansion
Secure Requests
Upload a File or Video
Changelog
Features Reference
Permissions Reference
Reference
```
```
Bundle parameters = new Bundle ();
parameters.putString("fields", "id,name,link");
request.setParameters(parameters);
request.executeAsync();
```
You can override the version of the call with GraphRequest.setVersion().


